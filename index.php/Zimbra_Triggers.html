<!DOCTYPE html>

<!-- Mirrored from wiki.processmaker.com/index.php/Zimbra_Triggers by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:14:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="../themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="Zimbra_Triggers.html" />
<link rel="shortlink" href="../node/214.html" />
<title>Zimbra | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("../modules/system/system.base2af9.css?s743n7");
@import url("../modules/system/system.menus2af9.css?s743n7");
@import url("../modules/system/system.messages2af9.css?s743n7");
@import url("../modules/system/system.theme2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../modules/aggregator/aggregator2af9.css?s743n7");
@import url("../modules/comment/comment2af9.css?s743n7");
@import url("../modules/field/theme/field2af9.css?s743n7");
@import url("../modules/node/node2af9.css?s743n7");
@import url("../modules/search/search2af9.css?s743n7");
@import url("../modules/toc_filter/toc_filter2af9.css?s743n7");
@import url("../modules/user/user2af9.css?s743n7");
@import url("../modules/views/css/views2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../sites/all/modules/colorbox/styles/default/colorbox_style2af9.css?s743n7");
@import url("../modules/ctools/css/ctools2af9.css?s743n7");
@import url("../sites/all/modules/geshifilter/geshifilter2af9.css?s743n7");
@import url("../modules/panels/css/panels2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus_default2af9.css?s743n7");
@import url("../modules/fivestar/css/fivestar2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../themes/thecompany_responsive_theme/css/style2af9.css?s743n7");
@import url("../themes/thecompany_responsive_theme/css/media2af9.css?s743n7");
</style>
<script type="text/javascript" src="../modules/jquery_update/replace/jquery/1.9/jquery.min4b17.js?v=1.9.1"></script>
<script type="text/javascript" src="../misc/jquery.once7839.js?v=1.2"></script>
<script type="text/javascript" src="../misc/drupal2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.bgiframef195.js?v=2.1"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.hoverIntent1f6b.js?v=0.5"></script>
<script type="text/javascript" src="../modules/nice_menus/js/superfish099d.js?v=1.4.8"></script>
<script type="text/javascript" src="../modules/nice_menus/js/nice_menusc619.js?v=1.0"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/ui/external/jquery.cookie1683.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/misc/jquery.form.min97e5.js?v=2.69"></script>
<script type="text/javascript" src="../misc/ajax2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/jquery_update/js/jquery_update241d.js?v=0.0.1"></script>
<script type="text/javascript" src="../modules/toc_filter/toc_filter2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../misc/progress2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar.ajax2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-1.10.2.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/custom2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"qTCvt9YHXjVq-RMrh1280YOsJ-RKzJyieaRq-Kc-3zM","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','../../connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-214 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                            <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="https://wiki.processmaker.com/index.php/Zimbra_Triggers" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-ubkZarI6OrFUZNpd0wOALOWF1kyDQRPgULpH33NT0h4" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                                  <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
          </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="Zimbra" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="https://wiki.processmaker.com/index.php/Zimbra_Triggers" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give Zimbra 1/5</option><option value="40">Give Zimbra 2/5</option><option value="60" selected="selected">Give Zimbra 3/5</option><option value="80">Give Zimbra 4/5</option><option value="100">Give Zimbra 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2.7</span></span> <span class="total-votes">(<span >3</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-DS2MOFfg1pskasYeXoPsEcq0KVSjOBVFyHoiakh3Rxg" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">Steps to Getting the PREAUTHKEY from the Server (where ZCS 7.1.2 is installed) </a></li>
<li class="toc"><a href="#Steps_for_Executing_the_Triggers_in_Processmaker">Steps for Executing the Triggers in Processmaker</a></li>
<ol class="toc">
<li class="toc"><a href="#Examples">Examples</a></li>
<ol class="toc">
<li class="toc"><a href="#Create_Folder">Create Folder</a></li>
<li class="toc"><a href="#Create_Contacts">Create Contacts</a></li>
<li class="toc"><a href="#Create_Appointment">Create Appointment</a></li>
<li class="toc"><a href="#Create_Task">Create Task</a></li>
<li class="toc"><a href="#Get_Appointment_List">Get Appointment List</a></li>
<li class="toc"><a href="#Get_Task_List">Get Task List</a></li>
<li class="toc"><a href="#Get_Contact_List">Get Contact List</a></li>
<li class="toc"><a href="#Get_Zimbra_Folder">Get Zimbra Folder</a></li>
<li class="toc"><a href="#Upload_a_File">Upload a File</a></li>
<ol class="toc">
<li class="toc"><a href="#Uploading_a_File_from_the_Server">Uploading a File from the Server</a></li>
<li class="toc"><a href="#Uploading_a_File_from_an_Input_Document">Uploading a File from an Input Document</a></li>
</ol>
</div></div>

<h2><span id="Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">Steps to Getting the PREAUTHKEY from the Server (where ZCS 7.1.2 is installed) </span></h2>

<p>1. Connect to Zimbra Server using Putty.</p>
<p>2. Login as root user.</p>
<p>3. Change the user to Zimbra using</p>
<ul>
<li>su – zimbra</li>
<li>zmprov</li>
<li>prov&gt; gdpak domain.com</li>
</ul>
<p>- <strong>preAuthKey</strong>: Key will be displayed here.</p>
<p>4. The PreAuthKey value needs to be hard coded in the zimbra.class.php file.</p>
<p>“$this-&gt;_preAuthKey = preAuthKey “</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> preAuthKey has to be generated only once, when the Zimbra server is installed.</font></p>

<p>5. <strong>Also in Line Number 41 of zimbra.class.php</strong></p>
<p>protected $_server1 = 'ip-10-73-18-235.ec2.internal'; // hostname of zimbra server.</p>

<h2><span id="Steps_for_Executing_the_Triggers_in_Processmaker">Steps for Executing the Triggers in Processmaker</span></h2>
<p>1. Enter URL (Your Processmaker Instance).</p>
<p>2. <u><strong>User Id</strong></u> : of the Processmaker.</p>
<p>3. <u><strong>Password</strong></u> : of the Processmaker.</p>
<p>4. Select the Process to be Started.</p>

<p><img alt="" src="../sites/default/files/ZimbraProcess.png"></p>

<p>5. Click on New Case.</p>
<p>6. You will get a Screen as below.</p>
<p>7. Select the Trigger you want to Test/Execute and press Start.</p>

<p><img alt="" src="../sites/default/files/ZimbraStartCase.png" width="708"></p>

<h3><span id="Examples">Examples</span></h3>

<p>At the moment of the creation of the trigger some considerations must be followed:</p><p>1. To create the trigger, go to <strong>DESIGNER &gt; TRIGGERS</strong> look for <strong>Zimbra</strong> triggers and click on the <strong>+</strong> option to expand them:</p>

<p><img alt="" height="427" src="../sites/default/files/ZimbraTriggers.png" width="552"></p>

<p>Choose one from the list, on the image below <strong>Create a Folder</strong> trigger was selected:</p>

<p><img alt="" height="621" src="../sites/default/files/CreateAFolderTrigger.png" width="486"></p>

<p>Choose fields of the dynaform form each option to use as a Case Variable, but the field <strong>Server Key for SSO authentication</strong> must be completed manually with the key generated before.</p>

<h4><span id="Create_Folder">Create Folder</span></h4>

<p><tt>createZimbraFolder()</tt>: It creates a folder on Zimbra environment.</p>
<codeblock><i>string</i> <strong>checkIn</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> folderName, <i>string</i> color, <i>string</i> protocol)
</codeblock>

<p><strong>Parameter List:</strong></p>
<ul><li><tt><strong>ServerUrl</strong>:</tt> Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong>:</tt> Enter the UserName used to log in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when zimbra was installed.</li><li><tt><strong>folderName</strong>:</tt> Enter the Folder Name you wish to Create</li><li><tt><strong>Color</strong>:</tt> Select the Color you wish to give to the folder.</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<p><strong>OPTIONS for Parameters</strong></p>
<p><i>Folder Name:</i>Just the folder name if it is a parent folder</p>
<p>If you want to create a sub folder, just give the path as follows</p>

<codeblock>parentFolder/foldername_tobe_created
</codeblock>

<p><strong>Color:</strong></p>
<p>0 - None </p>
<p>1 - Blue </p>
<p>2 - Cyan </p>
<p>3 - Green </p>
<p>4 - Purple </p>
<p>5 - Red </p>
<p>6 - Yellow </p>
<p>7 - Pink </p>
<p>8 - Gray </p>
<p>9 - Orange </p>
<p><img alt="" height="205" src="../sites/default/files/AddFolderZimbraNew.png" width="505"></p>
<p>Click on Submit and in the <strong>createFolderResult</strong> variable you will get a message <i>“Folder Created Successfully”</i>.</p>
<p><img alt="" height="403" src="../sites/default/files/AddFolderZimbraDebug.png" width="291"></p>
<p>If Folder already exists then the following message will display <strong>Folder with name <tt><i>folderName</i></tt> already exists</strong>.</p>
<p><img alt="" height="507" src="../sites/default/files/AddFolderZimbraDebugExists.png" width="349"></p>
<ul><li>To check if the folder is actually created or not, login to Zimbra Webserver using the credentials and click on <strong>Briefcase Tab</strong> you can see the folder with the name and color you selected in the Trigger, on the Right Panel.</li></ul>
<p><img alt="" height="268" src="../sites/default/files/FolderZimbraCreated.png" width="433"></p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> If you are using Zimbra 8, briefcase is disabled by default, so it must be enabled, check <a href="https://forums.zimbra.org/viewtopic.php?t=7986" target="_blank">this instructions</a> to enable it.</font></p>
<h4><span id="Create_Contacts">Create Contacts</span></h4>
<p><tt>createZimbraContacts()</tt>: It creates a contact in Address Book inside Zimbra environment.</p>

<codeblock><i>string</i> <strong>checkIn</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> firstName, <i>string</i> lastName, <i>string</i> email, <i>string</i> otherData, <i>string</i> otherDataValue, <i>string</i> protocol)
</codeblock>

<ul><li><tt><strong>ServerUrl</strong>:</tt> Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong>:</tt> Enter the UserName used for loging in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when zimbra was installed.</li><li><tt><strong>firstName</strong>:</tt> Enter the First Name of the user whom you want to add in the Contacts List</li><li><tt><strong>lastName</strong>:</tt> Enter the Last Name of the user whom you want to add in the Contacts List</li><li><tt><strong>email</strong>:</tt> Enter the Email Address of the user whom you want to add in the Contacts List</li><li><tt><strong>otherData</strong> :</tt> Enter Other Details such as BirthDay/Anniversary/Custom</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<p>   <strong>OPTIONS for Parameters:</strong></p>
<p>   Other:</p>
<p>     - Birthday – YYYY-MM-DD</p>
<p>     - Anniversary – YYYY-MM-DD</p>
<p>     - Custom – Normal Sentence (plain text)</p>
<p><img alt="" height="233" src="../sites/default/files/CreateContactZimbra.png" width="429"></p>
<p>Click on Submit and in the <strong>createContactsResult</strong> variable you will get a message <i>“Contact Created Successfully”</i>.</p>
<p><img alt="" height="478" src="../sites/default/files/CreateSuccesfullyZimbra.png" width="331"></p>
<p>To check if the contact was actually created or not, login to Zimbra Webserver using the credentials and Click on <strong>AddressBook Tab</strong> you can see the contact with the attributes set in the Trigger, on the Main Content Area.</p>
<p><img alt="" height="315" src="../sites/default/files/ContactCreatedZimbra.png" width="723"></p>
<h4><span id="Create_Appointment">Create Appointment</span></h4>
<p><tt>createZimbraAppointment()</tt>: Creates an appointment on Zimbra environment.</p>

<codeblock><i>string</i> <strong>createZimbraAppointment</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> subject, <i>string</i> appointmentName, 
<i>string</i> friendlyName, <i>string</i> userEmail, <i>string</i> domainName, <i>string</i> schedule, <i>string</i> cutype, <i>string</i> allDay <i>string</i> isOrg, 
<i>string</i> rsvp, <i>string</i> atFriendlyName, <i>string</i> role, <i>string</i> location, <i>string</i> ptst, <i>string</i> startDate, <i>string</i> endDate, <i>string</i> tz, <i>string</i> protocol)
</codeblock>

<p><strong>Parameter List</strong></p>
<ul><li><tt><strong>ServerUrl</strong></tt>: Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong></tt>: Enter the UserName used for loging in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when zimbra was installed.</li><li><tt><strong>subject</strong></tt>: Enter the Mail Subject for the Appointment.</li><li><tt><strong>appointmentName</strong></tt>: Enter the Appointment Name.</li><li><tt><strong>friendlyName</strong></tt>: Enter the Organizer’s Name</li><li><tt><strong>userEmail</strong></tt>: Enter the Email Address of the Attendee.</li><li><tt><strong>domainName</strong></tt>: Enter the Domain name in which ZCS is installed.</li><li><tt><strong>schedule</strong></tt>: Select the Schedule of the Appointment.</li><li><tt><strong>cutype</strong></tt>: Select the type of Calendar.</li><li><tt><strong>allDay </strong></tt>: Select if the Appointment is an all Day or Not.</li><li><tt><strong>isOrg</strong></tt>: Select whether the appointment is Organized by the organizer or no.</li><li><tt><strong>rsvp</strong></tt>: Select whether you want RSVP or Not.</li><li><tt><strong>atFriendlyName</strong></tt>: Enter the display name of the Attendee.</li><li><tt><strong>role</strong></tt>: Select the role of the attendee.</li><li><tt><strong>location</strong></tt>: Enter the location where the Appointment is scheduled.</li><li><tt><strong>ptst</strong></tt>: Select the participation status of the Attendee.</li><li><tt><strong>startDate</strong></tt>: Select/Enter the Starting Date of the Appointment.</li><li><tt><strong>endDate</strong></tt>: Select/Enter the Ending Date of the Appointment.</li><li><tt><strong>tz</strong></tt>: Select the Time Zone.</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<p><strong>Return value:</strong></p>
<ul><li><tt><i>string</i> <strong>Result:</strong></tt> It returns if the appointment was created successfully or not.</li></ul>
<p><strong>OPTIONS for Parameters</strong></p>
<table> <tbody><tr><th>Parameters</th><th>Options</th></tr><tr><td><strong>Organizer Friendly Name</strong></td><td style="border:1px solid #5F9EEF;">User name used for logging in to Zimbra Server</td></tr><tr><td rowspan="4"><strong>Schedule</strong></td><td><strong>F</strong> – Free</td></tr><tr><td><strong>B</strong> – Busy</td></tr><tr><td><strong>T</strong> – Busy Tentative</td></tr><tr><td><strong>U</strong> – Busy Unavailable / Out of Office</td></tr><tr><td rowspan="2"><strong>Is organizer</strong></td><td><strong>0</strong> – No</td></tr><tr><td><strong>1</strong> – Yes</td></tr><tr><td rowspan="2"><strong>Is all day appointment</strong></td><td><strong>0</strong> – No</td></tr><tr><td><strong>1</strong> – Yes</td></tr><tr><td rowspan="4"><strong>Start Date</strong></td><td>If All Day is 1 then</td></tr><tr><td><strong>YYYY-MM-DD</strong></td></tr><tr><td>Else</td></tr><tr><td><strong>YYYY-MM-DD- HH:MM:SS</strong></td></tr><tr><td rowspan="4"><strong>End Date</strong></td><td>If All Day is 1 then</td></tr><tr><td><strong>YYYY-MM-DD</strong></td></tr><tr><td>Else</td></tr><tr><td><strong>YYYY-MM-DD- HH:MM:SS</strong></td></tr><tr><td rowspan="4"><strong>Time Zone</strong></td><td>If All Day is 1 then</td></tr><tr><td>Time zone parameter should be empty/null</td></tr><tr><td>Else</td></tr><tr><td>Contitent/CityName (that is used as reference for <a class="external text" href="http://php.net/manual/en/timezones.php">Time Zone universally</a>)</td></tr><tr><td rowspan="4"><strong>Role</strong></td><td><strong>CHA</strong> – Chair</td></tr><tr><td><strong>REQ</strong> – Required</td></tr><tr><td><strong>OPT</strong> – Optional</td></tr><tr><td><strong>NON</strong>– Non-participant</td></tr><tr><td rowspan="7"><strong>Participant Status</strong></td><td><strong>NE</strong> –Needs-action</td></tr><tr><td><strong>TE</strong> – Tentative</td></tr><tr><td><strong>AC</strong> – Accept</td></tr><tr><td><strong>DE</strong> – Declined</td></tr><tr><td><strong>DG</strong> – Delegated</td></tr><tr><td><strong>CO</strong> – Completed (todo)</td></tr><tr><td><strong>IN</strong> – In-process (todo)</td></tr><tr><td rowspan="5"><strong>Participant Status</strong></td><td><strong>IND</strong> – Individual</td></tr><tr><td><strong>GRO</strong> – Group</td></tr><tr><td><strong>RES</strong> – Resource</td></tr><tr><td><strong>ROO – Room</strong></td></tr><tr><td><strong>UNK</strong> – Unknown</td></tr><tr><td><strong>Attendees Friendly Name</strong></td><td>If more than one Attendee then use a semi-colon to separate the display name of the attendee.</td></tr><tr><td><strong>User Email</strong></td><td>If more than one Attendee then use a semi-colon to separate the email address of the attendee.</td></tr></tbody></table>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> The Options for <strong>Role, Chair</strong> and <strong>Non Participant</strong> do not appear in the Appointment.</font></p>
<p>The Options for <strong>Calendar User Type Group</strong> and <strong>Unknown</strong> do not Display Attendees email address in the Appointment.</p>
<p><img alt="" height="498" src="../sites/default/files/Appointment.png" width="499"></p>
<p>Click on <strong>Submit</strong> and in the <strong>createAppointmentResult</strong> variable you will get a message <i>“Appointment Created Successfully”</i>.</p>
<p><img alt="" height="529" src="../sites/default/files/CreateAppDebugZimbra1.png" width="313"></p>
<p>To check if the appointment was actually created or not, login to Zimbra Webserver using the credentials and Click on <strong>Calendar</strong> Tab you can see the appointment with the attributes you set in the Trigger, on the Main Content Area.</p>
<p><img alt="" height="367" src="../sites/default/files/AppCreatedZimbra1.png" width="1055"></p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> Don't forget to select the checkbox for the calendar in the left panel (deselecting it), and the select it again, the calendar draws properly again, and all the appointments will be refreshed.</font></p>
<p><img alt="" height="204" src="../sites/default/files/CheckboxCalendar.png" width="213"></p>
<h4><span id="Create_Task">Create Task</span></h4>
<p><tt><strong>createZimbraTask()</strong></tt> It creates a task inside Zimbra environment.</p>

<codeblock><i>string</i> <strong>createZimbraTask</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> subject, <i>string</i> taskName, <i>string</i> friendlyName, <i>string</i> userEmail, <i>string</i> priority, <i>string</i> allDay, <i>string</i> class, <i>string</i> location, <i>string</i> dueDate, <i>string</i> status, <i>string</i> percent, <i>string</i> protocol)
</codeblock>

<p><strong>Parameter List:</strong></p>
<ul><li><tt><strong>ServerUrl</strong>:</tt> Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong>:</tt> Enter the UserName used for loging in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when Zimbra was installed.</li><li><tt><strong>subject</strong>:</tt> Subject of the email.</li><li><tt><strong>Task Name</strong>:</tt> Enter the name of the task.</li><li><tt><strong>friendlyName</strong>:</tt> Friendly Name of the User.</li><li><tt><strong>userEmail</strong>:</tt> Enter the Email Address of the user.</li><li><tt><strong>priority</strong>:</tt> Select the priority of the task.</li><li><tt><strong>allDay</strong>:</tt> Select if the Task is an all Day or Not.</li><li><tt><strong>class</strong>:</tt> Select if the task class is public or private.</li><li><tt><strong>location</strong>:</tt> Enter Location of the Task.</li><li><tt><strong>dueDate</strong>:</tt> Select/Enter the Due Date of the Task.</li><li><tt><strong>status</strong>:</tt> Select the status of the Task.</li><li><tt><strong>percent</strong>:</tt> Percentage of the task Completed.</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<p><strong>OPTIONS for Parameters</strong></p>
<table> <tbody><tr><th>Parameters</th><th>Options</th></tr><tr><td rowspan="2"><strong>Is all day task</strong></td><td><strong>No</strong>- False</td></tr><tr><td><strong>Yes</strong> – True</td></tr><tr><td rowspan="2"><strong>Class</strong></td><td><strong>PUB</strong> – Public</td></tr><tr><td><strong>PRI</strong> - Private</td></tr><tr><td rowspan="3"><strong>Priority</strong></td><td><strong>1</strong> – High</td></tr><tr><td><strong>5</strong> – Normal</td></tr><tr><td><strong>10</strong> –Low</td></tr><tr><td><strong>Start Date</strong></td><td><strong>0 to 100</strong> - increment by 10</td></tr><tr><td rowspan="4"><strong>Status</strong></td><td><strong>COMP</strong> – Completed</td></tr><tr><td><strong>INPR</strong> – In Progress</td></tr><tr><td><strong>WAITING</strong> – Waiting on Some one</td></tr><tr><td><strong>DEFERRED</strong> – Deferred</td></tr><tr><td><strong>Due Date</strong></td><td>YYYY-MM-DD</td></tr></tbody></table>
<p>Form to be filled will be:</p>
<p><img alt="" height="371" src="../sites/default/files/CreateTaskZimbra.png" width="430"></p>
<p>Click on <strong>Submit</strong> and in the <strong>createTaskResult</strong> variable you will get a message <i>“Task Created Successfully”</i>.</p>
<p><img alt="" height="537" src="../sites/default/files/CreateTaskZimbraDebug1.png" width="311"></p>
<p>To check if the contact is actually created or not, login to Zimbra Webserver using the credentials and Click on <strong>Task Tab</strong> you can see the task with the attributes you set in the Trigger, on the Main Content Area.</p>
<p><img alt="" height="410" src="../sites/default/files/TaskCreatedZimbra.png" width="1071"></p>
<h4><span id="Get_Appointment_List">Get Appointment List</span></h4>
<p><tt><strong>getZimbraAppointmentList()</strong>:</tt></p>

<codeblock><i>string</i> <strong>getZimbraAppointmentList</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> protocol)
</codeblock>

<ul><li><tt><strong>ServerUrl</strong>:</tt> Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong>:</tt> Enter the UserName used to log in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when zimbra was installed.</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<p><img alt="" height="120" src="../sites/default/files/GetAppointmentZimbra.png" width="428"></p>
<p>Click on <strong>Submit</strong> and in the <strong>getAppointmentResult</strong> variable you will get a list of <i>“Appointments”</i> along with the respective Details.</p>
<p><img alt="" height="593" src="../sites/default/files/GetAppointmentZimbraDebug.png" width="343"></p>
<h4><span id="Get_Task_List">Get Task List</span></h4>
<p><tt><strong>getZimbraTaskList()</strong>:</tt> It gets the list of all tasks created at Zimbra environment.</p>

<codeblock><i>string</i> <strong>getZimbraAppointmentList</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> protocol)
</codeblock>

<ul><li><tt><strong>ServerUrl</strong>:</tt> Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong>:</tt> Enter the UserName used to log in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when zimbra was installed.</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<p><img alt="" height="120" src="../sites/default/files/GetAppointmentZimbra.png" width="428"></p>
<p>Click on <strong>Submit</strong> and in the <strong>getTaskResult</strong> variable you will get a list of <strong>Tasks</strong> along with the respective Details</p>
<p><img alt="" height="594" src="../sites/default/files/GetTaskListZimbraDebug.png" width="338"></p>
<h4><span id="Get_Contact_List">Get Contact List</span></h4>
<p><tt><strong>getZimbraContactList()</strong>:</tt> It gets the list of all contacts created at Zimbra environment.</p>

<codeblock><i>string</i> <strong>getZimbraContactList</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> protocol)
</codeblock>

<ul><li><tt><strong>ServerUrl</strong>:</tt> Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong>:</tt> Enter the UserName used to log in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when zimbra was installed.</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<p><img alt="" height="120" src="../sites/default/files/GetAppointmentZimbra.png" width="428"></p>
<p>Click on Submit and in the <strong>getContactsResult</strong> variable you will get a list of <strong>Contacts</strong> along with the respective Details.</p>
<p><img alt="" height="542" src="../sites/default/files/GettinContactList.png" width="301"></p>
<h4><span id="Get_Zimbra_Folder">Get Zimbra Folder</span></h4>
<p><tt><strong>getZimbraFolder()</strong>:</tt> It gets the characteristics of a specific folder created previously at Zimbra environment.</p>

<codeblock><i>string</i> <strong>getZimbraFolder</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> folderName, <i>string</i> protocol)
</codeblock>

<ul><li><tt><strong>ServerUrl</strong>:</tt> Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong>:</tt> Enter the UserName used to log in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when zimbra was installed.</li><li><tt><strong>folderName</strong></tt>: Name folder which characteristics will be listed.</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<p><strong>Return value:</strong></p>
<ul><li><tt><i>string</i> <strong>Result:</strong></tt> A serialize array.</li></ul>
<h4><span id="Upload_a_File">Upload a File</span></h4>
<p><tt><strong>uploadZimbraFile():</strong></tt> It uploads a file from a Process created on ProcessMaker to the Zimbra Environment.</p>

<codeblock><i>string</i> <strong>uploadZimbraFile</strong>(<i>string</i> ServerUrl, <i>string</i> username, <i>string</i> preAuthKey, <i>string</i> folderName, <i>string</i> fileLocation, <i>string</i> protocol)
</codeblock>

<p><strong>Parameter List:</strong></p>
<ul><li><tt><strong>ServerUrl</strong>:</tt> Enter the ipaddress/displayName used for loging in to Zimbra Server.</li><li><tt><strong>username</strong>:</tt> Enter the UserName used to log in to Zimbra Server.</li><li><tt><strong>preAuthKey</strong></tt>: Enter the <a href="Zimbra_Triggers.html#Steps_to_Getting_the_PREAUTHKEY_from_the_Server_.28where_ZCS_7.1.2_is_installed.29">key generated</a> when zimbra was installed.</li><li><tt><strong>folderName</strong>:</tt> Enter the Folder Name where file will be uploaded.</li><li><tt><strong>fileLocation</strong>:</tt> Enter the file location,on the server where the process is running. i.e <tt>/opt/ZimbraDocuments</tt> .</li><li><tt><strong>protocol</strong></tt>: Choose server protocol, either <tt>https</tt> or <tt>http</tt>.</li></ul>
<h5><span id="Uploading_a_File_from_the_Server">Uploading a File from the Server</span></h5>
<p>Is it possible to upload a file which is located on a Server.</p>
<p><img alt="" height="188" src="../sites/default/files/UploadZimbraNewUpload2.png" width="511"></p>
<p>By clicking on <strong>Submit</strong> on the ProcessMaker Debugger will display the result of the file, if it was uploaded correctly, the message <strong> The file has been uploaded Successfully</strong> will display:</p>
<p><img alt="" height="709" src="../sites/default/files/UploadZimbraDebbuger.png" width="302"></p>

<h5><span id="Uploading_a_File_from_an_Input_Document">Uploading a File from an Input Document</span></h5>

<p>This trigger has been improved for version 2.0.40 and later, now to upload files follow the requirements explained below:</p>
<ul><li>Create an <a href="2.0/Input_Documents.html" title="2.0/Input Documents">Input Document</a> which will allow to associate it with a file field created inside the Dynaform. It will be needed because to upload a file it needs to be stored in a path, so an input document stored a file in a path inside ProcessMaker installation</li></ul>

<ul><li>Add a <a href="2.0/Files.html" title="2.0/Files">File</a> field to browse the file directly from the computer, so inside your Dynaform create the field as follows associating the input document created previously:</li></ul>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">&lt;briefcase_filePath12 type=&quot;file&quot; required=&quot;0&quot; btn_cancel=&quot;Cancel&quot; input=&quot;6355245404fa7ceca39bf66066148704&quot; hint=&quot;&quot; readonly=&quot;0&quot; savelabel=&quot;0&quot;&gt;<br />
&nbsp; &nbsp; &lt;en&gt;Filepath&lt;/en&gt;<br />
&lt;/briefcase_filePath12&gt;</div></div>

<ul><li>Create text field which will be used as a field where the temporarily path will be saved. This field must be hidden on the Dynaform.</li></ul>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">&lt;briefcase_filePath type=&quot;text&quot; maxlength=&quot;64&quot; validate=&quot;Any&quot; required=&quot;0&quot; readonly=&quot;0&quot; size=&quot;15&quot; mode=&quot;edit&quot; btn_cancel=&quot;Cancel&quot; <br />
mask=&quot;&quot; strto=&quot;&quot; dependentfields=&quot;&quot; defaultvalue=&quot;&quot; hint=&quot;&quot; formula=&quot;&quot; function=&quot;&quot; sqlconnection=&quot;&quot; savelabel=&quot;0&quot;&gt;<br />
&nbsp; &lt;en&gt;Briefcase filePath&lt;/en&gt;<br />
&lt;/briefcase_filePath&gt;</div></div>

<ul><li>Create a text field where the server name will be filled:</li></ul>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">&lt;briefcase_server type=&quot;text&quot; maxlength=&quot;64&quot; validate=&quot;Any&quot; required=&quot;0&quot; readonly=&quot;0&quot; size=&quot;15&quot; mode=&quot;edit&quot; btn_cancel=&quot;Cancel&quot; <br />
mask=&quot;&quot; strto=&quot;&quot; dependentfields=&quot;&quot; defaultvalue=&quot;zimbra.colosa.net&quot; hint=&quot;&quot; formula=&quot;&quot; function=&quot;&quot; sqlconnection=&quot;&quot; savelabel=&quot;0&quot;&gt;<br />
&nbsp; &nbsp; &lt;en&gt;Server&lt;/en&gt;<br />
&nbsp; &lt;/briefcase_server&gt;<br />
&nbsp; </div></div>
  
<p>The server name could be set on default value as it is defined above.</p>
<ul><li>Now it's necessary create a field where the folder name where the file will be store, create a dropdown field with the name of folders created inside Zimbra:</li></ul>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">&lt;briefcase_folder type=&quot;dropdown&quot; required=&quot;0&quot; readonly=&quot;0&quot; mode=&quot;edit&quot; options=&quot;Array&quot; btn_cancel=&quot;Cancel&quot; dependentfields=&quot;&quot; <br />
defaultvalue=&quot;&quot; hint=&quot;&quot; sqlconnection=&quot;&quot; savelabel=&quot;0&quot;&gt; <br />
&nbsp; &nbsp;&lt;en&gt;Briefcase Folder&lt;option name=&quot;Briefcase&quot;&gt;Briefcase&lt;/option&gt;&lt;option name=&quot;PMTest01&quot;&gt;PMTest01&lt;/option&gt;&lt;option name=&quot;PMTest02&quot;&gt;PMTest02&lt;/option&gt;&lt;/en&gt;<br />
&nbsp;&lt;/briefcase_folder&gt;<br />
&nbsp;</div></div>
 
<ul><li>Now, create the following <a href="Zimbra_Triggers.html#Examples" title="Zimbra Triggers">Zimbra trigger</a>, where basically once the file is uploaded by the file filed created, a temporarily path is created with the file according with the process number to finally copy the entirely temporarily path into the new path inside ProcessMaker, as it is an input document the path will be:</li></ul>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">#find the assigned UID for the uploaded file:<br />
</span> <span style="color: #000088;">$invoiceFile</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>briefcase_filePath12<span style="color: #339933;">;</span><br />
&nbsp;<br />
&nbsp;<span style="color: #000088;">$app</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
&nbsp;<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID FROM CONTENT C, APP_DOCUMENT AD &quot;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot; WHERE C.CON_VALUE = '<span style="color: #006699; font-weight: bold;">$invoiceFile</span>' AND &quot;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot; AD.APP_DOC_UID = C.CON_ID AND AD.APP_UID = '<span style="color: #006699; font-weight: bold;">$app</span>'&quot;</span><span style="color: #339933;">;</span> <br />
&nbsp;<span style="color: #339933;">@@</span>query1 <span style="color: #339933;">=</span> <span style="color: #000088;">$query</span><span style="color: #339933;">;</span><br />
&nbsp;<br />
&nbsp;<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><span style="color: #666666; font-style: italic;">//obtain the file ID</span><br />
&nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$filePath</span> <span style="color: #339933;">=</span> PATH_DATA_SITE<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;files/<span style="color: #006699; font-weight: bold;">$app</span>/&quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'_1.'</span> <span style="color: #339933;">.</span> <a href="http://php.net/pathinfo"><span style="color: #990000;">pathinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$invoiceFile</span><span style="color: #339933;">,</span> PATHINFO_EXTENSION<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$filePathNew</span> <span style="color: #339933;">=</span> PATH_DATA_SITE<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;files/<span style="color: #006699; font-weight: bold;">$app</span>/&quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$invoiceFile</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <a href="http://php.net/copy"><span style="color: #990000;">copy</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$filePath</span><span style="color: #339933;">,</span><span style="color: #000088;">$filePathNew</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//takes the path of the file location and copy it into pm</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp;<br />
<span style="color: #339933;">@@</span>filepath1 <span style="color: #339933;">=</span> <span style="color: #000088;">$filePath</span><span style="color: #339933;">;</span><br />
&nbsp;<br />
<span style="color: #339933;">@@</span>briefcase_filePath <span style="color: #339933;">=</span> <span style="color: #000088;">$filePathNew</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//final path to be used</span></div></div>

<p>Then add the function uploadZimbraFile as follows:</p>

<p>@@briefcase_ar = uploadZimbraFile (@@briefcase_server,'admin','02296ee1c28994a28be0619dacf7ab012d57a7a265b91079b05b1a8b7b4441ba',@@briefcase_folder,@@briefcase_filePath);</p>
<p>Where the parameters are the following:</p>
<dl><dd><ul><li><strong>@@briefcase_server</strong> : the server name or server address it will depend on how the server is accessed. In this case a case variable taken from the Dynaform created previously.</li></ul></dd></dl>
<dl><dd><ul><li><strong>admin</strong>: Zimbra server's user.</li></ul></dd></dl>
<dl><dd><ul><li><strong>preAuthKey</strong>: key which is generated once Zimbra is installed.</li></ul></dd></dl>
<dl><dd><ul><li><strong>@@briefcase_folder</strong>: name of the folder where the file will be uploaded. In this case this is a case variable taken from the Dynaform created previously.</li></ul></dd></dl>
<dl><dd><ul><li><strong>@@briefcase_filePath</strong>: path where the file will be uploaded.</li></ul></dd></dl>

<p>Finally add this piece of code on the trigger</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/unlink"><span style="color: #990000;">unlink</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$filePathNew</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//delete the temporarily path</span></div></div>

<p><a href="2.0/Tasks.html#Adding_Triggers" title="2.0/Tasks">Assign it</a> <strong>Before Assignment</strong>.</p>
<ul><li>It's important to enable the ProcessMaker debugger to check if an error might be generated.</li></ul>
<p>Run a case, the dynaform will be displayed as follows:</p>
<p><img alt="" height="211" src="../sites/default/files/DynaformUploadFileZimbra.png" width="504"></p>
<ul><li>Click on <strong>Submit</strong> and in the <strong>@@briefcase_ar</strong> variable you will get a message <i>“The File has been uploaded successfully”</i>.</li></ul>
<p><img alt="" height="354" src="../sites/default/files/DebugUploadFile.png" width="384"></p>
<p>To check if the file is actually uploaded or not, login to <strong>Zimbra Webserver</strong> using the credentials and Click on <strong>Briefcase</strong> Tab and Click on the folder you provided as folder name in the trigger, you can see the file uploaded, on the Main Content Area.</p>
<p><img alt="" height="228" src="../sites/default/files/UploadedZimbraFileU_0.png" width="1165"></p></div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&amp;mt=8" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com/">
		<img src="../themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&amp;gid=3970335&amp;trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>

<!-- Mirrored from wiki.processmaker.com/index.php/Zimbra_Triggers by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:14:52 GMT -->
</html>
