<!DOCTYPE html>

<!-- Mirrored from wiki.processmaker.com/3.1/REST_API_Administration/Departments by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:23:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../../index.html" />
<link rel="shortcut icon" href="../../themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="Departments.html" />
<link rel="shortlink" href="../../node/748.html" />
<title>3.1 - 3.8 - REST API Administration - Departments | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("../../modules/system/system.base2af9.css?s743n7");
@import url("../../modules/system/system.menus2af9.css?s743n7");
@import url("../../modules/system/system.messages2af9.css?s743n7");
@import url("../../modules/system/system.theme2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../../modules/aggregator/aggregator2af9.css?s743n7");
@import url("../../modules/comment/comment2af9.css?s743n7");
@import url("../../modules/field/theme/field2af9.css?s743n7");
@import url("../../modules/node/node2af9.css?s743n7");
@import url("../../modules/search/search2af9.css?s743n7");
@import url("../../modules/toc_filter/toc_filter2af9.css?s743n7");
@import url("../../modules/user/user2af9.css?s743n7");
@import url("../../modules/views/css/views2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../../sites/all/modules/colorbox/styles/default/colorbox_style2af9.css?s743n7");
@import url("../../modules/ctools/css/ctools2af9.css?s743n7");
@import url("../../sites/all/modules/geshifilter/geshifilter2af9.css?s743n7");
@import url("../../modules/panels/css/panels2af9.css?s743n7");
@import url("../../modules/nice_menus/css/nice_menus2af9.css?s743n7");
@import url("../../modules/nice_menus/css/nice_menus_default2af9.css?s743n7");
@import url("../../modules/fivestar/css/fivestar2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../../themes/thecompany_responsive_theme/css/style2af9.css?s743n7");
@import url("../../themes/thecompany_responsive_theme/css/media2af9.css?s743n7");
</style>
<script type="text/javascript" src="../../modules/jquery_update/replace/jquery/1.9/jquery.min4b17.js?v=1.9.1"></script>
<script type="text/javascript" src="../../misc/jquery.once7839.js?v=1.2"></script>
<script type="text/javascript" src="../../misc/drupal2af9.js?s743n7"></script>
<script type="text/javascript" src="../../modules/nice_menus/js/jquery.bgiframef195.js?v=2.1"></script>
<script type="text/javascript" src="../../modules/nice_menus/js/jquery.hoverIntent1f6b.js?v=0.5"></script>
<script type="text/javascript" src="../../modules/nice_menus/js/superfish099d.js?v=1.4.8"></script>
<script type="text/javascript" src="../../modules/nice_menus/js/nice_menusc619.js?v=1.0"></script>
<script type="text/javascript" src="../../modules/jquery_update/replace/ui/external/jquery.cookie1683.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="../../modules/jquery_update/replace/misc/jquery.form.min97e5.js?v=2.69"></script>
<script type="text/javascript" src="../../misc/ajax2347.js?v=7.34"></script>
<script type="text/javascript" src="../../modules/jquery_update/js/jquery_update241d.js?v=0.0.1"></script>
<script type="text/javascript" src="../../modules/toc_filter/toc_filter2af9.js?s743n7"></script>
<script type="text/javascript" src="../../sites/all/modules/colorbox/js/colorbox2af9.js?s743n7"></script>
<script type="text/javascript" src="../../sites/all/modules/colorbox/styles/default/colorbox_style2af9.js?s743n7"></script>
<script type="text/javascript" src="../../sites/all/modules/google_analytics/googleanalytics2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../../www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../../misc/progress2347.js?v=7.34"></script>
<script type="text/javascript" src="../../modules/fivestar/js/fivestar.ajax2af9.js?s743n7"></script>
<script type="text/javascript" src="../../modules/fivestar/js/fivestar2af9.js?s743n7"></script>
<script type="text/javascript" src="../../themes/thecompany_responsive_theme/js/jquery-1.10.2.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../../themes/thecompany_responsive_theme/js/jquery-ui2af9.js?s743n7"></script>
<script type="text/javascript" src="../../themes/thecompany_responsive_theme/js/jquery-ui.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../../themes/thecompany_responsive_theme/js/custom2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"E-GGqqkr7Dh-HqkOX-HOfpMNkaEy6KHAZewRwowVA2Q","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','../../../connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-748 node-type-processmakerbpm">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../../index.html" title="Home"><img src="../../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="https://wiki.processmaker.com/3.1/REST_API_Administration/Departments" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-uwSSngDenPGk5AZwa6CsTnzp8jtf07hYd9aGOSfDfJY" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.1 - 3.8 - REST API Administration - Departments</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a  class="active-version">3.8</a></li><li><a  class="active-version">3.7</a></li><li><a  class="active-version">3.6</a></li><li><a  class="active-version">3.5</a></li><li><a  class="active-version">3.4</a></li><li><a  class="active-version">3.3</a></li><li><a  class="active-version">3.2</a></li><li><a  class="active-version">3.1</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.1 - 3.8 - REST API Administration - Departments" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-processmakerbpm">
    <div class="field field-name-field-how-useful-did-you-find-th field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="https://wiki.processmaker.com/3.1/REST_API_Administration/Departments" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.1 - 3.8 - REST API Administration - Departments 1/5</option><option value="40">Give 3.1 - 3.8 - REST API Administration - Departments 2/5</option><option value="60" selected="selected">Give 3.1 - 3.8 - REST API Administration - Departments 3/5</option><option value="80">Give 3.1 - 3.8 - REST API Administration - Departments 4/5</option><option value="100">Give 3.1 - 3.8 - REST API Administration - Departments 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2.8</span></span> <span class="total-votes">(<span >4</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-VcEIl4MpVfHtYIOd-1U9-_Ym1Yp0WpHMEyVbRaAhoFY" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><!--Departments-->

<h2><span class="mw-headline" id="Departments">Departments </span></h2>

<p>These are the REST endpoints to manage departments in ProcessMaker:</p>
<div style=" background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><strong>Contents:</strong> [<a href="#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b><div id="toc" ><ol class="toc">
<li class="toc"><a href="#Departments">Departments </a></li>
<ol class="toc">
<li class="toc"><a href="#Get_Departments_List:_GET_.2Fdepartments">Get Departments List: <code>GET /departments</code></a></li>
<li class="toc"><a href="#Get_Department_Information:_GET_.2Fdepartment.2F.7Bdep_uid.7D">Get Department Information: <code>GET /department/{dep_uid}</code></a></li>
<li class="toc"><a href="#Create_Department:_POST_.2Fdepartment">Create Department: <code>POST /department</code></a></li>
<li class="toc"><a href="#Update_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D">Update Department: <code>PUT /department/{dep_uid}</code></a></li>
<li class="toc"><a href="#Delete_Department:_DELETE_.2Fdepartment.2F.7Bdep_uid.7D">Delete Department: <code>DELETE /department/{dep_uid}</code></a></li>
<li class="toc"><a href="#Get_Users_List_for_Department:_GET_.2Fdepartment.2F.7Bdep_uid.7D.2Fassigned-user">Get Users List for Department: <code>GET /department/{dep_uid}/assigned-user</code></a></li>
<li class="toc"><a href="#Available_Users_List_for_Department:_GET_.2Fdepartment.2F.7Bdep_uid.7D.2Favailable-user">Available Users List for Department: <code>GET /department/{dep_uid}/available-user</code></a></li>
<li class="toc"><a href="#Assign_User_to_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Fassign-user.2F.7Busr_uid.7D">v.2.8: Assign User to Department: <code>PUT /department/{dep_uid}/assign-user/{usr_uid}</code></a></li>
<li class="toc"><a href="#v.3.0_Assign_User_to_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Fassign-user">Assign User to Department: <code>POST /department/{dep_uid}/assign-user</code></a></li>
<li class="toc"><a href="#Unassign_User_from_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Funassign-user.2F.7Busr_uid.7D">Unassign User from Department: <code>DELETE /department/{dep_uid}/unassign-user/{usr_uid}</code></a></li>
<li class="toc"><a href="#Set_Manager_for_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Fset-manager.2F.7Busr_uid.7D">Set Manager for Department: <code>PUT /department/{dep_uid}/set-manager/{usr_uid}</code></a></li>
</ol>
</div></div>


<h3><span class="mw-headline" id="Get_Departments_List:_GET_.2Fdepartments">Get Departments List: <code>GET /departments</code></span></h3>

<p><span id="GetListDepartments">Get a list of all the <font color="#483D8B">departments</font> in the workspace, including departments with "INACTIVE" status.</span></p>
<dl>
    <dd><b>GET</b> <font color="blue"> /api/1.0/{workspace}/departments </font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If successful, the HTTP status code is set to 200 and it returns a JSON array of department objects with the following structure:</p>

<table class="codecolumn">
    <tbody>
        <tr>
            <th><u>Element</u></th>
            <th><u>Description</u></th>
            <th><u>Example</u></th>
        </tr>
        <tr>
            <td>[</td>
            <td>Start array.</td>
        </tr>
        <tr>
            <td> {</td>
            <td>Start department object</td>
        </tr>
        <tr>
            <td> dep_uid,</td>
            <td>The department's unique ID.</td>
            <td>"11826545154db794ca22b52025081429"</td>
        </tr>
        <tr>
            <td> dep_parent,</td>
            <td>The unique ID of the parent department. If this is a top-level deparment, then set to "" (empty string).</td>
            <td>""</td>
        </tr>
        <tr>
            <td> dep_title,</td>
            <td>The department's title.</td>
            <td>"Human Resources"</td>
        </tr>
        <tr>
            <td> dep_status,</td>
            <td>The department's status, which can be "ACTIVE" or "INACTIVE".</td>
            <td>"ACTIVE"</td>
        </tr>
        <tr>
            <td> dep_manager,</td>
            <td>The department's supervisor, to whom the other members of the department and the supervisors of the
                subdepartments <a href="../../3.0/Tasks.html#Reports_To" title="3.0/Tasks">report</a>. By default, the
                supervisor is the first user assigned to the department.</td>
            <td>"14680180454ca4477335a27034362107"</td>
        </tr>
        <tr>
            <td> dep_ldap_dn,</td>
            <td>The user's <i>distinguished name</i> if imported from <a href="../../index.php/2.0/External_Authentication.html"
                    title="External User Authentication">LDAP</a>. If a normal user whose account wasn't imported,
                then then set to "" (empty string).</td>
            <td>""</td>
        </tr>
        <tr>
            <td> dep_last,</td>
            <td>If the last department object in the current array, then set to <b><code>1</code></b>. If not the last,
                then set to <b><code>0</code></b>.</td>
            <td>1</td>
        </tr>
        <tr>
            <td> dep_manager_username,</td>
            <td>The username of the department's supervisor.</td>
            <td>"liliana"</td>
        </tr>
        <tr>
            <td> dep_manager_firstname,</td>
            <td>The first name of the department's supervisor.</td>
            <td>"Liliana"</td>
        </tr>
        <tr>
            <td> dep_manager_lastname,</td>
            <td>The last name of the department's supervisor.</td>
            <td>"Ortiz"</td>
        </tr>
        <tr>
            <td> has_children,</td>
            <td>The number of subdepartments of this department.</td>
            <td>"2"</td>
        </tr>
        <tr>
            <td> dep_children</td>
            <td>A array of subdepartment objects for this department. If there are no subdepartments, then an empty
                array.</td>
            <td>[]</td>
        </tr>
        <tr>
            <td> },</td>
            <td>End the department object</td>
        </tr>
        <tr>
            <td> {...}</td>
            <td>Any additional department objects.</td>
        </tr>
        <tr>
            <td>]</td>
            <td>End array.</td>
        </tr>
    </tbody>
</table>

<p>For example:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#91;</span><br />
&nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; dep_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;11826545154db794ca22b52025081429&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_parent<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_title<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;Human &nbsp;Resources&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_status<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;ACTIVE&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_manager<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;14680180454ca4477335a27034362107&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_ldap_dn<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_last<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #CC0000;">0</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_manager_username<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;liliana&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_manager_firstname<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Liliana&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_manager_lastname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;Ortiz&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; has_children<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;2&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_children<span style="color: #339933;">:</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#91;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;54883398754db7993002ae1030708956&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_parent<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;11826545154db794ca22b52025081429&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_title<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;Crisis Management&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_status<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;ACTIVE&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_manager<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;91937880754ca444fc1e7b8079810120&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_ldap_dn<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_last<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #CC0000;">0</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_manager_username<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;sylvia&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_manager_firstname<span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;Sylvia&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_manager_lastname<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Herrero&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; has_children<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;0&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_children<span style="color: #339933;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;98568611654e60da3ad38c3043219561&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_parent<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;11826545154db794ca22b52025081429&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_title<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;Employee Activities&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_status<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;ACTIVE&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_manager<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;66065213554dd1feb48fe79020620851&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_ldap_dn<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_last<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #CC0000;">1</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_manager_username<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;johndoe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_manager_firstname<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;John&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_manager_lastname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;Doe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; has_children<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;0&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dep_children<span style="color: #339933;">:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#93;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; dep_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;48474671254e60d7d9ac448055325161&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_parent<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_title<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;Sales&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_status<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;INACTIVE&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_manager<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;00000000000000000000000000000001&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_ldap_dn<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_last<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #CC0000;">1</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_manager_username<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;admin&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_manager_firstname<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Administrator&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_manager_lastname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot; &quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; has_children<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;0&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; dep_children<span style="color: #339933;">:</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#93;</span></div></div>

<p><b>PHP Example:</b></p>

<p>This example prints out the directory structure of an organization with the supervisor's name in parentheses.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">&nbsp; &nbsp; <span style="color: #666666; font-style: italic;">//recursive function to print department's name and supervisor's username: function printDeptArray($aDepts, $level)</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#123;</span> <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDepts</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$oDept</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <span style="color: #666666; font-style: italic;">//print spaces for the level of department: for ($ii = 0; $ii</span><br />
&nbsp; &nbsp; <span style="color: #339933;">&lt;</span> <span style="color: #000088;">$level</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$ii</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot; &nbsp; &nbsp; &quot;</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">{$oDept-&gt;dep_title}</span> (<span style="color: #006699; font-weight: bold;">{$oDept-&gt;dep_manager_username}</span>)<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">has_children</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> printDeptArray<span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">dep_children</span><span style="color: #339933;">,</span> <span style="color: #000088;">$level</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span> <span style="color: #009900;">&#125;</span> <span style="color: #009900;">&#125;</span> <span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">//set to your ProcessMaker address $accessToken = isset($_COOKIE['access_token']) ? $_COOKIE['access_token']</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/departments&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer &quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$accessToken</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$aDepts</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$aEmptyDepartments</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDepts</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDepts</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error code:<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #006699; font-weight: bold;">{$aDepts-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$aDepts-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span> <span style="color: #b1b100;">else</span> <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code: <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span> <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;&lt;pre&gt;&quot;</span><span style="color: #339933;">;</span> &nbsp; <span style="color: #666666; font-style: italic;">//only necessary if used in a web page</span><br />
&nbsp; &nbsp;printDeptArray<span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDepts</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;&lt;/pre&gt;&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//only necessary if used in a web page }</span></div></div>
<p>For the departments shown in the example above, this script would print out:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">Human Resources (liliana)<br />
&nbsp; &nbsp; &nbsp;Crisis Management (sylvia)<br />
&nbsp; &nbsp; &nbsp;Employee Activities (johndoe)<br />
Sales (admin)</div></div>

<h3><span class="mw-headline" id="Get_Department_Information:_GET_.2Fdepartment.2F.7Bdep_uid.7D">Get Department Information: <code>GET /department/{dep_uid}</code></span></h3>

<p><span id="GetDataDeparment">Get information about a specified <font color="#483D8B">department</font></span><b>.</b></p>
<dl>
    <dd><b>GET</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Department UID</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If successful, the HTTP status code is 200 and a department object is returned like the <a href="#Get_Departments_List:_GET_.2Fdepartments">GET departments</a> endpoint, but it doesn't include the <b><code>dep_children</code></b> array. For example:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; dep_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;54883398754db7993002ae1030708956&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_parent<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;11826545154db794ca22b52025081429&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_title<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;Crisis Management&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_status<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;ACTIVE&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_manager<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;91937880754ca444fc1e7b8079810120&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_ldap_dn<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_last<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #CC0000;">0</span><span style="color: #339933;">,</span><br />
&nbsp; dep_manager_username<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;sylvia&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_manager_firstname<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Sylvia&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_manager_lastname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;Herrero&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; has_children<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;0&quot;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p>If unsuccessful, the HTTP status code is 400 or greater and a JSON error object is returned, such as:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: The department with dep_uid: '54883398754db7993002ae1030708957' does not exist.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><b>PHP Example:</b></p>

<p>This example prints out the department's title and its supervisor's full name:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<span style="color: #000088;">$deptId</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;54883398754db7993002ae1030708956&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to a department's unique ID</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/<span style="color: #006699; font-weight: bold;">$deptId</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer &quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$accessToken</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oDept</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error code: <span style="color: #006699; font-weight: bold;">{$oDept-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$oDept-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code: <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">{$oDept-&gt;dep_title}</span> Department supervisor: <span style="color: #006699; font-weight: bold;">{$oDept-&gt;dep_manager_firstname}</span> <span style="color: #006699; font-weight: bold;">{$oDept-&gt;dep_manager_lastname}</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span class="mw-headline" id="Create_Department:_POST_.2Fdepartment">Create Department: <code>POST /department</code></span></h3>

<p><span id="CreateDepartment">Create a new <font color="#483D8B">department</font>.</span></p>

<p><b>Permission:</b></p>
<dl><dd>The logged-in user needs to have the <a href="../Roles.html#PM_USERS">PM_USERS</a> permission in his/her role in order to be able to perform this action.</dd></dl>

<p><b>Structure:</b></p>
<dl>
    <dd><b>POST</b> <font color="blue">/api/1.0/{workspace}/department</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>POST Fields:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>dep_title</td>
                    <td>String</td>
                    <td>Department's title (name). Note that the department's title must be unique, so an error will
                        occur if trying to create a department title which already exists.</td>
                </tr>
                <tr>
                    <td>dep_parent</td>
                    <td>String</td>
                    <td><i>Optional.</i> Parent department's unique ID. If not included or set to "" (empty string),
                        then this is a top-level department.</td>
                </tr>
                <tr>
                    <td>dep_manager</td>
                    <td>String</td>
                    <td><i>Optional.</i> Department supervisor's unique ID. Users may only be assigned to ONE department,
                        so the supervisor may NOT be a member of another department.</td>
                </tr>
                <tr>
                    <td>dep_status</td>
                    <td>String</td>
                    <td><i>Optional.</i> Department status, which can be "ACTIVE" or "INACTIVE". If not included, then
                        "ACTIVE" by default.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If the new department was created, the HTTP status code is 201 (Created) and a department object is returned, like the following:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; dep_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;53126763454e62dc3284a75021962206&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_parent<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;48474671254e60d7d9ac448055325161&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_title<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;International Sales&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_status<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;ACTIVE&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_manager<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;61875549854e62c9c0bc823037974404&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_ldap_dn<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_last<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #CC0000;">0</span><span style="color: #339933;">,</span><br />
&nbsp; dep_manager_username<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;kendrick&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_manager_firstname<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Kendrick&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; dep_manager_lastname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;Hillman&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; has_children<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;0&quot;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<dl>
    <dd><b><font color="green">Note:</font></b> <font color="dimgrey">The <b><code>dep_last</code></b> element in the returned object is always set to 0 and is not correct. To check whether the new department is the last department at the current level, call the <a href="#Get_Departments_List:_GET_.2Fdepartments">GET /departments</a> or <a href="#Get_Department_Information:_GET_.2Fdepartment.2F.7Bdep_uid.7D">GET /department/{dep_uid}</a> endpoint and check the value of the <b><code>dep_last</code></b> element.</font></dd>
</dl>

<p>If an error occurred, the HTTP status code is 400 or greater and an error object is returned, like the following:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: The department with dep_parent: '48474671254e60d7d9ac448055325160' does not exist.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><br><b>PHP Example:</b></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$postParams</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'dep_title'</span> &nbsp; <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'International Sales'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'dep_manager'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'61875549854e62c9c0bc823037974404'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'dep_parent'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'48474671254e60d7d9ac448055325161'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'dep_status'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'ACTIVE'</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer <span style="color: #006699; font-weight: bold;">$accessToken</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HEADER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_TIMEOUT<span style="color: #339933;">,</span> <span style="color: #cc66cc;">30</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POSTFIELDS<span style="color: #339933;">,</span> <span style="color: #000088;">$postParams</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oDept</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">201</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Department '<span style="color: #006699; font-weight: bold;">{$oDept-&gt;dep_title}</span>' created with UID: <span style="color: #006699; font-weight: bold;">{$oDept-&gt;dep_uid}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error in <span style="color: #006699; font-weight: bold;">$apiServer</span>: <span style="color: #000099; font-weight: bold;">\n</span>Code: <span style="color: #006699; font-weight: bold;">{$oDept-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$oDept-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code: <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span class="mw-headline" id="Update_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D">Update Department: <code>PUT /department/{dep_uid}</code></span></h3>

<p><span id="UpdateDepartment">Update the information about a <font color="#483D8B">department</font></span>.</p>

<p><b>Permission:</b></p>
<dl><dd>The logged-in user needs to have the <a href="../Roles.html#PM_USERS">PM_USERS</a> permission in his/her role in order to be able to perform this action.</dd></dl>

<p><b>Structure:</b></p>
<dl>
    <dd><b>PUT</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Department UID.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Optional Fields:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>dep_title</td>
                    <td>String</td>
                    <td>The department title (name), which must be unique.</td>
                </tr>
                <tr>
                    <td>dep_parent</td>
                    <td>String</td>
                    <td>Unique ID of the parent department. Set to "" (empty string) to make a top-level department.</td>
                </tr>
                <tr>
                    <td>dep_manager</td>
                    <td>String</td>
                    <td>Unique ID of the department supervisor, to whom the members of the department [<a class="external autonumber"
                            href="../../3.0/Tasks.html#Reports_To">[1]</a>], as well as the supervisors
                        of subdepartments.</td>
                </tr>
                <tr>
                    <td>dep_status</td>
                    <td>String</td>
                    <td>Department status, which can be "ACTIVE" or "INACTIVE".</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If the department was successfully updated, then the HTTP status code is set to 200 and there is no return object. Otherwise, it is set to 400 and greater and returns an error object, such as:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: The user with dep_manager: '91937880754ca444fc1e7b8079810121' does not exist.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><b>PHP Example:</b></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<span style="color: #000088;">$deptId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;75740355754dd28ba73d7d6082172937&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//set to the unique ID of a department</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$postParams</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'dep_title'</span> &nbsp; <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'International Sales'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'dep_manager'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'91937880754ca444fc1e7b8079810121'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'dep_parent'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'48474671254e60d7d9ac448055325161'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'dep_status'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'INACTIVE'</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/&quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$deptId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer <span style="color: #006699; font-weight: bold;">$accessToken</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_CUSTOMREQUEST<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;PUT&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POSTFIELDS<span style="color: #339933;">,</span> <a href="http://php.net/http_build_query"><span style="color: #990000;">http_build_query</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$postParams</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oResult</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error Code: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code: <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span class="mw-headline" id="Delete_Department:_DELETE_.2Fdepartment.2F.7Bdep_uid.7D">Delete Department: <code>DELETE /department/{dep_uid}</code></span></h3>

<p><span id="DeleteDepartment">Delete a specified <font color="#483D8B">department</font>.</span> Note that it is not possible to delete a department while it has assigned users, so all the users must be unassigned from the department before deleting it.</p>

<p><b>Permission:</b></p>
<dl><dd>The logged-in user needs to have the <a href="../Roles.html#PM_USERS">PM_USERS</a> permission in his/her role in order to be able to perform this action.</dd></dl>

<p><b>Structure:</b></p>
<dl>
    <dd><b>DELETE</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Unique ID of the department to be deleted.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If the department was deleted, the HTTP status code is set to 200 and nothing is returned. Otherwise, it is set to 400 or greater and an error object is returned like the following:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: Department cannot be deleted while has assigned users.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><b>PHP Example:</b></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<span style="color: #000088;">$deptId</span> &nbsp; <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;75740355754dd28ba73d7d6082172937&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//set to a department ID to delete it</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/&quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$deptId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer <span style="color: #006699; font-weight: bold;">$accessToken</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_CUSTOMREQUEST<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;DELETE&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oResult</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error Code: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code: <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p><span style="font-weight: bold;font-size: 1.20em; color:#4C5255;"><u><b>Departments - Users:</b></u></span></p>

<h3><span class="mw-headline" id="Get_Users_List_for_Department:_GET_.2Fdepartment.2F.7Bdep_uid.7D.2Fassigned-user">Get Users List for Department: <code>GET /department/{dep_uid}/assigned-user</code></span></h3>

<p><span id="GetListAssiUsers">Get a list of the users assigned to a specified department.</span></p>
<dl>
    <dd><b>GET</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}/assigned-user</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Unique ID of department.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If successful, the HTTP status code is 200 and an array of user objects is returned, like the following:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#91;</span><br />
&nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; usr_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;91937880754ca444fc1e7b8079810120&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_username<span style="color: #339933;">:</span> &nbsp; <span style="color: #3366CC;">&quot;sylvia&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_firstname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;Sylvia&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_lastname<span style="color: #339933;">:</span> &nbsp; <span style="color: #3366CC;">&quot;Herrero&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_status<span style="color: #339933;">:</span> &nbsp; &nbsp; <span style="color: #3366CC;">&quot;VACATION&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_supervisor<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">true</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; usr_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #3366CC;">&quot;98883020754dd1f052ee1f1034403381&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_username<span style="color: #339933;">:</span> &nbsp; <span style="color: #3366CC;">&quot;janedoe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_firstname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;Jane&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_lastname<span style="color: #339933;">:</span> &nbsp; <span style="color: #3366CC;">&quot;Doe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_status<span style="color: #339933;">:</span> &nbsp; &nbsp; <span style="color: #3366CC;">&quot;ACTIVE&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_supervisor<span style="color: #339933;">:</span> <span style="color: #003366; font-weight: bold;">false</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#93;</span></div></div>

<p><b>PHP Example:</b></p>

<p>This example cycles through all the departments, looking for the username "janedoe" and prints out her department. First it calls the <a href="#Get_Departments_List:_GET_.2Fdepartments">GET /departments</a> endpoint to get a list of departments, then it calls the GET /department/{dep_uid}/assigned-user endpoint for each department and searches for the user.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//recursive function to search in the array of departments for a username in the list of members:</span><br />
<span style="color: #000000; font-weight: bold;">function</span> searchInDepts<span style="color: #009900;">&#40;</span><span style="color: #000088;">$username</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aDepts</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$apiServer</span><span style="color: #339933;">,</span> <span style="color: #000088;">$accessToken</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDepts</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$oDept</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/<span style="color: #006699; font-weight: bold;">{$oDept-&gt;dep_uid}</span>/assigned-user&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer <span style="color: #006699; font-weight: bold;">$accessToken</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aUsers</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error Code: <span style="color: #006699; font-weight: bold;">{$aUsers-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$aUsers-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: HTTP status code: <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$oUser</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$oUser</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">usr_username</span> <span style="color: #339933;">==</span> <span style="color: #000088;">$username</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #000088;">$oDept</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">has_children</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000088;">$oRet</span> <span style="color: #339933;">=</span> searchInDepts<span style="color: #009900;">&#40;</span><span style="color: #000088;">$username</span><span style="color: #339933;">,</span> <span style="color: #000088;">$oDept</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">dep_children</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$oRet</span><span style="color: #009900;">&#41;</span> &nbsp;<span style="color: #666666; font-style: italic;">//if username found, return the department object</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">return</span> <span style="color: #000088;">$oRet</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">return</span> <span style="color: #009900; font-weight: bold;">null</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//username not found</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;shttp://example.com&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<span style="color: #000088;">$usernameToFind</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;janedoe&quot;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set to a username to find</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/departments&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer &quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$accessToken</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aDepts</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDepts</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDepts</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error code: <span style="color: #006699; font-weight: bold;">{$aDepts-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$aDepts-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: HTTP status code: <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$oDeptFound</span> <span style="color: #339933;">=</span> searchInDepts<span style="color: #009900;">&#40;</span><span style="color: #000088;">$usernameToFind</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aDepts</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDeptFound</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;User '<span style="color: #006699; font-weight: bold;">$usernameToFind</span>' is a member of the <span style="color: #006699; font-weight: bold;">{$oDeptFound-&gt;dep_title}</span> Department.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;User '<span style="color: #006699; font-weight: bold;">$usernameToFind</span>' is not a member of any department.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span class="mw-headline" id="Available_Users_List_for_Department:_GET_.2Fdepartment.2F.7Bdep_uid.7D.2Favailable-user">Available Users List for Department: <code>GET /department/{dep_uid}/available-user</code></span></h3>

<p><span id="GetListAvUsers">Get a list of the available users, which can be assigned to a specified department. The list contains all users which aren't yet assigned to any department (including users which have "INACTIVE" and "VACATION" status).</span></p>
<dl>
    <dd><b>GET</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}/available-user</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Unique ID of department.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If successful, the HTTP status code is set to 200 and it returns an array of user objects, like the following:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#91;</span><br />
&nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; usr_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;43239845654e76a70ccb5a1012787498&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_username<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;sally&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_firstname<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Sally&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_lastname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;Slim&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_status<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #3366CC;">&quot;INACTIVE&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; usr_uid<span style="color: #339933;">:</span> &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;66065213554dd1feb48fe79020620851&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_username<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;johndoe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_firstname<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;John&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_lastname<span style="color: #339933;">:</span> &nbsp;<span style="color: #3366CC;">&quot;Doe&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; usr_status<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #3366CC;">&quot;ACTIVE&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#93;</span></div></div>

<p>Note that the user objects are not arranged in any particular order.</p>

<p>If an error occurred, the HTTP status code is set to 400 or greater, and an error object is returned, such as:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: The department with dep_uid: '54883398754db7993002ae1030708955' does not exist.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><b>PHP Example:</b></p>

<p>Get a list of available users and sort them in alphabetical order according to their full names and print them. All the user objects are placed in the $aUsersWithKeys array which has the full names as the keys and then they are sorted using the <a  href="http://php.net/manual/en/function.ksort.php" >ksort()</a> function.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<span style="color: #000088;">$deptId</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;54883398754db7993002ae1030708956&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to a department's unique ID</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/<span style="color: #006699; font-weight: bold;">$deptId</span>/available-user&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer &quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$accessToken</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aUsers</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oDept</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error code: <span style="color: #006699; font-weight: bold;">{$oDept-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$oDept-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code: <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aUsersWithKeys</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$oUser</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$fullname</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$oUser</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">usr_firstname</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' '</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$oUser</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">usr_lastname</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' ('</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$oUser</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">username</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">')'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aUsersWithKeys</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$fullname</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$oUser</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<a href="http://php.net/ksort"><span style="color: #990000;">ksort</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsersWithKeys</span><span style="color: #339933;">,</span> SORT_NATURAL <span style="color: #339933;">|</span> SORT_FLAG_CASE<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsersWithKeys</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$oUser</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #000088;">$oUser</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">usr_firstname</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' '</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$oUser</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">usr_lastname</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' ('</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$oUser</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">username</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;)<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<!--<h3><span class="mw-headline" id="Assign_User_to_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Fassign-user.2F.7Busr_uid.7D">v.2.8: Assign User to Department: <code>PUT /department/{dep_uid}/assign-user/{usr_uid}</code></span></h3>-->

<!--<p><span id="AssignUserDep">Assign a user to a specified department</span> in version 2.8. If using version 3.0 or later, see <a href="#v.3.0_Assign_User_to_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Fassign-user">POST /department/{dep_uid}/assign-user</a>. If the user is already a member of another department, the user will be transfered to the specified department. If reassigning a user who is a supervisor of another department, see this <a  href="http://bugs.processmaker.com/view.php?id=16850" >bug</a>.</p>
<dl>
    <dd><b>PUT</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}/assign-user/{usr_uid}</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Unique ID of department.</td>
                </tr>
                <tr>
                    <td>usr_uid</td>
                    <td>String</td>
                    <td>Unique ID of user to assign to the department.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If the user was assigned to the department, the HTTP status code is 200 and there is no return object. Otherwise, the HTTP status code is 400 or greater and there is a return object such as:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: The user with usr_uid: '43239845654e76a70ccb5a1012787499' does not exist.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><b>PHP Example:</b></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<span style="color: #000088;">$deptId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;75740355754dd28ba73d7d6082172937&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//set to the unique ID of a department</span><br />
<span style="color: #000088;">$userId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;14680180454ca4477335a27034362107&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//set to unique ID of user to add to department</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$postParams</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'usr_uid'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$userId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/<span style="color: #006699; font-weight: bold;">$deptId</span>/assign-user/<span style="color: #006699; font-weight: bold;">$userId</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer <span style="color: #006699; font-weight: bold;">$accessToken</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_CUSTOMREQUEST<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;PUT&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oResult</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error Code: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>-->

<h3><span class="mw-headline" id="v.3.0_Assign_User_to_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Fassign-user">Assign User to Department: <code>POST /department/{dep_uid}/assign-user</code></span></h3>

<p><span id="AssignUserDep">Assign a user to a specified department.</span> Take into acount the following considerations:</p>
<ul>
    <li>If the user is already a member of another department, the user is assigned to the specified department.</li>
    <li>If the department does not have a manager, the user is assigned to the specified department as a manager.</li>
</ul>

<p><b>Permission:</b></p>
<dl><dd>The logged-in user needs to have the <a href="../Roles.html#PM_USERS">PM_USERS</a> permission in his/her role in order to be able to perform this action.</dd></dl>

<p><b>Structure:</b></p>
<dl>
    <dd><b>POST</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}/assign-user</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>
        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Unique ID of department.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>POST Fields:</b></p>
<dl>
    <dd>
        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>usr_uid</td>
                    <td>String</td>
                    <td>Unique ID of a user to assign to the department.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>
<p>If the user was assigned to the department, the HTTP status code is <code>201</code> and there is no return object. Otherwise, the HTTP status code is <code>300</code> or greater and there is a return object such as:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: The user with usr_uid: '43239845654e76a70ccb5a1012787499' does not exist.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><b>PHP Example:</b></p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$oToken</span> <span style="color: #339933;">=</span> pmRestLogin<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;IAIERTORPBHIJZXEPNSUANXLKYPKODJU&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;71308091055cb7094026089092397336&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;amos&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;p4sSw0rD&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$userId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'55625662755e0e42fe83f41018778834'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$deptId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'49874200755e894791651c7054311031'</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$aVars</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'usr_uid'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$userId</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$url</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/<span style="color: #006699; font-weight: bold;">$deptId</span>/assign-user&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oRet</span> <span style="color: #339933;">=</span> pmRestRequest<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;POST&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$url</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aVars</span><span style="color: #339933;">,</span> <span style="color: #000088;">$oToken</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">access_token</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$oRet</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">status</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;User <span style="color: #006699; font-weight: bold;">$userId</span> added to the Accounting Department.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span class="mw-headline" id="Unassign_User_from_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Funassign-user.2F.7Busr_uid.7D">Unassign User from Department: <code>DELETE /department/{dep_uid}/unassign-user/{usr_uid}</code></span></h3>

<p><span id="UnAssignUserDep">Unassign a user from a department, so no longer a member of the department.</span> If unassigning a supervisor from a department, see this <a  href="http://bugs.processmaker.com/view.php?id=16854" >bug</a>.</p>

<p><b>Permission:</b></p>
<dl><dd>The logged-in user needs to have the <a href="../Roles.html#PM_USERS">PM_USERS</a> permission in his/her role in order to be able to perform this action.</dd></dl>

<p><b>Structure:</b></p>
<dl>
    <dd><b>DELETE</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}/unassign-user/{usr_uid}</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Unique ID of department.</td>
                </tr>
                <tr>
                    <td>usr_uid</td>
                    <td>String</td>
                    <td>Unique ID of the user to unassign from the department.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If the user was unassigned from the department, the HTTP status code is 200 and there is no return object. Otherwise, the HTTP status code is 400 or greater and there is a return object such as:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: The user with usr_uid: '43239845654e76a70ccb5a1012787499' does not exist.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><br><b>PHP Example:</b></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<span style="color: #000088;">$deptId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;75740355754dd28ba73d7d6082172937&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//set to the unique ID of a department</span><br />
<span style="color: #000088;">$userId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;14680180454ca4477335a27034362107&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//set to unique ID of user to remove from department</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$postParams</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'usr_uid'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$userId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/<span style="color: #006699; font-weight: bold;">$deptId</span>/unassign-user/<span style="color: #006699; font-weight: bold;">$userId</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer <span style="color: #006699; font-weight: bold;">$accessToken</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_CUSTOMREQUEST<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;PUT&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oResult</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error Code: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span class="mw-headline" id="Set_Manager_for_Department:_PUT_.2Fdepartment.2F.7Bdep_uid.7D.2Fset-manager.2F.7Busr_uid.7D">Set Manager for Department: <code>PUT /department/{dep_uid}/set-manager/{usr_uid}</code></span></h3>

<p><span id="SetManagerDep">Set a user to be the manager (supervisor) for a department. The other members of the department will <a href="../../3.0/Tasks.html#Reports_To" title="3.0/Tasks">report to</a> the manager, as well as the managers of subdepartments.</span> Note that this endpoint has a number of outstanding <a  href="http://bugs.processmaker.com/view.php?id=16857" >bugs</a>.</p>

<p><b>Permission:</b></p>
<dl><dd>The logged-in user needs to have the <a href="../Roles.html#PM_USERS">PM_USERS</a> permission in his/her role in order to be able to perform this action.</dd></dl>

<p><b>Structure:</b></p>
<dl>
    <dd><b>PUT</b> <font color="blue">/api/1.0/{workspace}/department/{dep_uid}/set-manager/{usr_uid}</font></dd>
</dl>

<p><b>URL Parameters:</b></p>
<dl>
    <dd>

        <table class="codecolumn">
            <tbody>
                <tr>
                    <th><b>Name</b></th>
                    <th><b>Type</b></th>
                    <th><b>Description</b></th>
                </tr>
                <tr>
                    <td>workspace</td>
                    <td>String</td>
                    <td>Workspace name</td>
                </tr>
                <tr>
                    <td>dep_uid</td>
                    <td>String</td>
                    <td>Unique ID of the department.</td>
                </tr>
                <tr>
                    <td>usr_uid</td>
                    <td>String</td>
                    <td>Unique ID of the user to become the the manager of the department.</td>
                </tr>
            </tbody>
        </table>
    </dd>
</dl>

<p><b>Result:</b></p>

<p>If the manager was successfully set, then the HTTP status code is 200 and there is no return object. Otherwise, the HTTP status code is 400 or greater and an error object is returned, like the following:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span><br />
&nbsp; error<span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; code<span style="color: #339933;">:</span> &nbsp; &nbsp;<span style="color: #CC0000;">400</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; message<span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Bad Request: The user with usr_uid: '43239845654e76a70ccb5a1012787499' does not exist.&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><b>PHP Example:</b></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;https://example.com&quot;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set to your ProcessMaker address</span><br />
<span style="color: #000088;">$deptId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;75740355754dd28ba73d7d6082172937&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//set to the unique ID of a department</span><br />
<span style="color: #000088;">$userId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;14680180454ca4477335a27034362107&quot;</span><span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//set to unique ID of user to become supervisor</span><br />
<br />
<span style="color: #000088;">$accessToken</span> <span style="color: #339933;">=</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$_COOKIE</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'access_token'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">:</span> getAccessToken<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$postParams</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'usr_uid'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$userId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$apiServer</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;/api/1.0/workflow/department/<span style="color: #006699; font-weight: bold;">$deptId</span>/set-manager/<span style="color: #006699; font-weight: bold;">$userId</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_HTTPHEADER<span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Authorization: Bearer <span style="color: #006699; font-weight: bold;">$accessToken</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_CUSTOMREQUEST<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;PUT&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oResult</span> <span style="color: #339933;">=</span> <a href="http://php.net/json_decode"><span style="color: #990000;">json_decode</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$statusCode</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_getinfo"><span style="color: #990000;">curl_getinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLINFO_HTTP_CODE<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$statusCode</span> <span style="color: #339933;">!=</span> <span style="color: #cc66cc;">200</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$oResult</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">error</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error Code: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;code}</span><span style="color: #000099; font-weight: bold;">\n</span>Message: <span style="color: #006699; font-weight: bold;">{$oResult-&gt;error-&gt;message}</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;Error: HTTP status code <span style="color: #006699; font-weight: bold;">$statusCode</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<!--Departments End--></div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&amp;mt=8" target="_blank">
								<img src="../../themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="../../themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com/">
		<img src="../../themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&amp;gid=3970335&amp;trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>

<!-- Mirrored from wiki.processmaker.com/3.1/REST_API_Administration/Departments by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:23:38 GMT -->
</html>
