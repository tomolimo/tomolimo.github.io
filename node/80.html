<!DOCTYPE html>

<!-- Mirrored from wiki.processmaker.com/node/80 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:50:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="../themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../index.php/2.0/Grids.html" />
<link rel="shortlink" href="80.html" />
<title>2.0 - Grids | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("../modules/system/system.base2af9.css?s743n7");
@import url("../modules/system/system.menus2af9.css?s743n7");
@import url("../modules/system/system.messages2af9.css?s743n7");
@import url("../modules/system/system.theme2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../modules/aggregator/aggregator2af9.css?s743n7");
@import url("../modules/comment/comment2af9.css?s743n7");
@import url("../modules/field/theme/field2af9.css?s743n7");
@import url("../modules/node/node2af9.css?s743n7");
@import url("../modules/search/search2af9.css?s743n7");
@import url("../modules/toc_filter/toc_filter2af9.css?s743n7");
@import url("../modules/user/user2af9.css?s743n7");
@import url("../modules/views/css/views2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../sites/all/modules/colorbox/styles/default/colorbox_style2af9.css?s743n7");
@import url("../modules/ctools/css/ctools2af9.css?s743n7");
@import url("../sites/all/modules/geshifilter/geshifilter2af9.css?s743n7");
@import url("../modules/panels/css/panels2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus_default2af9.css?s743n7");
@import url("../modules/fivestar/css/fivestar2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../themes/thecompany_responsive_theme/css/style2af9.css?s743n7");
@import url("../themes/thecompany_responsive_theme/css/media2af9.css?s743n7");
</style>
<script type="text/javascript" src="../modules/jquery_update/replace/jquery/1.9/jquery.min4b17.js?v=1.9.1"></script>
<script type="text/javascript" src="../misc/jquery.once7839.js?v=1.2"></script>
<script type="text/javascript" src="../misc/drupal2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.bgiframef195.js?v=2.1"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.hoverIntent1f6b.js?v=0.5"></script>
<script type="text/javascript" src="../modules/nice_menus/js/superfish099d.js?v=1.4.8"></script>
<script type="text/javascript" src="../modules/nice_menus/js/nice_menusc619.js?v=1.0"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/ui/external/jquery.cookie1683.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/misc/jquery.form.min97e5.js?v=2.69"></script>
<script type="text/javascript" src="../misc/ajax2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/jquery_update/js/jquery_update241d.js?v=0.0.1"></script>
<script type="text/javascript" src="../modules/toc_filter/toc_filter2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../misc/progress2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar.ajax2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-1.10.2.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/custom2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"WV0n5IalM09LWbjMFsSt-20FDt6FvQALuMM-l5vTJIk","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','../../connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-80 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                            <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="https://wiki.processmaker.com/node/80" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-Pg0aIL4uxTzuQ7u-8UwW6dlUZRralES1S9NXkHaMBeQ" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">2.0 - Grids</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.1/Grid_Control.html" class="">3.8</a></li><li><a href="../3.1/Grid_Control.html" class="">3.7</a></li><li><a href="../3.1/Grid_Control.html" class="">3.6</a></li><li><a href="../3.1/Grid_Control.html" class="">3.5</a></li><li><a href="../3.1/Grid_Control.html" class="">3.4</a></li><li><a href="../3.1/Grid_Control.html" class="">3.3</a></li><li><a href="../3.1/Grid_Control.html" class="">3.2</a></li><li><a href="../3.1/Grid_Control.html" class="">3.1</a></li><li><a href="../3.0/Grid_Control.html" class="">3.0</a></li><li><a  class="active-version">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="2.0 - Grids" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="https://wiki.processmaker.com/node/80" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 2.0 - Grids 1/5</option><option value="40">Give 2.0 - Grids 2/5</option><option value="60" selected="selected">Give 2.0 - Grids 3/5</option><option value="80">Give 2.0 - Grids 4/5</option><option value="100">Give 2.0 - Grids 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2.6</span></span> <span class="total-votes">(<span >5</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-6XaN7ICsKl2M79gEKUA38iNMJoB9MDS1cvIefRe2pmQ" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="#Overview">Overview</a></li>
<li class="toc"><a href="#Creating_a_Grid">Creating a Grid</a></li>
<li class="toc"><a href="#Grid_Editor_Toolbar">Grid Editor Toolbar</a></li>
<li class="toc"><a href="#Grid_Properties_in_a_Dynaform">Grid Properties in a Dynaform</a></li>
<ol class="toc">
<li class="toc"><a href="#Grid_property">Grid property</a></li>
<li class="toc"><a href="#Add_new_rows">Add new rows</a></li>
<li class="toc"><a href="#Delete_rows">Delete rows</a></li>
<li class="toc"><a href="#Define_a_grid_as_view_mode">Define a grid as view mode</a></li>
<li class="toc"><a href="#Aggregate_functions">Aggregate functions</a></li>
<li class="toc"><a href="#Formulas">Formulas</a></li>
</ol>
<li class="toc"><a href="#Redisplaying_Grid_Data">Redisplaying Grid Data</a></li>
<li class="toc"><a href="#HTML_in_Grids">HTML in Grids</a></li>
<li class="toc"><a href="#Conditions_Editor_Tab">Conditions Editor Tab</a></li>
<li class="toc"><a href="#Accessing_Grids_with_JavaScript">Accessing Grids with JavaScript</a></li>
<ol class="toc">
<li class="toc"><a href="#Examples">Examples</a></li>
<li class="toc"><a href="#Hiding_a_Grid">Hiding a Grid</a></li>
<li class="toc"><a href="#Hiding.2FShowing_a_grid_column">Hiding/Showing a grid column</a></li>
<li class="toc"><a href="#Summing_a_grid_column">Summing a grid column</a></li>
<li class="toc"><a href="#Advanced_calculations_with_grid_columns">Advanced calculations with grid columns</a></li>
<li class="toc"><a href="#Changing_the_color_to_draw_attention">Changing the color to draw attention</a></li>
<li class="toc"><a href="#Adding_Grid_Rows">Adding Grid Rows</a></li>
<li class="toc"><a href="#Executing_Code_When_Adding_a_Row">Executing Code When Adding a Row</a></li>
<li class="toc"><a href="#Deleting_Grid_Rows">Deleting Grid Rows</a></li>
<li class="toc"><a href="#Executing_Code_When_Deleting_a_Row">Executing Code When Deleting a Row</a></li>
<li class="toc"><a href="#Changing_the_Numbers_Labeling_Rows">Changing the Numbers Labeling Rows</a></li>
<li class="toc"><a href="#Setting_Styles_of_Grid_Fields_in_a_Column">Setting Styles of Grid Fields in a Column</a></li>
<li class="toc"><a href="#Using_Row_Numbers">Using Row Numbers</a></li>
<li class="toc"><a href="#Maximum_Number_of_Rows_in_a_Grid">Maximum Number of Rows in a Grid</a></li>
</ol>
<li class="toc"><a href="#Accessing_Grids_with_PHP">Accessing Grids with PHP</a></li>
<ol class="toc">
<li class="toc"><a href="#Reading_from_Grids">Reading from Grids</a></li>
<li class="toc"><a href="#Looping_through_a_Grid">Looping through a Grid</a></li>
<li class="toc"><a href="#Writing_to_Grids">Writing to Grids</a></li>
<li class="toc"><a href="#Appending_New_Rows">Appending New Rows</a></li>
<li class="toc"><a href="#Inserting_New_Rows">Inserting New Rows</a></li>
<li class="toc"><a href="#Removing_Rows_From_Grids">Removing Rows From Grids</a></li>
<li class="toc"><a href="#Clearing_a_Grid">Clearing a Grid</a></li>
<li class="toc"><a href="#Copying_Grids">Copying Grids</a></li>
<li class="toc"><a href="#Populating_Whole_Grids">Populating Whole Grids</a></li>
<li class="toc"><a href="#Setting_a_Fixed_Number_of_Empty_Rows">Setting a Fixed Number of Empty Rows</a></li>
<li class="toc"><a href="#Populating_Grids_with_a_Database_Query">Populating Grids with a Database Query</a></li>
<li class="toc"><a href="#Saving_Grids_to_an_External_Database">Saving Grids to an External Database</a></li>
</ol>
<li class="toc"><a href="#Using_Grids_as_Serialized_Strings">Using Grids as Serialized Strings</a></li>
<ol class="toc">
<li class="toc"><a href="#Saving_Serialized_Grids_to_Databases">Saving Serialized Grids to Databases</a></li>
<li class="toc"><a href="#Passing_Serialized_Grids_to_a_DynaForm">Passing Serialized Grids to a DynaForm</a></li>
<li class="toc"><a href="#Passing_Database_Queries_to_a_DynaForm">Passing Database Queries to a DynaForm</a></li>
<li class="toc"><a href="#Populating_Dropdowns_from_a_Serialized_Grid_or_Query">Populating Dropdowns from a Serialized Grid or Query</a></li>
<li class="toc"><a href="#Populating_Grids_from_a_Serialized_Grid_or_Query">Populating Grids from a Serialized Grid or Query</a></li>
</ol>
</div></div>

<h2><span id="Overview">Overview</span></h2>

<p>The <strong> <img alt="" height="23" src="../sites/default/files/DynaFormGrid2_0.png"> grid object</strong> embeds an existing grid form inside a master (normal) form. Grids are a type of form which presents data in a tabular format consisting of columns and rows. The grid object in a master form offers controls to add and delete rows in a grid. It also displays the results of <a href="#Aggregate_functions">aggregate functions</a> (such as the <strong>sum</strong> function) in the grid form.</p><p>Note that the grid form must <u>already exist</u> before it can be embedded in the master form, so create the grid form <i>before</i> trying to define a grid object in a master form. The grid object adds certain controls, but the width and appearance of grids are defined in their separate form.</p><p>Any changes to grids, such as inputting data and adding and deleting rows, are not saved until the master form is submitted (either by clicking a <a href="../index.php/2.0/Buttons.html#Submit" title="2.0/Buttons">submit</a> button or by clicking the <strong>Next Step</strong> link in a form whose <a href="../index.php/2.0/DynaForms.html#NextStepLink" title="2.0/DynaForms">Next Step Link</a> property is set to the option "Save &amp; Continue").</p><p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>It is not possible to add more than 30000 rows in a Grid</strong><i><strong>.</strong></i></span></p><h2><span id="Creating_a_Grid">Creating a Grid</span></h2><ul><li>Go to <strong>DYNAFORMS</strong></li></ul><ul><li>Select <strong>Blank Dynaform</strong> and a new window with the information of the new Dynaform will display. On the dropdown select<strong>Grid</strong> as the image below</li></ul><p><img alt="" height="351" src="../sites/default/files/Grids_create.png"></p><p>Click <strong>Save and Open</strong> if the new grid will be edited or save to edit the grid later.</p><h2><span id="Grid_Editor_Toolbar">Grid Editor Toolbar</span></h2><p>The Grid Editor provides the same toolbar than the Dynaform editor toolbar, the difference is the grid editor toolbar has less buttons to add. Similarly to the Dynaform editor, this grid editor manage objects so they can be added whether using the Preview mode, editing code, viewing the field list, or setting the form properties. Unlike the Process Map toolbar which uses drag-and-drop icons, the icons in the Grid Editor toolbar are activated by a single mouse click over the icons.</p><p><img alt="" height="26" src="../sites/default/files/GridEditorToolbarUp.png" width="442"></p><p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>Check on each description the version on which each object is available.</strong></span></p><ul><li><strong><img alt="" height="28" src="../sites/default/files/DynaFormSave.gif" width="28"> </strong><strong>Save.</strong> Click to save the Grid.</li><li><img alt="" height="24" src="../sites/default/files/DynaFormSaveAs.png" width="34"> <strong>Save as.</strong> Click to save a copy of the Grid.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormText.gif" width="25"> </strong><strong>Text Field.</strong> Add a <a href="../index.php/2.0/Textboxes_and_Textareas.html#Textbox" title="2.0/Textboxes and Textareas">textbox</a> to the Grid, which is designed to input one line of text.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormCurrency.gif" width="25"> </strong><strong>Currency.</strong> Add a <a href="../index.php/2.0/Textboxes_and_Textareas.html#Currency" title="2.0/Textboxes and Textareas">currency</a> textbox to the Grid, which restricts the input to numbers.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormPercentage.gif" width="25"> </strong><strong>Percentage.</strong> Add a <a href="../index.php/2.0/Textboxes_and_Textareas.html#Percentage" title="2.0/Textboxes and Textareas">percentage</a> textbox to the Grid, which restricts the input to numbers to form percentages.</li><li><strong><img alt="" height="24" src="../sites/default/files/DynaFormTextarea.gif" width="24"> </strong> <strong>Textarea.</strong> Add a <a href="../index.php/2.0/Textboxes_and_Textareas.html#Textarea" title="2.0/Textboxes and Textareas">textarea</a> to the Grid, which is designed to input more than one line of text into a form. The number of lines and width of the textarea can be specified, and scrollbars will automatically appear to allow for greater space if more text is entered.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormDropdown.gif"> </strong><strong>Dropdown.</strong> Add a <a href="../index.php/2.0/Dropdown_Boxes_and_Listboxes.html#Dropdown" title="2.0/Dropdown Boxes and Listboxes">dropdown</a> box to the Grid. Dropdown boxes allow the user to select from a list of predetermined options which <i>drop down</i>. They occupy less space than a listbox, but only allow a single value to be selected.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormYesno.gif"> </strong><strong>yesno</strong>. Add a <a href="../index.php/2.0/Dropdown_Boxes_and_Listboxes.html#YesNo" title="2.0/Dropdown Boxes and Listboxes">Yes/No</a> dropdown box, which is designed to present a binary "Yes"/"No" option to the user. Unlike checkboxes, Yes/No dropdowns can be used in grids.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormDate2_0.png"></strong> <strong>Date.</strong> Add a <a href="../index.php/2.0/Dates.html#Date" title="2.0/Dates">date selector</a> to the Grid, which does not allow the user to directly enter the date like a normal textbox. Instead clicking on the box opens a calendar where the user can select the date. This helps standardize date formats and eliminates many careless errors. Date selectors also offer another button to clear the date.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormHidden.gif"> </strong><strong>Hidden.</strong> Add a <a href="../index.php/2.0/Other_DynaForm_Fields.html#Hidden" title="2.0/Other DynaForm Fields">hidden</a> field to the DynaForm. Hidden fields allow for unseen variables to be added to the DynaForm. They are often used when needed to pass extra data to JavaScripts or when needing a space to store data which shouldn't be seen by the user.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormLink.gif"> </strong><strong>Link.</strong> Add a <a href="../index.php/2.0/Links.html#Link" title="2.0/Links">link</a> to the Grid. Links can either be hyperlinks to external web pages, or an internal link to another DynaForm.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormFile.gif"> </strong><strong>File.</strong> Add a <a href="../index.php/2.0/Files.html#File" title="2.0/Files">file</a> to the Grid, which provides a dialog box to upload a file. The files can either be an Input Document (since version 1.2-2467) or an undetermined file.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormCheckbox.gif"> </strong><strong>Checkbox.</strong> Available from version <strong>2.0.38</strong>. Add a <a href="../index.php/2.0/Checkboxes_and_Radio_Buttons.html#Checkbox" title="2.0/Checkboxes and Radio Buttons">checkbox</a> field to the Grid. Checkboxes offer a binary on/off choice and are square in appearance with a check mark when activated (on). Checkboxes are convenient for allowing users to activate an option with a single click of the mouse and they are recommended over Yes/No dropdown boxes in most cases.</li><li><strong><img alt="" height="16" src="../sites/default/files/DynaFormsSuggest2_0.png" width="15"> </strong><strong>Suggest Box.</strong> Available from version <strong>2.5</strong>. Add a <a href="../index.php/2.0/Textboxes_and_Textareas.html#Suggest_box" title="2.0/Textboxes and Textareas">suggest box</a> to the Grid. A Suggest box allows any value to be entered into the field like a traditional textbox, but they also provide a list of suggested values which is filtered as the user types.</li><li><strong><img alt="" height="23" src="../sites/default/files/DynaFormFile.gif"> </strong><strong>Files.</strong> Available from version <strong>2.5</strong>. File objects allow files to be uploaded to a DynaForm and attached to the current case. Clicking on a file object opens a dialog box to upload a file. For each row added on a grid a new File could be added.</li></ul><h2><span id="Grid_Properties_in_a_Dynaform">Grid Properties in a Dynaform</span></h2><ul><li><a href="../index.php/2.0/Common_Field_Properties.html#Field_Name" title="2.0/Common Field Properties">Field Name</a><font color="red"> *Required</font></li><li><a href="#Grid_property">Grid</a></li><li><a href="#Add_new_rows">Add new rows</a></li><li><a href="#Delete_rows">Delete rows</a></li></ul><h3><span id="Grid_property">Grid property</span></h3><p>Selects an existing grid form to embed in the master (normal) form.</p><p><strong>XML Definition:</strong></p><dl><dd><tt>&lt;<i>NAME</i> <strong>type="grid" xmlgrid="<i>PROCESS-UID/GRID-FORM-UID</i>"</strong> ...&gt;...<!--<i-->NAME&gt;</tt></dd></dl>

<h3><span id="Add_new_rows">Add new rows</span></h3><p>If activated, this option places a <strong>New</strong> link in the upper left corner of the grid, which allows users to add new rows (records) to the grid form.</p><p><strong>XML Definition:</strong></p><dl><dd><tt>&lt;<i>NAME</i> ... <strong>addrow="0|1"</strong> ...&gt;...<!--<i-->NAME&gt;</tt></dd></dl><h3><span id="Delete_rows">Delete rows</span></h3><p>Adds a <strong>Delete</strong> link to the right of each row, allowing the user to delete rows in the grid.</p><p><strong>XML Definition:</strong></p><dl><dd><tt>&lt;<i>NAME</i> ... <strong>deleterow="0|1"</strong> ...&gt;...<!--<i-->NAME&gt;</tt></dd></dl><p>Remember that it is <strong>NOT</strong> possible to delete the first row of a Grid, if you are trying to delete it the following message will display:</p><p><img alt="" height="116" src="../sites/default/files/DeletingTheFristRowGrid.png" width="308"></p><p>However, from version <strong>2.5.2</strong>, the delete row option will clear data from the last grid row left, so If you click on <strong>Delete</strong> the following message will display:</p><p><img alt="" height="107" src="../sites/default/files/ClearingDatafromFirstRow.png" width="353"></p>

<h3><span id="Define_a_grid_as_view_mode">Define a grid as view mode</span></h3>

<p>If you embed a grid inside the master dynaform, by default the following attributes will be:</p>

<div class="geshifilter"><div class="xml geshifilter-xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;repDetail</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;grid&quot;</span> <span style="color: #000066;">xmlgrid</span>=<span style="color: #ff0000;">&quot;9307187034d63bc32b49551073600955/7955814504d63bc32b7eb43073507352&quot;</span> <span style="color: #000066;">addrow</span>=<span style="color: #ff0000;">&quot;1&quot;</span> <span style="color: #000066;">deleterow</span>=<span style="color: #ff0000;">&quot;0&quot;</span> </span><br />
<span style="color: #009900;"><span style="color: #000066;">btn_cancel</span>=<span style="color: #ff0000;">&quot;Cancel&quot;</span> <span style="color: #000066;">required</span>=<span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">readonly</span>=<span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">savelabel</span>=<span style="color: #ff0000;">&quot;0&quot;</span><span style="color: #000000; font-weight: bold;">/&gt;</span></span></div></div>

<p>But what happen if you need to reuse the grid in other dynaform and display data inserted as view mode? ... As you can see, there's no <strong>mode</strong> attribute inside, so at the end of the attributes add <tt>mode='view'</tt> the grid will display as follows:</p>
<p><img alt="" height="181" src="../sites/default/files/GridViewMode.png" width="1099"></p>
<h3><span id="Aggregate_functions">Aggregate functions</span></h3>
<table><tbody><tr><td><strong>Used by:</strong><br><a href="#Textbox">textbox</a>, <a href="#Currency">currency</a>, <a href="#Percentage">percentage</a>.</td></tr></tbody></table>
<p>Aggregate functions can be added to fields in grid form to sum or calculate the average of a column of numbers in a grid. The aggregate functions only display their calculations when a grid form is embedded in a master form.</p>
<p>If a grid field contains in its XML definition <strong><tt>function="sum"</tt></strong>, the entire column will be summed and the result displayed below the column with the ? sign. Likewise, if <strong><tt>function="avg"</tt></strong>, the column will be averaged and the result displayed with the <span style="text-decoration: overline;">X</span> sign. (Currently <strong><tt>sum</tt></strong> and <strong><tt>avg</tt></strong> are the only two available aggregate functions.)</p>
<p><strong>XML Definition:</strong></p>

<dl><dd><tt><dynaform ...="" type="grid"></dynaform></tt></dd><dd><tt>&lt;dynaForm type="grid" ...&gt;</tt></dd><dd>&nbsp;&nbsp;&nbsp;<tt>&lt;<i>NAME</i>&nbsp;type="text|currency|percentage" ...&nbsp;<b>function="sum|avg"</b>&nbsp;...&gt;...&lt;/<i>NAME</i>&gt;</tt></dd><dd><tt>&lt;/dynaForm&gt;</tt></dd></dl>
<p>The results of these sum and average calculations are rounded to two decimal digits. They are stored in a hidden field with the ID "<tt>form[SYS_GRID_AGGREGATE_<i><strong>grid-name</strong></i>_<i><strong>field-name</strong></i>]</tt>". They are displayed in text with the ID "<tt>form[SYS_GRID_AGGREGATE_<i><strong>grid-name</strong></i>__<i><strong>field-name</strong></i>]</tt>". Note the double underscore between the grid and field names. They can be accessed through their ID with JavaScript. For example, the field named "MyField" in a grid named "MyGrid" could be accessed:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;SYS_GRID_AGGREGATE_MyGrid_MyField&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">var</span> y <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;SYS_GRID_AGGREGATE_MyGrid__MyField&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">innerHTML</span><span style="color: #339933;">;</span></div></div>

<p>If the result needs to be used in a later trigger or condition, the case variable <tt>@@SYS_GRID_AGGREGATE_MyGrid_MyField</tt> will be created when the DynaForm is submitted.</p>
<h3><span id="Formulas">Formulas</span></h3>
<table><tbody><tr><td><strong>Used by:</strong><br><a href="#Textbox">textbox</a>, <a href="#Currency">currency</a>, <a href="#Percentage">percentage</a>.</td></tr></tbody></table>
<p>Textboxes, currency boxes and percentages boxes which are in grids can have their values calculated by custom formulas. The formulas can include numbers and standard mathematical operators for addition <strong><tt>+</tt></strong>, subtraction <strong><tt>-</tt></strong>, multiplication <strong><tt>*</tt></strong>, division <strong><tt>/</tt></strong>, and modulus <strong><tt>%</tt></strong> (remainder from division), as well as parentheses <strong><tt>()</tt></strong> to group operators. The values stored in textboxes, currency boxes, percentage boxes and dropdown boxes can also be referenced in the formulas through their field names, as long as their values are numerical. If the contents of a referenced field are non-numerical characters, the field with the formula will display "NaN", which stands for "Not a Number". Only fields which are in the same row in the grid can be referenced in formulas.</p>
<p>The formulas can NOT include incrementors <strong><tt>++</tt></strong>, decrementors <strong><tt>--</tt></strong>, literal strings, function calls such as <tt>Math.pow()</tt>, nor mathematical constants such as <tt>Math.PI</tt>. Fields which contain unrecognized elements will be displayed as blank. The formulas round their results to two decimal digits. The results will be displayed, ignoring the settings in the mask, validate, read-only and mode properties. The user, however, can enter input into the field, overwriting the results. Set the fields to read-only to prevent the user from changing the results of formulas.</p>
<p>To add a formula to a textbox, currency or percentage box, edit the XML definition of the field to add the formula.</p>
<p><strong>XML Definition:</strong></p>
<dl><dd><tt><dynaform ...="" type="grid"></dynaform></tt></dd><dd><tt>&lt;dynaForm type="grid" ...&gt;</tt></dd><dd>&nbsp;&nbsp;&nbsp;<tt>&lt;<i>NAME</i>&nbsp;type="text|currency|percentage" ...&nbsp;<b>function="FORMULA"</b>&nbsp;...&gt;...&lt;/<i>NAME</i>&gt;</tt></dd><dd><tt>&lt;/dynaForm&gt;</tt></dd></dl>
<p><strong>Examples:</strong></p>
<dl><dd><tt>formula="3.14 * radius * radius"</tt></dd><dd><tt>formula="Price * (Quantity + 2)"</tt></dd><dd><tt>formula="(total+400.35)/2 - discount*0.15"</tt></dd></dl>

<h2><span id="Redisplaying_Grid_Data">Redisplaying Grid Data</span></h2>
<p>With normal fields, the data in a field from one DynaForm can easily be redisplayed in a later DynaForm simply by reusing the same field name. For instance, DynaForm_1 has the fields "LastName", "FirstName", "Address" and "City". If the data from the fields "LastName" and "FirstName" need to be displayed in DynaForm_2, then simply create two fields in that form named "LastName" and "FirstName".</p>
<p>The same principal applies when redisplaying grid data from one DynaForm to a subsequent DynaForm. To redisplay the grid data from a previous DynaForm, embed a grid object using the same field name as in previous DynaForm. Moreover, the field names inside of the grid also have to be the same as in the previous DynaForm, in order for the data to be properly redisplayed. If the grids in the two DynaForms have exactly the same structure, then the same grid form can be embedded in both master DynaForms.</p>
<p>For example, a company needs to display the details of a parts order in multiple DynaForms in a process. The following grid DynaForm named "PartsGrid" is created, containing fields named "PartNumber", "PartName" and "PartPrice":</p>
<p><img alt="" height="175" src="../sites/default/files/GridFormToEmbed.png" width="411"></p>
<p>In the first master DynaForm, a grid object is created with the field name of "PartDetails" and it is based on the grid form "PartsGrid":</p>
<p><img alt="" height="293" src="../sites/default/files/PartsGridInFirstForm.png" width="508"></p>
<p>To redisplay the data from that grid in a subsequent master DynaForm, a grid object is created with the same field name "PartDetails" and it is also based on the same grid form "PartsGrid":</p>
<p><img alt="" height="342" src="../sites/default/files/PartsGridInSecondForm.png" width="510"></p>
<p>It is also possible to redisplay grid data in subsequent DynaForms, when the structure of the grid is different. In this case, the data will be transfered from one grid to a subsequent grid as long as the same field names are maintained inside both grids. If the field names inside the subsequent grid are different, then the data from the first grid will not be redisplayed in the second grid.</p>
<p>For instance, the company in the previous example needs to redisplay the same grid data, but remove the field "PartNumber" and add the fields "PartQuantity" and "PartTotalPrice" to the grid in the second DynaForm. A second grid DynaForm named "OrderPartsGrid" is created containg the fields "PartName", "PartPrice", "PartQuantity", "PartTotalPrice":</p>
<p><img alt="" height="174" src="../sites/default/files/PartsOrderGrid.png" width="591"></p>
<p>To create this second grid DynaForm in version 1.2-2985 and later, open the "PartsGrid" DynaForm and click on the <img alt="" height="24" src="../sites/default/files/DynaFormSaveAs.png" width="34"><strong>Save As</strong> button. Give it the name "OrderPartsGrid" and then save the new grid DynaForm.</p>
<p><img alt="" height="260" src="../sites/default/files/SaveAsGridForm.png" width="502"></p>
<p>Then open the "OrderPartsGrid" form and remove the "PartNumber" field and add the "PartQuantity" and PartTotalPrice" fields.</p>
<p>If using a version prior to <strong>1.2-2985</strong>, which doesn't have the <img alt="" height="24" src="../sites/default/files/DynaFormSaveAs.png" width="34"><strong>Save As</strong> option, copy the XML code for the fields "PartName" and "PartPrice" from the first grid DynaForm to the second grid DynaForm.</p>
<p>Then go to the second master DynaForm and create a grid object with the same field name of "PartDetails". However, this grid object is based upon the "OrderPartsGrid", rather than the "PartsGrid":</p>
<p><img alt="" height="340" src="../sites/default/files/OrderPartsGridInSecondForm.png" width="667"></p>
<p>Now the data entered into the fields "PartName" and "PartPrice" is redisplayed in the second master DynaForm, but the data in the fields "PartQuantity" and "PartTotalPrice" is new.</p>
<h2><span id="HTML_in_Grids">HTML in Grids</span></h2>
<p>Even HTML tab is available until version 2.0.45 this tab is ineffectual, since it is not possible to modify HTML inside grids. Grids are tables structured so the size of their fields will will depend on the size you set on their XML attributes; if the grid is larger than the Dynaform, you must adjust the size of the Dynaform master modifying the XML as follows:</p>

<div class="geshifilter"><div class="xml geshifilter-xml" style="font-family:monospace;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;dynaForm</span> <span style="color: #000066;">type</span>=<span style="color: #ff0000;">&quot;xmlform&quot;</span> <span style="color: #000066;">name</span>=<span style="color: #ff0000;">&quot;90264483250d5311df3f313012072456/24650025851116863ad84c5096715613&quot;</span> <span style="color: #000066;">width</span>=<span style="color: #ff0000;">&quot;700&quot;</span> <span style="color: #000066;">enabletemplate</span>=<span style="color: #ff0000;">&quot;0&quot;</span> </span><br />
<span style="color: #009900;"><span style="color: #000066;">mode</span>=<span style="color: #ff0000;">&quot;&quot;</span> <span style="color: #000066;">nextstepsave</span>=<span style="color: #ff0000;">&quot;prompt&quot;</span> <span style="color: #000066;">printdynaform</span>=<span style="color: #ff0000;">&quot;0&quot;</span><span style="color: #000000; font-weight: bold;">&gt;</span></span></div></div>

<p>That is the header of the Dynaform, so modify the <tt>width</tt> according to your needs.</p>
<p>From version <strong>2.5</strong> html tab was removed, and the grid width can be adjust with the width of the main form, by going to the <a href="../index.php/2.5.X/DynaForms.html#Properties_tab" title="2.5.X/DynaForms">properties of the main Dyanform</a> where grid was embedded.</p>
<p><img alt="" height="296" src="../sites/default/files/HTMLTabremoved.png" width="797"></p>
<h2><span id="Conditions_Editor_Tab">Conditions Editor Tab</span></h2>
<p>Although this tab was included inside the grid editor, it was not working properly. Check <a href="../index.php/2.5.X/DynaForms.html#Conditions_Editor_tab" title="2.5.X/DynaForms">this documentation</a> if you need to use the Conditions Editor.</p>
<p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>To avoid confusions, form version </strong>2.5.2<strong> this tab was removed from the grid designer.</strong></span></p>
<p><img alt="" height="189" src="../sites/default/files/NoConditionEditorTab.png" width="997"></p>
<h2><span id="Accessing_Grids_with_JavaScript">Accessing Grids with JavaScript</span></h2>

<p>Grids are constructed inside an HTML whose <tt>id</tt> is the field name for the grid object found inside the master DynaForm. To access the grid with JavaScript, use the field name for the grid object in the master DynaForm, not the name of the grid form.</p>
<p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>JavaScript code must be added inside the master form not inside the grid form.</strong></span></p>

<p>A field inside a grid has an <tt>id</tt> like: form[<i><strong>grid-name</strong></i>][<i><strong>row-number</strong></i>][<i><strong>field-name</strong></i>]
</p>

<p>Where:</p>
<dl><dd><i><strong><tt>grid-name</tt></strong></i> is the name of the grid object in the master DynaForm.</tt></tt></dd><dd><tt><tt><i><strong><tt>row-number</tt></strong></i> is an integer which starts counting from the number 1.</tt></tt></dd><dd><tt><tt><i><strong><tt>field-name</tt></strong></i> is the name of a field in a grid row.</tt></tt></dd></dl>

<p>For example: form[clientsGrid][2][clientName]<br>A field in a grid can be accessed as:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;grid-name][row-number][field-name&quot;</span><span style="color: #009900;">&#41;</span> </div></div>

<p>Or:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;grid-name&quot;</span><span style="color: #339933;">,</span> row<span style="color: #339933;">-</span>number<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;field-name&quot;</span><span style="color: #009900;">&#41;</span></div></div>

<p>Or:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getElementById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;form[grid-name][row-number][field-name]&quot;</span><span style="color: #009900;">&#41;</span></div></div>

<p>To get the value of a grid field:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> getGridValueById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;grid-name&quot;</span><span style="color: #339933;">,</span> row<span style="color: #339933;">-</span>number<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;field-name&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Or:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;grid-name&quot;</span><span style="color: #339933;">,</span> row<span style="color: #339933;">-</span>number<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;field-name&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span></div></div>

<p>Or:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;grid-name][row-number][field-name&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span></div></div>

<p>To set the value in a grid field:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;grid-name&quot;</span><span style="color: #339933;">,</span> row<span style="color: #339933;">-</span>number<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;field-name&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;x&quot;</span><span style="color: #339933;">;</span> </div></div>

<p><tt>To get the number of rows in a grid:</tt></p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;grid-name&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;field-name&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> </div></div>

<p>To get the value of an aggregate function (such as <tt>sum</tt> or <tt>avg</tt>) for the column of a grid field:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> x <span style="color: #339933;">=</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;SYS_GRID_AGGREGATE_grid-name_field-name&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span></div></div>

<p>To set the value of an aggregate function for the column of a grid field, both the hidden field where the value is stored and the text where the value is displayed have to be set:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;SYS_GRID_AGGREGATE_grid-name_field-name&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;x&quot;</span><span style="color: #339933;">;</span><br />
getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;SYS_GRID_AGGREGATE_grid-name__field-name&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">innerHTML</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;x&quot;</span><span style="color: #339933;">;</span></div></div>

<p>Note the double underscore in the name of the hidden field.</p>
<h3><span id="Examples">Examples</span></h3>
<p>See the example code to set a <a href="../index.php/2.0/Common_Field_Properties.html#SetGridToViewMode" title="2.0/Common Field Properties">grid to view mode</a> and <a href="../index.php/2.0/Common_Field_Properties.html#Customized_Messages_for_Required_Fields" title="2.0/Common Field Properties">Customized Messages for Required Fields</a>.</p>

<h3><span id="Hiding_a_Grid">Hiding a Grid</span></h3>
<p>It is possible to hide or show the table which holds a grid with the standard <a href="../index.php/JavaScript_Functions.html#hidden.28.29" title="JavaScript Functions">hidden()</a>, <a href="../index.php/JavaScript_Functions.html#hiddenById.28.29" title="JavaScript Functions">hiddenById()</a>, <a href="../index.php/JavaScript_Functions.html#visible.28.29" title="JavaScript Functions">visible()</a>, and <a href="../index.php/JavaScript_Functions.html#visibleById.28.29" title="JavaScript Functions">visibleById()</a> functions. For example to hide a grid "myGrid" whenever a checkbox named "myCheckbox" is checked:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> hideGrid<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myCheckbox&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">checked</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; hiddenById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myGrid&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; visibleById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myGrid&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
leimnud.<span style="color: #660066;">event</span>.<span style="color: #660066;">add</span><span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myCheckbox&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">'change'</span><span style="color: #339933;">,</span> hideGrid<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
hideGrid<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//execute when the DynaForm first loads</span></div></div>

<p>However, the <tt>hidden()</tt> and <tt>visible()</tt> functions will only hide the table holding the grid and not the frame around it. The frame is found inside of an HTML <tt>DIV</tt> with a class name of "grid", so it is possible to hide a grid by setting the <tt>display</tt> property of this <tt>DIV</tt> to <tt>"none"</tt>. Use the <a href="../index.php/JavaScript_Functions.html#getElementsByClassNameCrossBrowser.28.29" title="JavaScript Functions">getElementsByClassNameCrossBrowser()</a> function to find the grid.</p>
<p>In this example, the first grid in a DynaForm is hidden whenever a checkbox named <tt>"myCheckbox"</tt> is checked:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> hideGrid<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> elements <span style="color: #339933;">=</span> getElementsByClassNameCrossBrowser<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;grid&quot;</span><span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">null</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;div&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myCheckbox&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">checked</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#123;</span> <br />
&nbsp; &nbsp; &nbsp;elements<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">display</span><span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;none&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp;hiddenById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myGrid&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; elements<span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">display</span><span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;visibleById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myGrid&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
leimnud.<span style="color: #660066;">event</span>.<span style="color: #660066;">add</span><span style="color: #009900;">&#40;</span>getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;myCheckbox&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">'change'</span><span style="color: #339933;">,</span> hideGrid<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
hideGrid<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//execute when the DynaForm first loads</span></div></div>

<p>To hide the second grid in a DynaForm use <tt>elements[1]</tt>; for the third grid use <tt>elements[2]</tt>; etc.</p>
<h3><span id="Hiding.2FShowing_a_grid_column">Hiding/Showing a grid column</span></h3>
<p>The entire column in a grid can be hidden by setting <tt>style.display</tt> to "none" for the table cells which hold the grid field in each row. Likewise, the same table cells can be redisplayed by setting <tt>style.display</tt> to "" (empty string).</p>
<p>For example, when the user selects the option "email_client" in the "contactMethod" dropdown box, the "emailAddress" column is displayed in a grid named "contactsGrid". If any other option is selected in the dropdown box, then the "emailAddress" column is hidden in the grid.</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;contactMethod&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onchange</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> display <span style="color: #339933;">=</span> <span style="color: #3366CC;">''</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #006600; font-style: italic;">//find the column number for the emailAddress field:</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> colNo <span style="color: #339933;">=</span> getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;contactsGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;emailAddress&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">parentNode</span>.<span style="color: #660066;">cellIndex</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;rows <span style="color: #339933;">=</span> document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;contactsGrid&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">rows</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getValueById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;contactMethod&quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">'email_client'</span><span style="color: #009900;">&#41;</span> <br />
&nbsp; &nbsp; &nbsp; display <span style="color: #339933;">=</span> <span style="color: #3366CC;">'none'</span><span style="color: #339933;">;</span> <br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> rows.<span style="color: #660066;">length</span><span style="color: #339933;">;</span> i <span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; rows<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">cells</span><span style="color: #009900;">&#91;</span>colNo<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">display</span><span style="color: #339933;">=</span> display<span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p>To create a generic function to hide a column:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> hideColumn<span style="color: #009900;">&#40;</span>gridName<span style="color: #339933;">,</span> fieldName<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> colNo <span style="color: #339933;">=</span> getGridField<span style="color: #009900;">&#40;</span>gridName<span style="color: #339933;">,</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> fieldName<span style="color: #009900;">&#41;</span>.<span style="color: #660066;">parentNode</span>.<span style="color: #660066;">cellIndex</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;rows <span style="color: #339933;">=</span> document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span>gridName<span style="color: #009900;">&#41;</span>.<span style="color: #660066;">rows</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span>i<span style="color: #339933;">=</span><span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> rows.<span style="color: #660066;">length</span><span style="color: #339933;">;</span> i <span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; rows<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">cells</span><span style="color: #009900;">&#91;</span>colNo<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">display</span><span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;none&quot;</span> <span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
hideColumn<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'usersGrid'</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">'selectUser'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//call the function</span></div></div>

<h3><span id="Summing_a_grid_column">Summing a grid column</span></h3>
<p>ProcessMaker provides a way to sum or take the average of a currency or percentage column in a grid. However, JavaScript code needs to be added if only summing certain fields based upon a condition.</p>
<p><img alt="" height="243" src="../sites/default/files/ExpensesGridExample.png" width="491"></p>
<p>In the following example of a grid named "expensesGrid", only the "amount" fields should be summed, if the "select" field is checked. In this example, the calculateTotal() function is called when any value inside the grid changes. All grid fields are placed inside an HTML table whose ID is the name of the grid field, so it can be accessed with<tt>document.getElementById("<i><strong>table-name</strong></i>")</tt></p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> calculateTotal<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">var</span> nRows <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">var</span> total <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;=</span> nRows<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;select&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">checked</span> <span style="color: #339933;">&amp;&amp;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">!=</span> <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; total <span style="color: #339933;">+=</span> parseFloat<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;total&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> total<span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span><br />
document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onchange</span><span style="color: #339933;">=</span>calculateTotal<span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//execute when value in grid's HTML table changes</span><br />
calculateTotal<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//execute when DynaForm loads</span></div></div>

<p><strong><font color="green">Remember:</font></strong> Grids are referenced in JavaScript by the name of the field which holds the grid embedded in the master form. Do NOT use the name of the separate grid form.</p>
<h3><span id="Advanced_calculations_with_grid_columns">Advanced calculations with grid columns</span></h3>
<p>The following function calculates the <a href="http://en.wikipedia.org/wiki/Compound_annual_growth_rate">compound annual growth rate</a> for a grid which contains the fields "Date" and "Amount":</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> calculateCAGR<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">var</span> totalRows <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;Date&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>totalRows <span style="color: #339933;">&lt;</span> <span style="color: #CC0000;">2</span><span style="color: #009900;">&#41;</span> <span style="color: #006600; font-style: italic;">// can't calculate the CAGR without at least two dates</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">return</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">var</span> startDate<span style="color: #339933;">,</span> endDate<span style="color: #339933;">,</span> curDate<span style="color: #339933;">,</span> startAmt<span style="color: #339933;">,</span> endAmt<span style="color: #339933;">;</span><br />
&nbsp;<br />
&nbsp; &nbsp; <span style="color: #006600; font-style: italic;">//Loop to find the starting and ending dates</span><br />
&nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;=</span> totalRows<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#123;</span> &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; curDate <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">new</span> <span style="">Date</span><span style="color: #009900;">&#40;</span>getGridValueById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;Date&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span>startDate <span style="color: #339933;">||</span> curDate.<span style="color: #660066;">getTime</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&lt;</span> startDate.<span style="color: #660066;">getTime</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startDate <span style="color: #339933;">=</span> curDate<span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; startAmt <span style="color: #339933;">=</span> parseFloat<span style="color: #009900;">&#40;</span>getGridValueById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;Amount&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span>endDate <span style="color: #339933;">||</span> curDate.<span style="color: #660066;">getTime</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> endDate.<span style="color: #660066;">getTime</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; endDate <span style="color: #339933;">=</span> curDate<span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; endAmt <span style="color: #339933;">=</span> parseFloat<span style="color: #009900;">&#40;</span>getGridValueById<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;MyGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;Amount&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #006600; font-style: italic;">//calculate difference between startDate &amp; endDate as a fraction of a year</span><br />
&nbsp; &nbsp; <span style="color: #006600; font-style: italic;">//1 year = 365 days * 24 hours * 60 minutes * 60 seconds * 1000 milliseconds</span><br />
&nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">var</span> diff <span style="color: #339933;">=</span> endDate.<span style="color: #660066;">getTime</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">-</span> startDate.<span style="color: #660066;">getTime</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; diff <span style="color: #339933;">=</span> diff<span style="color: #339933;">/</span><span style="color: #009900;">&#40;</span><span style="color: #CC0000;">365</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">24</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">60</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">60</span> <span style="color: #339933;">*</span> <span style="color: #CC0000;">1000</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp;<br />
&nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">return</span> <span style="">Math</span>.<span style="color: #660066;">pow</span><span style="color: #009900;">&#40;</span>endAmt<span style="color: #339933;">/</span>startAmt<span style="color: #339933;">,</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">/</span>diff<span style="color: #009900;">&#41;</span> <span style="color: #339933;">-</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
 
<h3><span id="Changing_the_color_to_draw_attention">Changing the color to draw attention</span></h3>
<p>If needing to change the color to draw the user's attention, the style of objects in the grid can be changed. In this example, the font color of the "amount" field in a grid named "expensesGrid" is changed to red if it's value is over 500.</p>
<p><img alt="" height="173" src="../sites/default/files/JsExampleChangeGridFieldFontColor.png" width="532"></p>
<p>The highlightOvercharge() function is called when the value of a grid field changes.</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> dynaformOnload <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">function</span> highlightOvercharge<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">var</span> nRows <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;=</span> nRows<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>parseFloat<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;=</span> <span style="color: #CC0000;">500</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">color</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;red&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">else</span> <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;expAmount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">''</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">color</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;black&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">color</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;black&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onchange</span> <span style="color: #339933;">=</span> highlightOvercharge<span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//execute when value of field in grid changes</span><br />
&nbsp; &nbsp;highlightOvercharge<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//execute when DynaForm loads</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p>To change the border color of a grid field to red:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">border</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;1px solid red&quot;</span><span style="color: #339933;">;</span></div></div>

<p>To change the background color of the entire row to red:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;expensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">parentNode</span>.<span style="color: #660066;">parentNode</span>.<span style="color: #660066;">style</span>.<span style="color: #660066;">backgroundColor</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;red&quot;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Adding_Grid_Rows">Adding Grid Rows</span></h3>
<p>The <a href="../index.php/JavaScript_Functions.html#grid.addGridRow.28.29" title="JavaScript Functions"><i>grid</i>.addGridRow()</a> method can be used to add rows to grids. To obtain the grid object, use the <a href="../index.php/JavaScript_Functions.html#getObject.28.29" title="JavaScript Functions">getObject()</a> function.</p>
<p>For example, to add a row to a grid named "accountsGrid" when the user clicks on a button named "addRow":</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;addRow&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onclick</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;getObject<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;accountsGrid&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">addGridRow</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Executing_Code_When_Adding_a_Row">Executing Code When Adding a Row</span></h3>
<p>To make code execute when a row is added to a grid, set an event handler for the grid's <tt>onaddrow</tt> event. The row number of the new row is passed as the first parameter to the event handler function. The grid object can be referenced as: <tt>grid_<i><strong>grid-name</strong></i></tt></p>

<codeblock>var dynaformOnload = function() {
   grid_<i><b>grid-name</b></i>.onaddrow = function(row) {
      ... // code to execute when row is added
   }
}
</codeblock>

<p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>In order to execute <tt>onaddrow</tt> event, it must be assigned when the Dynaform is loading (dynaformOnload), otherwise it won't work.</strong></span></p>
<p>For example, when a new row is added to a grid named "ExpGrid", this code copies the value from the "ExpDate" field in the previous row to the "ExpDate" field in the new row:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> dynaformOnload <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;grid_ExpGrid.<span style="color: #660066;">onaddrow</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>iRow<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;ExpDate&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">-</span><span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;ExpDate&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p>For example, each row in a grid named "ExpGrid" has a yes/no box named "approved" and a textarea named "comments". When the user selects "yes" in the "approved" box, the "comments" field for that row will appear. When selecting "no", the "comments" field will disappear for that row:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> whenReady<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
<span style="color: #000066; font-weight: bold;">function</span> showHideComments<span style="color: #009900;">&#40;</span>iRow<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;approved&quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;1&quot;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp;visible<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;comments&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp;hidden<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;comments&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #006600; font-style: italic;">//When form loads, loop through all existing rows, setting the event handler for &quot;approved&quot;:</span><br />
<span style="color: #000066; font-weight: bold;">var</span> totalRows <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;approved&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> iRow <span style="color: #339933;">=</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span> iRow <span style="color: #339933;">&lt;=</span> totalRows<span style="color: #339933;">;</span> iRow<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;approved&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onchange</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>iRow<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;approved&quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;1&quot;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;visible<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;comments&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hidden<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;comments&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #006600; font-style: italic;">//set the event handler when the user adds a row:</span><br />
grid_ExpGrid.<span style="color: #660066;">onaddrow</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>iRow<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;approved&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onchange</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>iRow<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;approved&quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;1&quot;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;visible<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;comments&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hidden<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;comments&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000066; font-weight: bold;">var</span> dynaformOnload <span style="color: #339933;">=</span> whenReady<span style="color: #339933;">;</span></div></div>

<p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>If error messages appear indicating that fields don't yet exist, try enclosing the code inside the <a href="../index.php/JavaScript_Functions.html#dynaformOnload" title="JavaScript Functions">dynaformOnload</a> variable, to ensure that the DynaForm has fully loaded before trying to set the event handler.</strong></span></p>
<h3><span id="Deleting_Grid_Rows">Deleting Grid Rows</span></h3>
<p>The <a href="../index.php/JavaScript_Functions.html#grid.deleteGridRow.28.29" title="JavaScript Functions"><i>grid</i>.deleteGridRow()</a> method can be used to delete rows to grids. The first parameter is the row number to delete and the second parameter is a boolean indicating whether to display a confirmation message to the user to delete the row. To obtain the grid object, use the <a href="../index.php/JavaScript_Functions.html#getObject.28.29" title="JavaScript Functions">getObject()</a> function. Note that the first row in a grid can not be deleted, so its fields can only be set to empty strings.</p>
<p>For example, to delete the last row in a grid named "accountsGrid" without a confirmation message.</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> lastRow <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;accountsGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;approved&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
getObject<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;accountsGrid&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">deleteGridRow</span><span style="color: #009900;">&#40;</span>lastRow<span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Executing_Code_When_Deleting_a_Row">Executing Code When Deleting a Row</span></h3>
<p>To make code execute when a row is deleted (either by a user or by a script), set an event handler for the grid's <tt>ondeleterow</tt> event:</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">grid_grid<span style="color: #339933;">-</span>name.<span style="color: #660066;">ondeleterow</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>row<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;... <span style="color: #006600; font-style: italic;">// code to execute when row is deleted</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>If error messages appear indicating that fields don't yet exist, try enclosing the code inside the <a href="../index.php/JavaScript_Functions.html#dynaformOnload" title="JavaScript Functions">dynaformOnload</a> variable, to ensure that the DynaForm has fully loaded before trying to set the event handler.</strong></span></p>
<h3><span id="Changing_the_Numbers_Labeling_Rows">Changing the Numbers Labeling Rows</span></h3>
<p>The number labeling each row is located inside a table cell whose class is named "GridLabel". The getElementsByClassNameCrossBrowser() function can be used to obtain all the cells in the grid table which hold the row numbers.</p>
<p>For example, to remove the numbers labeling each row in the grid, set an event handler for the <tt>onaddrow</tt> event which removes the numbers. For example to remove the row numbers in a grid named "ExpGrid":</p>

<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> removeRowNos<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">var</span> rowNoCells <span style="color: #339933;">=</span> getElementsByClassNameCrossBrowser<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;GridLabel&quot;</span><span style="color: #339933;">,</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;td&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">var</span> len <span style="color: #339933;">=</span> rowNoCells.<span style="color: #660066;">length</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> len<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; rowNoCells<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">innerHTML</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">''</span><span style="color: #339933;">;</span><br />
&nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
removeRowNos<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
grid_MyGrid.<span style="color: #660066;">onaddrow</span> <span style="color: #339933;">=</span> removeRowNos<span style="color: #339933;">;</span></div></div>

<p>The cell holding the row number can also be accessed as cell 0 from row 1 on in the table holding the grid. For example, to set the first row in a grid named "ExpGrid" to have the label "A" instead of the number "1":</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpGrid&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">tBodies</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">rows</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">cells</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">innerHTML</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;A&quot;</span><span style="color: #339933;">;</span></div></div>

<p>For example, a grid named "carPartsGrid" is populated with a list of car parts when its DynaForm loads. Each row has a hidden field named "serialNo". The following code replaces all the row numbers with the serial number for each car part when the DynaForm loads:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> totalRows <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;carPartsGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;serialNo&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;=</span> totalRows<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;document.<span style="color: #660066;">getElementById</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;carPartsGrid&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">tBodies</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">rows</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">cells</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">0</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">innerHTML</span> <span style="color: #339933;">=</span> <br />
&nbsp; &nbsp; &nbsp; getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;carPartsGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;serialNo&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Setting_Styles_of_Grid_Fields_in_a_Column">Setting Styles of Grid Fields in a Column</span></h3>
<p>If the grid fields in a column need to use certain style setting, such as the font family, font size, font color, background color, alignment, etc., then all the fields in that column need to have their <tt>.style</tt> object modified. First, use a <tt>for</tt> loop to set the style of all the field in the existing rows. Then, use the onaddrow() method to set the style for any new rows which are added by the user.</p>
<p>For example, if the "amount" field in a grid named "ExpensesGrid" needs to have its font changed to Courier, its font size set to 10pts, its font color changed to red, its background color changed to yellow, and its alignment changed to right:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> setStyles<span style="color: #009900;">&#40;</span>obj<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;obj.<span style="color: #660066;">style</span>.<span style="color: #660066;">fontFamily</span><span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;Courier&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;obj.<span style="color: #660066;">style</span>.<span style="color: #660066;">fontSize</span><span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;10pt&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;obj.<span style="color: #660066;">style</span>.<span style="color: #660066;">color</span><span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;red&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;obj.<span style="color: #660066;">style</span>.<span style="color: #660066;">backgroundColor</span><span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;yellow&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;obj.<span style="color: #660066;">style</span>.<span style="color: #660066;">textAlign</span><span style="color: #339933;">=</span><span style="color: #3366CC;">&quot;right&quot;</span><span style="color: #339933;">;</span> &nbsp; <br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #006600; font-style: italic;">//change style in existing rows:</span><br />
<span style="color: #000066; font-weight: bold;">var</span> totalRows <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpensesGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;=</span> totalRows<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;setStyles<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpensesGrid&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #006600; font-style: italic;">//set field style for any new rows added by user:</span><br />
grid_ExpensesGrid.<span style="color: #660066;">onaddrow</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>iRow<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;setStyles<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;ExpensesGrid&quot;</span><span style="color: #339933;">,</span> iRow<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Using_Row_Numbers">Using Row Numbers</span></h3>
<p>If needing to know which row the user is currently interacting with, then set an event handler for the grid fields which examines the <tt>id</tt> of the current field to extract the row number from the<tt>id</tt>. The row number can be found with this code in an event handler:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> iRow <span style="color: #339933;">=</span> parseInt<span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">id</span>.<span style="color: #660066;">match</span><span style="color: #009900;">&#40;</span><span style="color: #009966; font-style: italic;">/\]\[(\d+)\]\[/</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>For example, a grid named "orderItems" has an "amount" field and a "subtotal" field. To make the "subtotal" field automatically calculate the "amount" in the current row plus the "amount" in the previous row, create an event handler function <tt>addAmounts()</tt> which references the row number and adds the amounts:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> addAmounts<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">var</span> iRow <span style="color: #339933;">=</span> parseInt<span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">id</span>.<span style="color: #660066;">match</span><span style="color: #009900;">&#40;</span><span style="color: #009966; font-style: italic;">/\]\[(\d+)\]\[/</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>iRow <span style="color: #339933;">&gt;</span> <span style="color: #CC0000;">1</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <span style="color: #006600; font-style: italic;">//if not the first row, then add:</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> cur &nbsp;<span style="color: #339933;">=</span> parseFloat<span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">this</span>.<span style="color: #660066;">value</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> prev <span style="color: #339933;">=</span> parseFloat<span style="color: #009900;">&#40;</span>getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;orderItems&quot;</span><span style="color: #339933;">,</span> iRow <span style="color: #339933;">-</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp;getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;orderItems&quot;</span><span style="color: #339933;">,</span> iRow <span style="color: #339933;">-</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;subtotal&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> cur <span style="color: #339933;">+</span> prev<span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span> &nbsp; <br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #006600; font-style: italic;">//set event handler for all existing rows in the grid:</span><br />
<span style="color: #000066; font-weight: bold;">var</span> totalRows <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;orderItems&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;=</span> totalRows<span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;orderItems&quot;</span><span style="color: #339933;">,</span> i<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;amount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onchange</span> <span style="color: #339933;">=</span> addAmounts<span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #006600; font-style: italic;">//set event handler for fields in rows which are added:</span><br />
grid_orderItems.<span style="color: #660066;">onaddrow</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>rowNo<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;orderItems&quot;</span><span style="color: #339933;">,</span> rowNo<span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;field1&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">onchange</span> <span style="color: #339933;">=</span> addAmounts<span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Maximum_Number_of_Rows_in_a_Grid">Maximum Number of Rows in a Grid</span></h3>
<p>To set a maximum of rows in a grid, replace the <tt>onclick</tt> event handler for the "New" link in a grid. For example to limit the "clientsGrid" to a maximum of 3 rows:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'clientsGrid][bullet'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">parentNode</span>.<span style="color: #660066;">childNodes</span><span style="color: #009900;">&#91;</span><span style="color: #CC0000;">2</span><span style="color: #009900;">&#93;</span>.<span style="color: #660066;">onclick</span> <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;clientsGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;firstName&quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&lt;</span> <span style="color: #CC0000;">3</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; getObject<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;clientsGrid&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">addGridRow</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">else</span><br />
&nbsp; &nbsp; &nbsp; alert<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;No more than 3 clients are allowed!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h2><tt><span id="Accessing_Grids_with_PHP">Accessing Grids with PHP</span></tt></h2>
<p>When a master DynaForm is submitted which contains a grid object, a case variable is created for the grid with field name of the grid object found in the master DynaForm. This case variable contains an associative array of associative arrays. The outer associative array has keys which start counting from the number 1 (not 0 like a normal array). Each row in the grid is stored as an inner associative array where the grid field names are the keys and the entered data are the values.</p>
<p><span style="color: green; font-size: 8pt;"><strong>Remember:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>The grid case variable will NOT use the name the grid form. Instead, it uses the field name of the grid object found in the master DynaForm.</strong></span></p>

<h3><span id="Reading_from_Grids">Reading from Grids</span></h3>
<p>To access the value stored in a particular field in a grid, reference it as:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>grid<span style="color: #339933;">-</span>name<span style="color: #009900;">&#91;</span>row<span style="color: #339933;">-</span>number<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'field-name'</span><span style="color: #009900;">&#93;</span></div></div>

<p><strong>Remember:</strong></p>
<ul><li><tt>The case variable for a grid is the name of the grid field which is embedded in a master DynaForm.</tt></li><li><tt>The row numbers start counting from the number 1 (not 0 like a normal array).</tt></li><li><tt>The names of grid fields are case sensitive and they are strings which must be enclosed in quotation marks.</tt></li></ul>
<p>For example, to read the values stored in grid fields named "model", "price" and "quantity" in the first and second rows of a grid named "OrderList":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$model1</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'model'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$price1</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'price'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$quantity1</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'quantity'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$model2</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'2'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'model'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$price2</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'2'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'price'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$quantity2</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'2'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'quantity'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Looping_through_a_Grid">Looping through a Grid</span></h3>
<p>Use a <a href="http://php.net/manual/en/control-structures.for.php">for</a> or <a href="http://php.net/manual/en/control-structures.foreach.php">foreach</a> loop to pass through each row in the grid and read its values.</p>
<p>For example, this trigger code sends an email to supervisor if the "price" in any row in the "OrderList" grid is greater than $300:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$tot</span> <span style="color: #339933;">=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$cnt</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #000088;">$cnt</span> <span style="color: #339933;">&lt;=</span> <span style="color: #000088;">$tot</span><span style="color: #339933;">;</span> <span style="color: #000088;">$cnt</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>int<span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'price'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">300</span><span style="color: #009900;">&#41;</span>‏ <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;admin@example.com&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;supervisor@example.com&quot;</span><span style="color: #339933;">,</span> <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;Please verify large order&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;expensiveOrder.html&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span> <br />
<span style="color: #009900;">&#125;</span></div></div>

<p>The same code can be written more simply with a <strong><tt>foreach</tt></strong> loop:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList <span style="color: #b1b100;">as</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span>int<span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'price'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">300</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>‏<br />
&nbsp; &nbsp; &nbsp;PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;admin@example.com&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;supervisor@example.com&quot;</span><span style="color: #339933;">,</span> <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;Please verify large order&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;expensiveOrder.html&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">break</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span> <br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Writing_to_Grids">Writing to Grids</span></h3>
<p>To change the values of grid fields, simply assign new values to the fields.</p>
<p>For example, if a grid named "OrderList" has the fields named "model", "price" and "quantity", then the values in the first two rows of the grid can be set in a trigger:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'model'</span><span style="color: #009900;">&#93;</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #0000ff;">'E-Z Stick Glue'</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'price'</span><span style="color: #009900;">&#93;</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color:#800080;">0.99</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'1'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'quantity'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">3</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'2'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'model'</span><span style="color: #009900;">&#93;</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #0000ff;">'Acme White-Out'</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'2'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'price'</span><span style="color: #009900;">&#93;</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color:#800080;">2.05</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'2'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'quantity'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">2</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Appending_New_Rows">Appending New Rows</span></h3>
<p>New rows can be appended to grids by adding associative arrays with the field names as the keys. For example:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$maxRowNo</span> <span style="color: #339933;">=</span> <a href="http://php.net/max"><span style="color: #990000;">max</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/array_keys"><span style="color: #990000;">array_keys</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderForm<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$maxRowNo</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'model'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Sharpie Pencil Pack'</span><span style="color: #339933;">,</span> &nbsp;<span style="color: #0000ff;">'price'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">1.59</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'quantity'</span><span style="color: #339933;">=&gt;</span><span style="color: #cc66cc;">5</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <br />
<span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$maxRowNo</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">2</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'model'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Precision 12in Ruler'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'price'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">2.79</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'quantity'</span><span style="color: #339933;">=&gt;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Inserting_New_Rows">Inserting New Rows</span></h3>
<p>New rows can be inserted into grids, but the subsequent rows will have to be renumbered.</p>
<p>For example, to insert a new row as the fourth row, the current fourth row will need to be renumbered as the fifth row and all subsequent rows will need to increase their keys by 1 as well:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//@@NewModel, @#NewPrice and @%NewQuantity are fields from a prior DynaForm:</span><br />
<span style="color: #000088;">$newRow</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'model'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>NewModel<span style="color: #339933;">,</span> <span style="color: #0000ff;">'price'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@</span><span style="color: #666666; font-style: italic;">#NewPrice, 'quantity' =&gt; @%NewQuantity);<br />
</span><span style="color: #000088;">$totOld</span> <span style="color: #339933;">=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//total rows in the old grid</span><br />
<span style="color: #000088;">$iOld</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$iNew</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">//incrementers for old and new grids</span><br />
<span style="color: #000088;">$newGrid</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp;<br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$iOld</span> <span style="color: #339933;">&lt;=</span> <span style="color: #000088;">$totOld</span><span style="color: #339933;">;</span> <span style="color: #000088;">$iOld</span><span style="color: #339933;">++,</span> <span style="color: #000088;">$iNew</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$iOld</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">4</span><span style="color: #009900;">&#41;</span> <br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$newGrid</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$iNew</span><span style="color: #339933;">++</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$newRow</span><span style="color: #339933;">;</span><br />
&nbsp;<br />
&nbsp; &nbsp;<span style="color: #000088;">$newGrid</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$iNew</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$iOld</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #339933;">@=</span>OrderList <span style="color: #339933;">=</span> <span style="color: #000088;">$newGrid</span><span style="color: #339933;">;</span></div></div>

<p>To insert a new row, maintaining alphabetical order in the "model" field:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$newRow</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'model'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>NewModel<span style="color: #339933;">,</span> <span style="color: #0000ff;">'price'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@</span><span style="color: #666666; font-style: italic;">#NewPrice, 'quantity' =&gt; @%NewQuantity);<br />
</span><span style="color: #000088;">$totOld</span> <span style="color: #339933;">=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//total rows in the old grid</span><br />
<span style="color: #000088;">$iOld</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$iNew</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">//incrementers for old and new grids</span><br />
<span style="color: #000088;">$newGrid</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp;<br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$iOld</span> <span style="color: #339933;">&lt;=</span> <span style="color: #000088;">$totOld</span><span style="color: #339933;">;</span> <span style="color: #000088;">$iOld</span><span style="color: #339933;">++,</span> <span style="color: #000088;">$iNew</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$iOld</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'model'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">&gt;</span> <span style="color: #000088;">$newRow</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'model'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span> <br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$newGrid</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$iNew</span><span style="color: #339933;">++</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$newRow</span><span style="color: #339933;">;</span><br />
&nbsp;<br />
&nbsp; &nbsp;<span style="color: #000088;">$newGrid</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$iNew</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$iOld</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #339933;">@=</span>OrderList <span style="color: #339933;">=</span> <span style="color: #000088;">$newGrid</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Removing_Rows_From_Grids">Removing Rows From Grids</span></h3>
<p>To remove a particular row from a grid, delete the associative array for the row with PHP's <a href="http://php.net/manual/en/function.unset.php">unset()</a> function. Then, all subsequent rows in the grid need to be renumbered.</p>
<p>In this example, the second row in the "OrderList" grid is deleted:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/unset"><span style="color: #990000;">unset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">2</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$newGrid</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>MyGrid <span style="color: #b1b100;">as</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$newGrid</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$row</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #339933;">@=</span>OrderList <span style="color: #339933;">=</span> <span style="color: #000088;">$newGrid</span><span style="color: #339933;">;</span></div></div>

<p>In this example, any rows in the "OrderList" grid whose "amount" field is greater than 100 are removed:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> <span style="color: #000088;">$tot</span> <span style="color: #339933;">=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;</span> <span style="color: #000088;">$tot</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'amount'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">100</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/unset"><span style="color: #990000;">unset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span> &nbsp; <br />
<span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$newGrid</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>OrderList <span style="color: #b1b100;">as</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$newGrid</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$row</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #339933;">@=</span>OrderList <span style="color: #339933;">=</span> <span style="color: #000088;">$newGrid</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Clearing_a_Grid">Clearing a Grid</span></h3>
<p>To clear an entire grid, set it to <a href="http://php.net/manual/en/language.types.null.php"><tt>NULL</tt></a>. For example, to clear the "OrderList" grid:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>OrderList <span style="color: #339933;">=</span> <span style="color: #009900; font-weight: bold;">NULL</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Copying_Grids">Copying Grids</span></h3>
<p>A grid can be redisplayed in a subsequent DynaForm by reusing the same name for the grid in the subsequent DynaForm. However, if needing to create a second copy of a grid, simply copy the case variable for the grid to another case variable:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>gridCopy <span style="color: #339933;">=</span> <span style="color: #339933;">@=</span>gridOriginal<span style="color: #339933;">;</span></div></div>

<p>If needing to copy fields out of one grid to another grid, then loop through the grid and copy the field values.</p>
<p>For example, the "PriceList" grid has the "modelNo", "description", "supplier" and "listPrice" fields. Using data from the "PriceList" grid, a new grid named "OrderList" needs to be created with fields named "model", "price", and "quantity". The following trigger will loop through the "PriceList" grid, copying the "modelNo" and "listPrice" fields into the "model" and "quantity" fields in the new "OrderList" grid. The "quantity" field will also be created in the new grid, with values which are empty strings.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>OrderList <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> &nbsp; <span style="color: #666666; font-style: italic;">//create a new empty grid</span><br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>PriceList<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>OrderList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'model'</span> &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@=</span>PriceList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'modelNo'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'price'</span> &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@=</span>PriceList<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'listPrice'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'quantity'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">''</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Populating_Whole_Grids">Populating Whole Grids</span></h3>
<p>A new grid can be populated by assigning an associative array of associative arrays to the case variable for the grid.</p>
<p>For example, to populate a grid named "EmployeesGrid" with the fields "Name", "Salary" and "HireDate":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'1'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Name'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'John Doe'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Salary'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">22525.99</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'HireDate'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'2002-12-31'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'2'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Name'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Jane Roe'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Salary'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">40000.00</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'HireDate'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'1997-06-01'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'3'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Name'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'Jill Hill'</span><span style="color: #339933;">,</span><span style="color: #0000ff;">'Salary'</span><span style="color: #339933;">=&gt;</span><span style="color:#800080;">33600.10</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'HireDate'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">'2008-01-25'</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Setting_a_Fixed_Number_of_Empty_Rows">Setting a Fixed Number of Empty Rows</span></h3>
<p>To force a grid to have a fixed number of empty rows, uncheck the options <strong>Add Rows</strong> and <strong>Delete Rows</strong> when defining the grid object, so the user can not change the number of rows in the grid. Then, fire a trigger before the DynaForm, which prepopulates the grid with empty rows:</p>
<p>For example, to populate 3 empty rows in a grid named "EmployeesGrid" with the fields "Name", "Salary" and "HireDate":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'1'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Name'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Salary'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'HireDate'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'2'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Name'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Salary'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'HireDate'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'3'</span> <span style="color: #339933;">=&gt;</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Name'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Salary'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'HireDate'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>The number of rows in a grid can be set by a number from a case variable. For example, if the number of employees was placed in a field named "NumberEmployees" from a previous DynaForm, then a trigger could create that many rows in the "EmployeesGrid":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;=</span> <span style="color: #339933;">@%</span>NumberEmployees<span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>EmployeesGrid<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Name'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Salary'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'HireDate'</span><span style="color: #339933;">=&gt;</span><span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Populating_Grids_with_a_Database_Query">Populating Grids with a Database Query</span></h3>
<p>A grid can also be populated by a database query, since <tt>SELECT</tt> statements with <a href="../index.php/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">executeQuery()</a> return records as an array of associative arrays, which is the same format used by grids. As long as the database has the same field names as the grid field names, the data will be displayed correctly in the grid. Remember that field names are case sensitive.</p>
<p>For example, the values in the "EmployeesGrid" can be set by querying a table named <tt>Employees</tt> which also has the fields <tt>Name</tt>, <tt>Salary</tt> and <tt>HireDate</tt>.</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'0123456789abcdef0123456789abcdef'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// UID for the database connection</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'SELECT Name, Salary, HireDate FROM Employees'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">;</span></div></div>
	
<p>Remember to assign the result of a SQL query to the name of the grid object which is embedded in a master DynaForm. It is always a good idea to error check the result of a SQL query to make sure that it returns an array with at least one row before assigning it to the grid object. If the database uses different field names than the grid field names, then use <strong><tt>AS</tt></strong> to rename the fields. For example, if an external database with the table <tt>EMPLOYEES</tt> contains the fields <tt>FULL_NAME</tt>, <tt>STARTING_SALARY</tt> and <tt>HIRE_DATE</tt>, then those fields can be renamed to match the field names in the “EmployeesGrid”:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'0123456789abcdef0123456789abcdef'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// UID for the database connection</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'SELECT FULL_NAME AS Name, STARTING_SALARY AS Salary, '</span> <span style="color: #339933;">.</span> <br />
&nbsp; &nbsp;<span style="color: #0000ff;">'HIRE_DATE as HireDate FROM EMPLOYEES'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #339933;">;</span></div></div>
   
<h3><span id="Saving_Grids_to_an_External_Database">Saving Grids to an External Database</span></h3>
<p>To write the rows in a grid to an external database, loop through the grid and use an SQL INSERT statement to write each row to the database. For example, if writing the rows of the "EmployeesGrid" grid to the same external database as in the example above:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'0123456789abcdef0123456789abcdef'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">// UID for the database connection</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #b1b100;">as</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;INSERT INTO EMPLOYEES (FULL_NAME, STARTING_SALARY, HIRE_DATE) &quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;VALUES ( '<span style="color: #006699; font-weight: bold;">{$row['Name']}</span>', <span style="color: #006699; font-weight: bold;">{$row['Salary']}</span>, '<span style="color: #006699; font-weight: bold;">{$row['HireDate']}</span>' )&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> The values for character (string), date and datetime fields should be enclosed in single quotation marks. In the above example, the "FULL_NAME" field is a char (string) field, so its value is enclosed in single quotes. The "STARTING_SALARY" field is a floating point number, so its value does not need to be enclosed in quotation marks. The "HIRE_DATE" is a date field, so its value needs to be enclosed in single quotation marks in the format <tt>'YYYY-MM-DD'</tt> (which is a format supported by most databases). If the external database is Oracle, then use<tt>DATE 'YYYY-MM-DD'</tt><br>When inserting an element from an associative array inside a double quoted string, the variable needs to be enclosed inside curly brackets:<br><tt>"...{$<i><strong>variable</strong></i>['<i><strong>element_key</strong></i>']}..."</tt><br>To enclose that element inside of single quotes as a string, date or datetime value:<br><tt>"...'{$<i><strong>variable</strong></i>['<i><strong>element_key</strong></i>']}'..."</tt></p>
<h2><tt><span id="Using_Grids_as_Serialized_Strings">Using Grids as Serialized Strings</span></tt></h2>
<p>A grid can be converted into a serialized string with PHP's <a href="http://php.net/manual/en/function.serialize.php">serialize()</a> or <a href="http://php.net/manual/en/function.json-encode.php">json_encode()</a> functions. <tt>serialize()</tt> is a more accurate way to serialize objects and arrays, but it is only useful, if planning on decoding the serialized string with PHP. To decode the string with another language, such as JavaScript, it is better to use <tt>json_encode()</tt>, since almost all languages support the <a href="http://www.json.org/">JSON</a> format.</p>
<p>Serialization can be useful in a number of situations:</p>
<ol><li><tt>Saving a grid to a single field in a database.</tt></li><li><tt>Passing a grid to a hidden field in a DynaForm.</tt></li><li><tt>Passing a grid as a GET or POST variable to a WWW form.</tt></li><li><tt>Passing a grid with the <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Get_Variables" title="ProcessMaker WSDL Web Services">getVariables()</a> and <a href="../index.php/ProcessMaker_WSDL_Web_Services.html#Send_Variables" title="ProcessMaker WSDL Web Services">sendVariables()</a> web services.</tt></li></ol>
<h3><span id="Saving_Serialized_Grids_to_Databases">Saving Serialized Grids to Databases</span></h3>
<p>Let's consider the first situation, when needing to store a grid in a single field in a database. Use PHP's <a href="http://php.net/manual/en/function.serialize.php">serialize()</a> and <a href="http://www.php.net/manual/en/function.addslashes.php">addslashes()</a> functions to convert the grid into a string that can be saved to a database.</p>
<p>For instance, the following Trigger code stores a grid named "DetailsGrid" to the <strong><tt>CONTACTS.CLIENTS.DETAILS</tt></strong> field in an external database:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span><span style="color: #0000ff;">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//UID for database connection to CONTACTS</span><br />
<span style="color: #000088;">$CaseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//UID for the current case </span><br />
<span style="color: #000088;">$sGrid</span> <span style="color: #339933;">=</span> <a href="http://php.net/addslashes"><span style="color: #990000;">addslashes</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/serialize"><span style="color: #990000;">serialize</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>DetailsGrid<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;INSERT INTO CLIENTS (ID, DETAILS) VALUES ('<span style="color: #006699; font-weight: bold;">$caseId</span>', '<span style="color: #006699; font-weight: bold;">$sGrid</span>')&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>Use PHP's <a href="http://php.net/manual/en/function.unserialize.php">unserialize()</a> function to convert a serialized grid back into an array of associative arrays, so it can be assigned to a grid in a DynaForm.</p>
<p>For instance, to retrieve the serialized grid from an external database in the example above and assign it to a grid named "ReviewGrid":</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$db</span> <span style="color: #339933;">=</span><span style="color: #0000ff;">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//UID for database connection to CONTACTS</span><br />
<span style="color: #000088;">$CaseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//UID for the current case </span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT DETAILS FROM CLIENTS WHERE ID='CaseId'&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>ReviewGrid <span style="color: #339933;">=</span> <a href="http://php.net/unserialize"><span style="color: #990000;">unserialize</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DETAILS'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
   
<h3><span id="Passing_Serialized_Grids_to_a_DynaForm">Passing Serialized Grids to a DynaForm</span></h3>
<p>If needing to use the data from a grid (or a database query) in a DynaForm, but not wanting to display that grid to the user, it may be useful to pass the grid as a serialized string to the DynaForm. First, create a hidden field in the DynaForm to hold the grid. Then, fire a trigger before the DynaForm is displayed, to convert the grid into a serialized string with <tt>json_encode()</tt>and save it to the case variable for the hidden field.</p>
<p>For example, a grid named "AccountsGrid" needs to be passed to a hidden field named "sAccounts" in a DynaForm, so that fields from that grid can be used to populate a dropdown box. First, create the following trigger which will be set to fire <i>before</i> the DynaForm is displayed:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>sAccounts <span style="color: #339933;">=</span> <a href="http://php.net/json_encode"><span style="color: #990000;">json_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>AccountsGrid<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Passing_Database_Queries_to_a_DynaForm">Passing Database Queries to a DynaForm</span></h3>
<p>Since database queries returned by <a href="../index.php/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">executeQuery()</a> have the same structure as grids, the same code <i>above</i> can be used to pass database queries to DynaForms. For example:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT * FROM ACCOUNTS_TABLE WHERE ID='XXXXXX'&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$db</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>sAccounts <span style="color: #339933;">=</span> <a href="http://php.net/json_encode"><span style="color: #990000;">json_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
   
<h3><span id="Populating_Dropdowns_from_a_Serialized_Grid_or_Query">Populating Dropdowns from a Serialized Grid or Query</span></h3>
<p>Then, the following JavaScript code in the DynaForm decodes the JSON string in "sAccounts" field when the DynaForm is loaded. In JSON, there are no associative arrays, so it is decoded as an object of objects for each row in the grid, where each grid field name (and its value) is a member of the object. In this example, the "AccountsGrid" has the fields "accountId" and "accountName", which are used to populate the <i>values</i> and <i>labels</i> of options in the "SelectAccount" dropdown box:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> dynaformOnload <span style="color: #339933;">=</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;SelectAccount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">length</span> <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//remove all existing options</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> aAccounts <span style="color: #339933;">=</span> eval<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'('</span> <span style="color: #339933;">+</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;sAccounts&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">')'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">typeof</span> aAccounts <span style="color: #339933;">==</span> <span style="color: #3366CC;">'object'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">var</span> opt<span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #000066; font-weight: bold;">in</span> aAccounts<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;opt <span style="color: #339933;">=</span> document.<span style="color: #660066;">createElement</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;OPTION&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;opt.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> aAccounts<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">accountId</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;opt.<span style="color: #660066;">text</span> <span style="color: #339933;">=</span> aAccounts<span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">accountName</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;SelectAccount&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">options</span>.<span style="color: #660066;">add</span><span style="color: #009900;">&#40;</span>opt<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p><span style="color: red; font-size: 8pt;"><strong>Note:</strong></span> <span style="color: grey; font-size: 8pt;"><strong>Using <a href="http://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/eval">eval()</a> to decode JSON strings is a possible security hole because it allows for <a href="http://en.wikipedia.org/wiki/Code_injection">code injection</a> attacks, so it is recommended to use <a href="http://developer.mozilla.org/En/Using_JSON_in_Firefox">JSON.parse()</a> if the content of a grid is filled by a user. <tt>JSON.parse()</tt> is available in FireFox 3.5+ and Internet Explorer 8+, but the <a href="https://github.com/douglascrockford/JSON-js/blob/master/json2.js">json2.js</a> code file will have to be <a href="../index.php/JavaScript_in_DynaForms.html#Importing_external_JavaScript_files" title="JavaScript in DynaForms">imported</a> if using older web browsers.</strong></span></p>
<h3><span id="Populating_Grids_from_a_Serialized_Grid_or_Query">Populating Grids from a Serialized Grid or Query</span></h3>
<p>Similar code to the above example could be used to populate a grid from a serialized grid or serialized database query. For example, the same trigger code above passes a serialized grid to the hidden field named "sAccounts". Then the following JavaScript code in a DynaForm unserializes the hidden field as an object and uses its information to populate a grid named "newAccountsGrid" which has the fields "accId", "accName" and "createDate":</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">function</span> populateGrid<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> grd <span style="color: #339933;">=</span> getObject<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;newAccountsGrid&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #006600; font-style: italic;">//remove all existing rows in the grid (except the first one): </span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> i <span style="color: #339933;">=</span> Number_Rows_Grid<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;newAccountsGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #3366CC;">&quot;accId&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&gt;</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">;</span> i<span style="color: #339933;">--</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; grd.<span style="color: #660066;">deleteGridRow</span><span style="color: #009900;">&#40;</span>i<span style="color: #339933;">,</span> <span style="color: #003366; font-weight: bold;">true</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #006600; font-style: italic;">//The first row can't be deleted, so clear the fields in the first row:</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span>i <span style="color: #339933;">=</span> <span style="color: #CC0000;">0</span><span style="color: #339933;">;</span> i <span style="color: #339933;">&lt;</span> grd.<span style="color: #660066;">aFields</span>.<span style="color: #660066;">length</span><span style="color: #339933;">;</span> i<span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;contactsGrid&quot;</span><span style="color: #339933;">,</span> <span style="color: #CC0000;">1</span><span style="color: #339933;">,</span> grd.<span style="color: #660066;">aFields</span><span style="color: #009900;">&#91;</span>i<span style="color: #009900;">&#93;</span>.<span style="color: #660066;">sFieldName</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">=</span> <span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #006600; font-style: italic;">//unserialize the hidden field as an object:</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">var</span> oAccounts <span style="color: #339933;">=</span> eval<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'('</span> <span style="color: #339933;">+</span> getField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;sAccounts&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">value</span> <span style="color: #339933;">+</span> <span style="color: #3366CC;">')'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">typeof</span> oAccounts <span style="color: #339933;">==</span> <span style="color: #3366CC;">'object'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span> <br />
&nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000066; font-weight: bold;">var</span> rowNo <span style="color: #000066; font-weight: bold;">in</span> oAccounts<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>rowNo <span style="color: #339933;">!=</span> <span style="color: #CC0000;">1</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grd.<span style="color: #660066;">addGridRow</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'newAccountsGrid'</span><span style="color: #339933;">,</span> rowNo<span style="color: #339933;">,</span> <span style="color: #3366CC;">'accId'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">href</span> <span style="color: #339933;">=</span> oAccounts<span style="color: #009900;">&#91;</span>rowNo<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;accountId&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'newAccountsGrid'</span><span style="color: #339933;">,</span> rowNo<span style="color: #339933;">,</span> <span style="color: #3366CC;">'accName'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">href</span> <span style="color: #339933;">=</span> oAccounts<span style="color: #009900;">&#91;</span>rowNo<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;accountName&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;getGridField<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'newAccountsGrid'</span><span style="color: #339933;">,</span> rowNo<span style="color: #339933;">,</span> <span style="color: #3366CC;">'createDate'</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">href</span> <span style="color: #339933;">=</span> oAccounts<span style="color: #009900;">&#91;</span>rowNo<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;created&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
populateGrid<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #006600; font-style: italic;">//execute when the DynaForm loads</span></div></div></div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&amp;mt=8" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com/">
		<img src="../themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&amp;gid=3970335&amp;trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>

<!-- Mirrored from wiki.processmaker.com/node/80 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:50:34 GMT -->
</html>
