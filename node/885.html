<!DOCTYPE html>

<!-- Mirrored from wiki.processmaker.com/node/885 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:36:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="../themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../3.3/Output_Documents.html" />
<link rel="shortlink" href="885.html" />
<title>3.3 - 3.8 - Output Documents | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("../modules/system/system.base2af9.css?s743n7");
@import url("../modules/system/system.menus2af9.css?s743n7");
@import url("../modules/system/system.messages2af9.css?s743n7");
@import url("../modules/system/system.theme2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../modules/aggregator/aggregator2af9.css?s743n7");
@import url("../modules/comment/comment2af9.css?s743n7");
@import url("../modules/field/theme/field2af9.css?s743n7");
@import url("../modules/node/node2af9.css?s743n7");
@import url("../modules/search/search2af9.css?s743n7");
@import url("../modules/toc_filter/toc_filter2af9.css?s743n7");
@import url("../modules/user/user2af9.css?s743n7");
@import url("../modules/views/css/views2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../sites/all/modules/colorbox/styles/default/colorbox_style2af9.css?s743n7");
@import url("../modules/ctools/css/ctools2af9.css?s743n7");
@import url("../sites/all/modules/geshifilter/geshifilter2af9.css?s743n7");
@import url("../modules/panels/css/panels2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus_default2af9.css?s743n7");
@import url("../modules/fivestar/css/fivestar2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../themes/thecompany_responsive_theme/css/style2af9.css?s743n7");
@import url("../themes/thecompany_responsive_theme/css/media2af9.css?s743n7");
</style>
<script type="text/javascript" src="../modules/jquery_update/replace/jquery/1.9/jquery.min4b17.js?v=1.9.1"></script>
<script type="text/javascript" src="../misc/jquery.once7839.js?v=1.2"></script>
<script type="text/javascript" src="../misc/drupal2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.bgiframef195.js?v=2.1"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.hoverIntent1f6b.js?v=0.5"></script>
<script type="text/javascript" src="../modules/nice_menus/js/superfish099d.js?v=1.4.8"></script>
<script type="text/javascript" src="../modules/nice_menus/js/nice_menusc619.js?v=1.0"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/ui/external/jquery.cookie1683.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/misc/jquery.form.min97e5.js?v=2.69"></script>
<script type="text/javascript" src="../misc/ajax2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/jquery_update/js/jquery_update241d.js?v=0.0.1"></script>
<script type="text/javascript" src="../modules/toc_filter/toc_filter2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../misc/progress2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar.ajax2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-1.10.2.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/custom2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"QYm468gd92hqxErYpJr3J5cyFK8ovpzSNH6Af1vR_ZQ","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','../../connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-885 node-type-processmakerbpm">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../3.1/user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../3.1/developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../3.1/resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="https://wiki.processmaker.com/node/885" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-ucs0qAmv7pwN3f_tOJVNkYfIkgEJd7Jr8BNAxCS5vnI" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.3 - 3.8 - Output Documents</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a  class="active-version">3.8</a></li><li><a  class="active-version">3.7</a></li><li><a  class="active-version">3.6</a></li><li><a  class="active-version">3.5</a></li><li><a  class="active-version">3.4</a></li><li><a  class="active-version">3.3</a></li><li><a href="../3.2/Output_Documents.html" class="">3.2</a></li><li><a href="../3.0/Output_Documents.html" class="">3.1</a></li><li><a href="../3.0/Output_Documents.html" class="">3.0</a></li><li><a href="../index.php/Output_Documents.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.3 - 3.8 - Output Documents" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-processmakerbpm">
    <div class="field field-name-field-how-useful-did-you-find-th field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="https://wiki.processmaker.com/node/885" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.3 - 3.8 - Output Documents 1/5</option><option value="40">Give 3.3 - 3.8 - Output Documents 2/5</option><option value="60" selected="selected">Give 3.3 - 3.8 - Output Documents 3/5</option><option value="80">Give 3.3 - 3.8 - Output Documents 4/5</option><option value="100">Give 3.3 - 3.8 - Output Documents 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2.4</span></span> <span class="total-votes">(<span >7</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-EzibFTnGkuteOXtqBQxyXMPFlt5cl5SWv_qaAgnnxpI" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="#Overview">Overview</a></li>
<li class="toc"><a href="#Output_Document_Management">Output Document Management</a></li>
<li class="toc"><a href="#Creating_Output_Documents">Creating Output Documents</a></li>
<ol class="toc">
<li class="toc"><a href="#Creating_Output_Documents_Usign_TCPDF_Generator">Use TCPDF Generator</a></li>
<li class="toc"><a href="#Creating_Output_Documents_Usign_HTML2PDF_Generator">Use HTML2PDF Generator</a></li>
</ol>
<li class="toc"><a href="#Editing_Templates">Editing Templates</a></li>
<ol class="toc">
<li class="toc"><a href="#Inserting_Variables">Inserting Variables</a></li>
<ol class="toc">
<li class="toc"><a href="#Line_Breaks_in_Textareas">Line Breaks in Textareas</a></li>
</ol>
<li class="toc"><a href="#Formatting_Output_Documents">Formatting Output Documents</a></li>
</ol>
<li class="toc"><a href="#Editing_the_HTML_Code">Editing the HTML Code</a></li>
<ol class="toc">
<li class="toc"><a href="#Inserting_Images">Inserting Images</a></li>
<ol class="toc">
<li class="toc"><a href="#Provide_The_Image_URL">Provide The Image URL</a></li>
<li class="toc"><a href="#Upload_The_Image_Directly">Upload The Image Directly</a></li>
<li class="toc"><a href="#Save_The_Encoded_Base_64_Image_From_Trigger">Save The Encoded Base 64 Image From Trigger</a></li>
</ol>
<li class="toc"><a href="#Inserting_form_fields">Inserting Form Fields</a></li>
<li class="toc"><a href="#Inserting_Variables_inside_Form_Fields">Inserting Variables Inside Form Fields</a></li>
<ol class="toc">
<li class="toc"><a href="#Checkboxes_in_Output_Documents">Checkboxes in Output Documents</a></li>
<li class="toc"><a href="#Checkgroups_in_Output_Documents">Checkgroups in Output Documents</a></li>
</ol>
<li class="toc"><a href="#Inserting_Page_Breaks">Inserting Page Breaks</a></li>
<li class="toc"><a href="#Page_Headers_and_Footers">Page Headers and Footers (HTML2PDF Library)</a></li>
<li class="toc"><a href="#Page_Numbers_and_File_Information">Page Numbers and File Information (HTML2PDF Library)</a></li>
<li class="toc"><a href="#Formatting_documents_to_display_content_in_RTL">Formatting Documents to Display Content in RTL</a></li>
</ol>
<li class="toc"><a href="#Custom_fonts_in_Output_documents">Custom fonts in Output Documents</a></li>
<ol class="toc">
<li class="toc"><a href="#Considerations_for_Custom_Fonts_in_Output_Documents">Considerations for Custom Fonts in Output Documents</a></li>
<li class="toc"><a href="#Add_Custom_fonts_in_Output_documents">Add a new custom font</a></li>
<ol class="toc">
<li class="toc"><a href="#Needed_Config_Nginx_Custom_fonts_in_Output_documents">Additional Required Configuration When Using an NGINX Stack</a></li>
<li class="toc"><a href="#Examples_on_how_to_add_fonts">Examples</a></li>
</ol>
<li class="toc"><a href="#Remove_Custom_fonts_in_Output_documents">Remove a registered font</a></li>
<li class="toc"><a href="#List_Custom_fonts_in_Output_documents">List Registered Fonts</a></li>
</ol>
<li class="toc"><a href="#Errors_with_Output_Documents">Errors with Output Documents</a></li>
<ol class="toc">
<li class="toc"><a href="#Error_while_generating_PDF_Documents">Error While Generating PDF Documents</a></li>
<li class="toc"><a href="#Variables_are_not_inserted">Variables are not Inserted</a></li>
<li class="toc"><a href="#Output_Document_is_empty">Output Document is Empty</a></li>
<li class="toc"><a href="#Error_in_html2pdf">Error in HTML2PDF</a></li>
</ol>
<li class="toc"><a href="#Using_Non_ASCII_Characters_in_Output_Documents">Using Non US-ASCII Characters in Output Documents</a></li>
<li class="toc"><a href="#Output_Documents_in_Multiple_Languages">Output Documents in Multiple Languages</a></li>
<li class="toc"><a href="#Inserting_Output_Documents_into_the_Process">Inserting Output Documents into a Process</a></li>
<li class="toc"><a href="#Output_Documents_Examples">Output Documents Examples</a></li>
<ol class="toc">
<li class="toc"><a href="#Simple_Output_Documents_Example">Simple Output Documents Example </a></li>
<li class="toc"><a href="#Output_Documents_Example_with_HTML">Output Documents Example with HTML</a></li>
<li class="toc"><a href="#Output_Documents_Example_with_Grids">Output Document Example When Working With Grids</a></li>
</ol>
<li class="toc"><a href="#Restrict_Output_Document_Links">Restrict Output Document Links</a></li>
<li class="toc"><a href="#Output_Document_Storage">Output Document Storage</a></li>
<ol class="toc">
<li class="toc"><a href="#Output_Document_Definitions">Output Document Definitions</a></li>
<li class="toc"><a href="#Output_Document_Files">Output Document Files</a></li>
<ol class="toc">
<li class="toc"><a href="#Changing_the_File_Location">Changing the File Location</a></li>
</ol>
<li class="toc"><a href="#Generated_Output_Documents_in_the_Database">Generated Output Documents in the Database</a></li>
<li class="toc"><a href="#UploadOutput_DocumentsFonts_through_the_Skins">Upload Output Documents' Fonts through the Skins</a></li>
<ol class="toc">
<li class="toc"><a href="#Results_UploadOutput_DocumentsFonts">Results</a></li>
</ol>
</ol>
<li class="toc"><a href="#Accessing_Output_Documents_with_Triggers">Accessing Output Document with Triggers</a></li>
<ol class="toc">
<li class="toc"><a href="#Links_to_Output_Documents_in_DynaForms">Links to Output Documents in Dynaforms</a></li>
<li class="toc"><a href="#Generating_Output_Documents">Generating Output Documents</a></li>
<li class="toc"><a href="#convert_to_text_file">Convert Output Documents to Text Files</a></li>
</ol>
</div></div>

<h2><span id="Overview">Overview</span></h2>

<p>Output Documents are files generated while running a case, which are meant to be printed out or stored digitally outside ProcessMaker. Output Documents are useful for creating external records of case data, as well as creating formatted documents such as letters, bills and receipts. Output Documents are generated from HTML templates and can contain variables, which are auto-inserted when the Output Document is generated as a step when running a case. Output Documents are generated as PDF <em>(Portable Document Format)</em> and/or DOC <em>(Word document)</em> files, so they can be easily opened and printed using Adobe Acrobat and Microsoft Office (or alternatives such as <a  href="http://www.foxitsoftware.com/pdf/reader" >Foxit Reader</a>, <a  href="http://projects.gnome.org/evince" >Evince</a>, <a  href="http://okular.kde.org/" >Okular</a>, <a  href="http://www.corel.com/servlet/Satellite/gb/en/Product/1207676528492" >WordPerfect</a>, <a href="http://www.abisource.com/">AbiWord</a> and <a  href="http://www.openoffice.org/" >OpenOffice</a>).</p>

<p>If the Output Document is generated as a PDF file, either the <a href="https://github.com/spipu/html2pdf" target="_blank">HTML2PDF</a> (an old version of a PDF generator which is no longer recommended and is not available as of PHP 7.X, specifically as of <b>ProcessMaker 3.3.0</b>) or the <a href="http://www.tcpdf.org/">TCPDF</a> library can be used to generate the PDF file.</p>

<p><a href="https://github.com/spipu/html2pdf" target="_blank">HTML2PDF</a> can be used to insert some of the formatting options listed below, such as page breaks and headers and footers. The advantage of this library is that generates compressed PDF documents by omitting extra parameters in the code, which means that the PDF file will be smaller in size.</p>

<p><a href="http://www.tcpdf.org/">TCPDF</a> is compatible with more recent versions of PHP and is recommended if the document that will be generated contains images or it is necesary to minimize the size of the file.</p>

<h2><strong><span id="Output_Document_Management">Output Document Management</span></strong></h2>
<p>To see the list of output documents created in the process, click on the <b>Output Documents</b> option inside the Process Objects toolbox:</p>
<p><img alt="" src="../sites/default/files/OutputDocumentOptionVersion3.png"></p>
<p>All the Output Documents will be listed:</p>
<p><img alt="" src="../sites/default/files/OutputDocumentsListVersion3.png"></p>
<p>Where:</p>
<ol>
    <li><p><strong>Search Field:</strong> Enter the title of an output document in this field. As the text is entered all coincidences will be filtered in the list below.</p>
        <p><img alt="" src="../sites/default/files/OutputDocumentSearchVersion3.png"></p>
    </li>
    <li><p><strong>Create:</strong> Opens a window to create a new output document. It is possible to use either this option to create an output document or <a href="#Creating_Output_Documents">this option</a>.</p>
    </li>
    <li><p><strong>Show ID:</strong> Obtains the unique identification code of the output document. For instance, use this ID to create an output document using the <a href="../3.2/ProcessMaker_Functions.html#PMFGenerateOutputDocument.28.29" title="ProcessMaker Functions">PMFGenerateOutputDocument</a> function.</p>
    </li>
    <li><p><strong>Title:</strong> Shows the title of the output document created in the project. The list is sorted in ascending order by default, but it is possible to view the list of documents in descending order by clicking on the down triangle next to "Title".</p></li>
    <li><p><strong>Type:</strong> Shows the type of document, which always is HTML.</p></li>
    <li><p><strong>Edit:</strong> Opens a window to edit the corresponding output document.</p></li>
    <li><p><strong>Open Editor:</strong> Opens an editor to edit the document template. Note that this editor is different from the <a href="../index.php/New_WYSIWYG_HTML_Editor.html" title="WYSIWYG HTML Editor"><tt>WYSIWYG HTML</tt></a>. The editor for the <strong>Open Editor</strong> option can use the configured custom fonts in <a href="../3.3/Adding_Fonts_for_the_UTF-8_International_Character_Set.html">Adding Fonts for the UTF-8 International Character Set</a>.</p>
        <p><img alt="" src="../sites/default/files/OutputDocumentEditorWindow.png"></p>
    </li>
    <li><p><strong>Delete:</strong> Click this option to delete the output document. The following confirmation message will be shown:</p>
        <p><img alt="" src="../sites/default/files/OutputDocumentDeleteMessageVersion3.png"></p>
        <p>Select <b>Yes</b> to delete the output document and the flash message "Output document deleted successfully" will be shown in the upper part of the designer.</p>
    </li>
    <li><p><strong>Pagination Control:</strong> When there are more than 10 documents created in the process, a new page is added to this window. To navigate through these pages use the &gt; or &lt; options. To view a specific page, click on the number of the page in the control.</p>
    </li>
</ol>

<h2><strong><span id="Creating_Output_Documents">Creating Output Documents</span></strong></h2>
<p>To create a new Output Document, open a project and go to the right side of the screen where the <a href="../3.2/Processes.html#Main_toolbox" title="3.2/Processes">Process Objects toolbox</a> is located. Hover the pointer of the mouse over the <tt><strong>+</strong></tt> icon and the <b>Create</b> option will be displayed to the left:</p>
<p><img alt="" src="../sites/default/files/OutputDocumentCreateOptionVersion3.png"></p>
<p>Click on the <b>Create</b> option and the following window will be displayed:</p>
<p><img alt="" src="../sites/default/files/3.7.6CreateOutputDocument.png"></p>
<p>Where:</p>
<ol>
    <li><strong>Title</strong>: Adds a title that identifies the output document.</li>

    <li><p><strong>Filename generated</strong>: The file name to be generated when an output document is created while <a href="#Simple_Output_Documents_Example">running cases</a>.</p>
    <p>Paths cannot be included in the file name, since output documents are stored in a standard location in the file system.</p>
    <p>To include a system or case variable in the file name, click the <strong>[@@]</strong> button and select a variable. It is recommended to use only the <code>@#<font color=purple><i>variable</i></font></code> (the <a href="../3.2/Triggers.html#Typing_rules_for_Case_Variables"><code>@#</code></a> prefix) in file names and not <code>@@<font color=purple><i>variable</i></font></code> because the Windows operating system can't handle file names that contain <code>"</code> (double quotation marks).</p>

    <p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">Considerations about characters in the file name generated:
        <ul style="margin-left:25px">
            <li>If the configured file name contains special characters (<b><tt>\ /: *? "<> |"></tt></b>) that are not supported by the operating system, the file name when generating the Output Document replaces the special character with underscores (<b><tt>_</tt></b>).</li>
            <li>Characters with an accent no longer are replaced by equivalent English characters.</li>
            <li>Double quotes are removed from the filename.</li>
            <li>The system reserved characters <b><tt># % & $ { } [ ] ( )</tt></b> are not replaced with underscores (<b><tt>_</tt></b>).</li>
        </ul>
        <!--The <b><tt>ñ</tt></b>, accented letters, and special characters (depending on the operating system) are not replaced in the file name generated.--></font></p>
    </li>

    <span id="description"><li><strong>Description</strong>: A small description about the document, which should inform the user about the general content or purpose of the document.</li></span>

    <li><strong>Report Generator</strong>: Choose the <a href="#Creating_Output_Documents_Usign_TCPDF_Generator">TCPDF</a> or <a href="#Creating_Output_Documents_Usign_HTML2PDF_Generator">HTML2PDF</a> engine that will generate the output documents.</li>

    <li><strong>Media</strong>: Select the paper size:

        <table style="width:auto;">
            <tbody>
                <tr>
                    <th><strong>Paper Type</strong></th>
                    <th><strong>Width (mm)</strong></th>
                    <th><strong>Height (mm)</strong></th>
                </tr>
            </tbody>
            <tbody>
                <tr>
                    <td>Letter</td>
                    <td>216</td>
                    <td>279</td>
                </tr>
                <tr>
                    <td>Legal</td>
                    <td>216</td>
                    <td>357</td>
                </tr>
                <tr>
                    <td>Executive</td>
                    <td>184</td>
                    <td>267</td>
                </tr>
                <tr>
                    <td>B5</td>
                    <td>182</td>
                    <td>257</td>
                </tr>
                <tr>
                    <td>Folio</td>
                    <td>216</td>
                    <td>330</td>
                </tr>
                <tr>
                    <td>A0Oversize</td>
                    <td>882</td>
                    <td>1247</td>
                </tr>
                <tr>
                    <td>A0</td>
                    <td>841</td>
                    <td>1189</td>
                </tr>
                <tr>
                    <td>A1</td>
                    <td>594</td>
                    <td>841</td>
                </tr>
                <tr>
                    <td>A2</td>
                    <td>420</td>
                    <td>594</td>
                </tr>
                <tr>
                    <td>A3</td>
                    <td>297</td>
                    <td>420</td>
                </tr>
                <tr>
                    <td>A4</td>
                    <td>210</td>
                    <td>297</td>
                </tr>
                <tr>
                    <td>A5</td>
                    <td>148</td>
                    <td>210</td>
                </tr>
                <tr>
                    <td>A6</td>
                    <td>105</td>
                    <td>148</td>
                </tr>
                <tr>
                    <td>A7</td>
                    <td>74</td>
                    <td>105</td>
                </tr>
                <tr>
                    <td>A8</td>
                    <td>52</td>
                    <td>74</td>
                </tr>
                <tr>
                    <td>A9</td>
                    <td>37</td>
                    <td>52</td>
                </tr>
                <tr>
                    <td>A10</td>
                    <td>26</td>
                    <td>37</td>
                </tr>
                <tr>
                    <td>Screenshot640</td>
                    <td>640</td>
                    <td>480</td>
                </tr>
                <tr>
                    <td>Screenshot800</td>
                    <td>800</td>
                    <td>600</td>
                </tr>
                <tr>
                    <td>Screenshot1024</td>
                    <td>1024</td>
                    <td>768</td>
                </tr>
            </tbody>
        </table>
    </li>

    <li><strong>Orientation:</strong> Select the page orientation between <b>Portrait</b> or <b>Landscape</b>.</li>

    <li><strong>Left</strong>: Size of the paper's left margin in mm.</li>
    <li><strong>Right</strong>: Size of the paper's right margin in mm.</li>
    <li><strong>Top</strong>: Size of the paper's top margin in mm.</li>
    <li><strong>Bottom</strong>: Size of the paper's bottom margin in mm.</li>

    <li><strong>Header:</strong> The <strong>Header</strong> setting is available as of <b>ProcessMaker 3.7.6</b> for PDF documents with the TCPDF engine. Enable the <b>Header</b> toggle to display a header on the top of the page. The <strong>Header Settings</strong> displays. 
      <p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> The Header works just with PDF documents. Future ProcessMaker versions will support Word documents.</font></p>
      Configure the following header settings:
    <p><img src="../sites/default/files/3.7.6OutputDocuments_HeaderSettings.png" alt=""></p>
        <ul>
            <li><strong>Header Title:</strong> Enter a text, or select a <a href="../3.2/Triggers.html#How_to_use_case_variables">variable</a> by clicking <code>@@</code> to display a text title in the header.
                <ul>
                    <li><strong>Font Size:</strong> Select the text font size in PX from 8 up to a maximum of 72.</li>
                    <li><strong>Position X:</strong> Select the text left margin to the right in PX from 0 to any maximum number.</li>
                    <li><strong>Position Y:</strong> Select the text top margin to the bottom in PX from 0 to any maximum number.</li>
                </ul>
            </li>
            <li><strong>Header Logo:</strong> Enter the logo path and the logo name with <code>JPG</code> or <code>PNG</code> extension, or select a <a href="../3.2/Triggers.html#How_to_use_case_variables">variable</a> by clicking <code>@@</code> to display a logo in the header. The image must be in the image folder.
                <ul>
                    <li><strong>Logo Width:</strong> Select the logo width in PX from 0 to the largest.</li>
                    <li><strong>Position X:</strong> Select the logo left margin to the right in PX from 0 to any maximum number.</li>
                    <li><strong>Position Y:</strong> Select the logo top margin to the bottom in PX from 0 to any maximum number.</li>
                </ul>
            </li>

            <li><strong>Page Number:</strong> Enable the <b>Page Number</b> toggle to set page numbers in the header.
                <ul>
                    <li><strong>Pagination Title:</strong> Enter a text, or select a <a href="../3.2/Triggers.html#How_to_use_case_variables">variable</a> by clicking <code>@@</code> to display a text in the pagination.</li>
                    <li><strong>Total Number of Pages:</strong> Enable the <b>Total Number of Pages</b> toggle to display the total number of pages in the pagination.</li>
                    <li><strong>Position X:</strong> Select the pagination left margin to the right in PX from 0 to any maximum number.</li>
                    <li><strong>Position Y:</strong> Select the pagination top margin to the bottom in PX from 0 to any maximum number.</li>
                </ul>
            </li>
        </ul>
    </li>

    <li><strong>Footer:</strong> The <strong>Footer</strong> setting is available as of <b>ProcessMaker 3.7.6</b> for PDF documents with the TCPDF engine. Enable the <b>Footer</b> toggle to display a footer on the bottom of the page. The <strong>Footer Settings</strong> displays. 
      <p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> The Footer works just with PDF documents. Future ProcessMaker versions will support Word documents.</font></p>
      Configure the following footer settings:
        <p><img src="../sites/default/files/3.7.6OutputDocuments_FooterSettings.png" alt=""></p>
        <ul>
            <li><strong>Footer Title:</strong> Enter a text, or select a <a href="../3.2/Triggers.html#How_to_use_case_variables">variable</a> by clicking <code>@@</code> to display a text title in the footer.
                <ul>
                    <li><strong>Font Size:</strong> Select the text font size in PX from 8 up to a maximum of 72.</li>
                    <li><strong>Position X:</strong> Select the text left margin to the right in PX from 0 to any maximum number.</li>
                    <li><strong>Position Y:</strong> Select the text top margin to the bottom in PX from 0 to any maximum number.</li>
                </ul>
            </li>
            <li><strong>Footer Logo:</strong> Enter the logo path and the logo name with <code>JPG</code> or <code>PNG</code> extension, or select a <a href="../3.2/Triggers.html#How_to_use_case_variables">variable</a> by clicking <code>@@</code> to display a logo in the footer. The image must be in the image folder.
                <ul>
                    <li><strong>Logo Width:</strong> Select the logo width in PX from 0 to the largest.</li>
                    <li><strong>Position X:</strong> Select the logo left margin to the right in PX from 0 to any maximum number.</li>
                    <li><strong>Position Y:</strong> Select the logo top margin to the bottom in PX from 0 to any maximum number.</li>
                </ul>
            </li>

            <li><strong>Page Number:</strong> Enable the <b>Page Number</b> toggle to set page numbers in the footer.
                <ul>
                    <li><strong>Pagination Title:</strong> Enter a text, or select a <a href="../3.2/Triggers.html#How_to_use_case_variables">variable</a> by clicking <code>@@</code> to display a text in the pagination.</li>
                    <li><strong>Total Number of Pages:</strong> Enable the <b>Total Number of Pages</b> toggle to display the total number of pages in the pagination.</li>
                    <li><strong>Position X:</strong> Select the pagination left margin to the right in PX from 0 to any maximum number.</li>
                    <li><strong>Position Y:</strong> Select the pagination top margin to the bottom in PX from 0 to any maximum number.</li>
                </ul>
            </li>
        </ul>
    </li>

    <li><strong>Output Document to Generate</strong>: Select whether the output document will be generated in DOC, PDF, or both formats.</li>

    <li><strong>PDF Security</strong>: An option that allows passwords to be set for the generated PDF document and restricts how it may be used. Select one of the following options:
        <ul>
            <li><strong>Disabled</strong>: Default. No security will be applied to the generated PDF document.</li>
            <li><strong>Enabled</strong>: If selected, the following security options are displayed:
                <ul>
                    <li><strong>Open Password:</strong> Define a password to open the PDF document.</li>
                    <li><strong>Owner Password:</strong> Define a password to change the PDF document's permissions.</li>
                    <li><strong>Allowed Permissions:</strong> Select how the PDF document may be used. To select more than one option, hold down on the CTRL key while clicking the following options:
                        <ul>
                            <li><strong>Print</strong>: The document can be printed.</li>
                            <li><strong>Modify</strong>: The document can be edited.</li>
                            <li><strong>Copy</strong>: The document can be copied.</li>
                            <li><strong>Forms</strong>: The fields in the document may be filled in.</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
    
    <li><span id="versioning"><strong>Enable Versioning</strong>:</span> Presents a dropdown with two options, which are "Yes" and "No". If "Yes" is chosen, then ProcessMaker will keep multiple versions of the output document. Versioning is useful if the same output document is created at multiple steps in a case. This option allows a record to be kept of how the document's data changes over the course of a case, which is useful for maintaining audit trails.</li>
    
    <li><strong>Destination Path</strong>: Enter the name of the folder where the output document should be stored.
        Click on the <strong>[@@]</strong> button to select a variable to use in the folder name. To specify a
        subfolder inside other folders, enter a path to that folder, separating each folder with a / (forward slash).
        For example: <strong><tt>Invoices/@#USR_USERNAME/@#subject_@#date</tt></strong><br>To see a list of input
        documents, output documents and attached files found in each folder, go to <strong>HOME &gt; Documents</strong>        and click on the folder.<br><font color=green><b>Note:</b></font> <font color=dimgrey>The <strong>Destination Path</strong> is a virtual path and it does not effect where output documents are stored in the file system. All case files will be stored inside the <a href="#Output_Document_Files">path</a> where ProcessMaker has been installed.</font></li>
    
    <li><strong>Tags</strong>: Enter the name of the identifying tag(s) that will be associated with this output document. To specify more than one tag name, separate each tag name with commas. Click on the <strong>[@@]</strong>        button to select a variable to use in the tag name. Tags are really useful when <a href="#Generated_Output_Documents_in_the_Database">looking for output documents in the ProcessMaker database</a>.</li>
    
    <li><strong>By clicking on the generated file link</strong>: Select whether the file will be downloaded or opened
        in the browser window.
        <ul>
            <li><strong>Download the file:</strong> Download the file directly to the local computer. By choosing this
                option, the browser will automatically download the file. This is the recommended option when creating
                output documents.</li>
            <li><strong>Open the file:</strong> Open the file in the browser window.
                <p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> If selecting this option when configuring an output document, take into consideration that the browser must be configured differently to open the files downloaded. To be able to open <i>.pdf</i> files, install Adobe Acrobat Reader. It is recommended to use the Download the file option to avoid the extra configuration that opening the file in the browser window requires.</font></p></li>
        </ul>
    </li>
</ol>

<h3><strong><span id="Creating_Output_Documents_Usign_TCPDF_Generator">Use TCPDF Generator</span></strong></h3>
<p>Usually when PDF Documents had more than 6 pages and were generated with the <a href="#Creating_Output_Documents_Usign_HTML2PDF_Generator">HTML2PDF</a> library, they can't be created and downloaded producing an error in the HTML code. To improve the generation of PDF documents, the TCPDF generator was included inside ProcessMaker to allow users the creation and generation of <strong>PDF</strong> and <strong>DOC</strong> documents without having issues with the amount of pages created.</p>

<p>This generator supports UTF-8 Unicode and right-to-left languages. It also has backward compatibility with documents created in previous versions of ProcessMaker. This is a great enhancement, especially if documents with images in them need to be generated.</p>
<p>When an output document is being created, the new generator can be chosen using the option seen in the image below:</p>
<p><img src="../sites/default/files/1PM3_OutputDoc_TCPDFGenerator_ReportGenerator.png"></p>

<h3><strong><span id="Creating_Output_Documents_Usign_HTML2PDF_Generator">Use HTML2PDF Generator</span></strong></h3>

<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> As of <strong>ProcessMaker 3.3.0</strong>, the HTML2PDF does not work on installations over PHP 7.X. Please <a href="#Creating_Output_Documents_Usign_TCPDF_Generator">create Output Documents using TCPDF generator</a> instead.</font>
</p>

<p>The HTML2PDF generator can be used to generate documents with less than 6 pages.
The HTML2PDF generates compressed documents without configuring extra parameters into the code, which means that the PDF document generated will be smaller in size.</p>
<p>The HTML2PDF library allows users to:</p>
<ul>
    <li>Add <a href="#Page_Headers_and_Footers">page and footers manually</a> to the generate PDF Files.</li>
    <li>Add <a href="#Page_Numbers_and_File_Information">page numbers and file information</a> to the generated output document.</li>
</ul>
<p>To avoid errors using the HTML2PDF library, consider the following:</p>
<ul>
    <li>Avoid the creation of spaces with the <tt>TAB</tt> key.</li>
</ul>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> The PDF and third-party DOC tools are generated by different libraries and do not have an exact counterpart when using HTML code.</font></p></li>

<h2><strong><span id="Editing_Templates">Editing Templates</span></strong></h2>
<p>To edit the template of an output document, go to the Main Toolbox and click on Output Documents. A list of all the templates created for the process will appear there. Select the output document that needs to have its content edited and click on the Open Editor button. A new window will open where the document can be changed and corrected in any way that the user wants. There is also a small HTML button that the user can click to access the HTML code and format the document. Once the document is formatted, click on the Save button and a quick message will appear telling the user that all changes made were saved.</p>
<p><img src="../sites/default/files/2PM3_OutputDoc_EditingTemplates_OpenEditor.png"></p>
<p><img src="../sites/default/files/2PM3_OutputDoc_EditingTemplates_OpenEditor1.png"></p>
<p>Enter the desired text into the Output Document template. Entering a hard return generates a new paragraph in the HTML, which inserts an extra blank line in the text. To enter a line break that doesn't insert a blank line in the text, press SHIFT + ENTER. The editor supports the standard key combinations of CTRL + C to copy, CTRL + X to cut, and CTRL + V to paste. Changes can be undone by pressing CTRL + Z. Multiple levels of undo are supported. After undoing changes with CTRL + Z, press CTRL + Y to redo the changes. When done editing the Output Document template, click Save to store the changes and then click on the close icon to close the editing window.</p>

<h3><span id="Inserting_Variables">Inserting Variables</span></h3>
<p>Case variables and system variables can be inserted into the text of an output document:</p>
<ul>
    <li><strong><code>@#<i>VARIABLE-NAME</i></code></strong> inserts the value of the variable without any changes.</li>
    <li><strong><code>@@<i>VARIABLE-NAME</i></code></strong> inserts the value of the variable enclosed in "" (double
        quotation marks). Any quotation marks inside the value can be escaped with backslashes, such as <code>"Don\'t say \"hello\""</code>.</li>
</ul>
<p>If a variable is associated with a dropdown box, checkbox, checkgroup, radio group, suggest box, datetime or file control in a Dynaform, then there will be an additional variable named <strong><code>@#<i>VARIABLE-NAME</i>_label</code></strong>, which is created when the Dynaform is submitted. This variable holds the <i>label</i> of the selected option, which is displayed to the user, whereas <strong><code>@#<i>VARIABLE-NAME</i></code></strong> holds the <i>key</i> of the selected option.

For example, a variable named "selectService" that is associated with a dropdown box might have a value of "accounting" in its <code>@#selectService</code> variable, but "Accounting and Tax Filing Service"  in its <code>@#selectService_label</code> variable. For more information, see <a href="../3.0/Notifications.html#Inserting_Variables">Inserting Variables</a>.

<p>Variables can be inserted in the Output Documents editing window.</p>
<p><img src="../sites/default/files/3PM3_OutputDoc_InsertingVariables_OpenEditor.png"></p>
<p><img src="../sites/default/files/3PM3_OutputDoc_InsertingVariables_OpenEditor1.png"></p>
<p>Now for the variables, next to the <strong>Bold</strong> property there is a variable picker. Click on it to choose variables to relate to the empty fields created. Select the variables with <strong>@#</strong> signs to add variables to the document with no changes. For example, <strong>Name</strong> will have the <strong>@#USR_USERNAME</strong> variable. Continue to add variables to the other fields, and then click on Save to store all changes made in the document.</p>
<p><img src="../sites/default/files/4PM3_OutputDoc_InsertingVariables_AddVariables.png"></p>
<p><img src="../sites/default/files/3.4Output_Documents_Variable_Picker.png"></p>
<p><img src="../sites/default/files/4PM3_OutputDoc_InsertingVariables_AddVariables2.png"></p>

<h4><span id="Line_Breaks_in_Textareas">Line Breaks in Textareas</span></h4>
<p>A <a href="../3.0/Text_and_Textarea_Controls.html#Textarea_Control">textarea</a> control allows more than one line of text to be input into a field. The information in this control is stored in one single line with <code>\n</code> as the representation for each line break, therefore, whenever using the Textarea's variable, the information will be displayed all together on the same line.</p>

<p><img src="../sites/default/files/3.0TextareaVarOneline.png"></p>

<p>To preserve line breaks when showing the textarea information in messages, emails, etc. it is recommended to use the <a href="http://php.net/manual/en/function.nl2br.php">nl2br</a> PHP function within a trigger.</p>

<p>For example, create the following trigger and place it after the Dynaform.</p>
<codeblock>@@textareaVar = nl2br(@@textareaVar);</codeblock>

<p>Remember that to insert the value of a variable without any changes, the prefix <code>@#</code> must be used before the name of the variable. In this case the textarea variable will be <code>@#textareaVar</code>, as explained in the <a href="#Inserting_Variables">Inserting Variables</a> section.</p>

<p><img src="../sites/default/files/3.0TextareaVarContent.png"></p>

<p>The function will insert HTML line breaks before all new lines. Therefore, the e-mail will display the variable's information preserving the line breaks typed in the textarea.</p>

<p><img src="../sites/default/files/3.0TextareaVarKeeplinesbreaks.png"></p>

<h3><span id="Formatting_Output_Documents">Formatting Output Documents</span></h3>
<p>ProcessMaker includes a new advanced editor for documents as seen in the image below:</p>
<p><img src="../sites/default/files/5PM3_OutputDoc_EditingTemplates_FormattingOutputDoc.png"></p>

<p> This toolbar provides several options to clean up the document. To add formatting to output documents, the toolbar includes the following buttons:</p>

<ul>
    <li><p><strong>Upload File</strong>: Click on this button to upload a file with an <strong>.html</strong>        or <strong>.htm</strong> extension.</p>

<p><img alt="" src="../sites/default/files/6PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_UploadFile.png"
      ></p></li>

    <li><p><strong>Variable Picker</strong>: Choose the type and prefix of the variable to be called in
        the document. </p>
<p><img alt="" src="../sites/default/files/7PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_UploadVariable.png"></p>
</li>

    <li><img alt="" height="20" src="../sites/default/files/ODBold.png" width="21"> <strong>Bold</strong>: Bold the selected
        text (a heavier weight). Shortcut: <strong>ctl + b</strong></li>

    <li><img alt="" height="20" src="../sites/default/files/ODItalics.png" width="19"> <strong>Italics</strong>: Italicize
        the selected text (inclined text). Shortcut: <strong>ctl + i</strong></li>

    <li><img alt="" height="20" src="../sites/default/files/ODUnderline.png" width="20"> <strong>Underline</strong>:
        Underline the selected text. Shortcut: <strong>ctl + u</strong></li>

    <li><img alt="" height="23" src="../sites/default/files/HtmlLeftAlign.png"> <strong>Left align</strong>: Align the
        selected text along the left-hand border.</li>

    <li><img alt="" height="23" src="../sites/default/files/HtmlCenterAlign.png"> <strong>Center</strong>: Align the
        selected text in the center.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/HtmlRightAlign.png"></strong> <strong>Right align</strong>:
        Align the selected text along the right-hand border.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/8PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Justify.png"></strong>        <strong>Text Align</strong>: Justify the entire selected text.</li>

    <li><img alt="" height="100" src="../sites/default/files/9PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Font.png"
          width="150"><strong>Font</strong>: Allows the user to choose one of many different fonts to customize the
        document.</li>

    <li><img alt="" height="100" src="../sites/default/files/10PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_FontSize.png"
          width="150"><strong>Font Size</strong>: Increases or decreases the font size of the selected text.</li>

    <li><img alt="" height="50" src="../sites/default/files/11PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_CutCopyPaste.png"
          width="60"><strong>Cut, Copy and Paste</strong>: Cut will remove the selected text from its position, while
        Copy creates a duplicate. Paste copies text and inserts it into the document.</strong>
    </li>

    <li><strong><img alt="" height="30" src="../sites/default/files/HtmlNumberedList.png"> </strong> <strong>Ordered List</strong>:
        Insert an ordered list, which begins counting from 1.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/HtmlBulletList.png"></strong> <strong>Un-ordered List</strong>:
        Insert an unordered list, which uses bullet points instead of numbers.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/12PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_OutdentIndent.png"></strong>        <strong>Outdent, Indent, Quote</strong>: Outdent and Indent will add a space to a selected text; outdent
        will move the text toward the left marging and indent will move the text away from the left marging. Quote
        works by selecting a text and aligning the text inside of quotation marks.</li>

    <li><strong><img src="../sites/default/files/13PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Tables.png"></strong>        <strong>Table Configuration</strong>: Creates and edits a table of as many rows and columns as needed,
        can also insert more rows and columns or delete them. The columns in the table can be ordered, split or
        merged as needed.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/14PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_UndoRedo.png"></strong>        <strong>Undo and Redo</strong>: Recover or revoke previous actions made in the document.</li>

    <li><strong><img alt="" height="19" src="../sites/default/files/15PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Links.png"></strong>        <strong>Link and Image Configuration</strong>: These tools insert and edit links, as well as convert links
        to normal text. An image can also be inserted or edited.
        <p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray"> Take into account that the source of the images inserted must be from a URL with an <code>http</code> or <code>https</code> protocol. It is not possible to upload an image from a local source using this editor. To upload an image from a local resource, first <a href="../3.2/Public_Files.html#UploadingFiles">upload it</a> as a <a href="../3.2/Public_Files.html">Public File</a> and access it <a href="../3.2/Public_Files.html#AccessingPublicFiles">using this information</a>.</font></p>
    </li>

    <li><img alt="" height="21" src="../sites/default/files/ODFontColor.png" width="27"> <strong>Font Color</strong>:
        Change the color of the selected text.</li>

    <li><img alt="" height="21" src="../sites/default/files/ODHighlightColor.png" width="28"> <strong>Text Highlight Color</strong>:
        Change the highlight (background) color behind the selected text.</li>

    <li><img alt="" height="30" src="../sites/default/files/16PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_CSS.png"
          width="35"> <strong>Edit CSS Style</strong>: Contains more options to make more detailed edits to the text.</li>

    <li><img alt="" src="../sites/default/files/17PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Format1.png"
         > <strong>Lines</strong>: Adds lines to mark different sections of the document
</li>
    <li><img alt=""  src="../sites/default/files/3.0OutputDocEditingTemplatesFormattingOutputDoc3.png"
     > <strong>Clear Formatting</strong>: Removes any formatting from the selected text.</li>
    <li><img alt=""  src="../sites/default/files/3.0OutputDocEditingTemplatesFormattingOutputDoc2.png"
       > <strong>Grid Visual Help</strong>: Enables or disables the visual help grid in a selected table.</li>

    <li><img alt="" height="35" src="../sites/default/files/18PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_SubSup.png"
          width="55"> <strong>Subscript and Superscript</strong>: Highlight a letter, number, symbol, or figure to
        place it above the rest of the text (superscript) or below (subscript).</li>

    <li><img alt="" height="38" src="../sites/default/files/19PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_Direction.png"
          width="60"> <strong>Direction</strong>: Changes the direction of the text to left to right or right to
        left. </li>

    <li><img alt="" height="30" src="../sites/default/files/20PM3_OutputDoc_EditingTemplates_FormattingOutputDoc_HTML.png"
          width="35"><strong>HTML</strong>: Edit the HTML code of the template.</li>
</ul>

<h2><strong><span id="Editing_the_HTML_Code">Editing the HTML Code</span></strong></h2>
<p>For more control over the formatting of a template and the use of more advanced types of HTML elements such as images or tables, the HTML code can be directly edited by clicking on the HTML button in the toolbar. When done editing the HTML code, click on the Update button to save it and see the result in the document.</p>

<p>Take into account the following recommendations before editing HTML code:</p>
<ul>
    <li><p>Avoid inserting HTML formatting tags inside a variable name, because it make the variable unable to be recognized by ProcessMaker. For example, if bold tags are inserted inside the variable <strong><code>@#USR_USERNAME</code></strong>, it becomes <span class="geshifilter"><code class="html4strict geshifilter-html4strict">@#US<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">b</span></a>&gt;</span>R_USER<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">b</span></a>&gt;</span>NAME</code></span>. Since ProcessMaker can't find find the variable <strong><code>@#US</code></strong>, it will print the variable name in the generated output document. To apply bold tag to a variable, instead, use the tags outside the variable like <span class="geshifilter"><code class="html4strict geshifilter-html4strict"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">b</span></a>&gt;</span>@#USR_USERNAME<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/b.html"><span style="color: #000000; font-weight: bold;">b</span></a>&gt;</span></code></span>.</p></li>
    <li>If you would like to insert reserved characters into your HTML code that is not related to variables, it is recommended to use <a href="https://www.w3schools.com/html/html_entities.asp">HTML Character Entities</a>. For example, to insert the less than character (<tt><</tt>), write <span class="geshifilter"><code class="html4strict geshifilter-html4strict"><span style="color: #ddbb00;">&amp;lt;</span></code></span>.</li>
</ul>


<h3><span id="Inserting_Images">Inserting Images</span></h3>
<p>These are the possible ways of how to insert an image in the output documents:</p>
<ul>
    <li><a href="#Provide_The_Image_URL">Provide the image URL</a>.</li>
    <li><a href="#Upload_The_Image_Directly">Upload the image directly</a>.</li>
    <li><a href="#Save_The_Encoded_Base_64_Image_From_Trigger">Save the encoded Base 64 image from trigger</a>.</li>
</ul>

<h4><span id="Provide_The_Image_URL">Provide The Image URL</span></h4>
<p>Follow these steps to set the image in the output document:</p>
<ol style="font-weight:bold;">
    <li>
        <p style="font-weight:normal;">
            Take the ProcessMaker logo on the wiki page as an example. The URL would be the following: <b>http://wiki.processmaker.com/sites/default/files/full-logo.png</b>.
        </p>
        <img src="../sites/default/files/1PM3_OutputDocuments_ProcessMakerLogo.png">
    </li>
    <li>
        <p style="font-weight:normal;">Create an output document, the image below shows how to configure it. Take into consideration that TCPDF needs to be selected in the Report Generator field to be able to see images.</p>
        <img src="../sites/default/files/2PM3_OutputDocuments_ImageTest.png">
    </li>
    <li>
        <p style="font-weight:normal;">Click on the <b>Save</b> button to create the output document and then add it to the Output Documents window.</p>
    </li>
    <li>
        <p style="font-weight:normal;">On the Output Documents window, click on the <b>Open Editor</b> button to open a Word-like editor. </p>
        <p><img src="../sites/default/files/3PM3_OutputDocuments_OpenEditor.png"></p>
    </li>
    <li>
        <p style="font-weight:normal;">Click on the <b>HTML</b> button to open the HTML Source Editor window.</p>
        <p><img src="../sites/default/files/4PM3_OutputDocuments_Editor.png"></p>
        <img src="../sites/default/files/5PM3_OutputDocuments_HTMLSourceEditor.png">
    </li>
    <li>
        <p style="font-weight:normal;">Add the following code to insert an image:</p>
        <div style="font-weight:normal;">
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #00bbdd;">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is a test for images<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<a href="http://december.com/html/4/element/img.html"><span style="color: #000000; font-weight: bold;">img</span></a> <span style="color: #000066;">src</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://wiki.processmaker.com/sites/default/files/full-logo.png&quot;</span> <span style="color: #66cc66;">/</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span></div></div>
        </div>
    </li>
    <li>
         <p style="font-weight:normal;">Notice that the <b>src</b> property or source of the image is the URL of the logo. After adding the code, click on the <b>Update</b> button to check if the image was properly uploaded. If the image is seen in the <b>Edit Output Document</b> window then it will be seen when running a case.</p>
        <p><img src="../sites/default/files/6PM3_OutputDocuments_HTMLCode.png"></p>
        <p><img src="../sites/default/files/7PM3_OutputDocuments_UpdateImage.png"></p>
    </li>
    <li>
        <p style="font-weight:normal;">If there is an error then the following broken image will be shown in the editor. Check the code or image for any errors to be able to see it when running a case.</p>
        <img src="../sites/default/files/8PM3_OutputDocuments_ErrorUpdateImage.png">
    </li>
</ol>

<h4><span id="Upload_The_Image_Directly">Upload The Image Directly</span></h4>
<p>To insert directly an image into an output document, upload the image file into a public directory in the ProcessMaker server with the Process File Manager (or another publicly accessible location). Then insert the image source as explained in the <a href="#Provide_The_Image_URL">section above</a>.</p>

<h4><span id="Save_The_Encoded_Base_64_Image_From_Trigger">Save The Encoded Base 64 Image From Trigger</span></h4>
<p>Take note about the following considerations when working with encoded base 64 images:</p>
<ul>
    <li>Base 64 SVG images are not directly supported.</li>
    <li>Provide a valid public path and also provide the proper file write permissions when saving the image.</li>
    <li>Provide height and width attributes in the HTML image tag.</li>
    <li>Base 64 images only display in a PDF document and not in a Word document.</li>
</ul>
<p>Follow these steps to define a Base 64 image, upload and then set the image in the output document:</p>
<ol style="font-weight:bold;">
    <li>
        <p style="font-weight:normal;">Create a trigger with a variable. This trigger defines a valid Base 64 image, puts it a random name to prevent overwriting, saves the image on a public ProcessMaker path and then defines a ProcessMaker variable with an HTML image tag with the source.</p>
        <div style="font-weight:normal;">
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">// This is a variable with the sample image on Base 64 format</span><br />
<span style="color: #000088;">$base64Image</span><span style="color: #339933;">=</span><span style="color: #0000ff;">&quot;PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMzM4IiBoZWlnaHQ9IjE5NCI+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTSA0NyA0MyBjIDAgMC4xIC0wLjM1IDQuMjQgMCA2IGMgMC4yNiAxLjMxIDEuOTEgMi42NyAyIDQgYyAwLjUyIDcuNzQgMC40NSAxNy4zOSAwIDI2IGMgLTAuMjEgNC4wMyAtMC41NiA4LjQgLTIgMTIgYyAtNC45OCAxMi40NiAtMTEuMzQgMjUuNDYgLTE4IDM4IGMgLTQuODQgOS4xMSAtMTAuMyAxNy45MiAtMTYgMjYgYyAtMi4xMSAyLjk5IC01Ljg3IDUuMTYgLTggOCBjIC0xLjY5IDIuMjUgLTQuMSA4LjEyIC00IDggYyAwLjI3IC0wLjMzIDguOTUgLTEzLjM3IDE0IC0yMCBjIDUuODkgLTcuNzIgMTIuMzcgLTE0LjI2IDE4IC0yMiBjIDUuMTYgLTcuMSA4LjY3IC0xNS4wNCAxNCAtMjIgYyAxMi4xOSAtMTUuOTQgMjQuNDYgLTMwLjcyIDM4IC00NiBjIDEzLjE2IC0xNC44NSAyNS45NyAtMjguODUgNDAgLTQyIGMgNy4yNSAtNi44IDIyLjgyIC0xNy40NyAyNCAtMTggYyAwLjQ2IC0wLjIgLTMuNjUgNi45NSAtNiAxMCBjIC00LjI4IDUuNTYgLTguOTggMTAuNzMgLTE0IDE2IGMgLTguNjkgOS4xMiAtMTcuMjggMTYuODYgLTI2IDI2IGMgLTUuNzEgNS45OCAtMTAuMjIgMTIuMjIgLTE2IDE4IGMgLTkuMTcgOS4xNyAtMTguMzMgMTcuNzggLTI4IDI2IGMgLTMuNjUgMy4xIC04LjIyIDUuMTYgLTEyIDggYyAtMS40OCAxLjExIC00LjA1IDQuMTUgLTQgNCBjIDAuMSAtMC4zIDMuNTcgLTcuMTMgNiAtMTAgYyA0LjcyIC01LjU3IDEwLjM5IC0xMC44MiAxNiAtMTYgYyAzLjE4IC0yLjkzIDYuNDMgLTUuNzEgMTAgLTggYyA1Ljc0IC0zLjY5IDE2LjE0IC05Ljc3IDE4IC0xMCBjIDAuNzUgLTAuMDkgLTAuOTQgNS42MSAtMiA4IGMgLTEuNSAzLjM4IC0zLjY2IDYuODkgLTYgMTAgYyAtNS42OSA3LjU5IC0xMi40OCAxNC4zNiAtMTggMjIgYyAtMy4xMyA0LjMzIC01LjU3IDkuMTQgLTggMTQgYyAtMi4zIDQuNTkgLTYuMjMgMTIuODMgLTYgMTQgYyAwLjE0IDAuNjkgNS44IC0yLjE5IDggLTQgYyA4LjcgLTcuMTcgMTYuOSAtMTYuMiAyNiAtMjQgYyA1LjE0IC00LjQxIDEwLjcgLTcuNjkgMTYgLTEyIGMgNS42NCAtNC41OCAxMC4zIC05LjU0IDE2IC0xNCBjIDkuOTcgLTcuOCAxOS42MyAtMTQuOTMgMzAgLTIyIGMgNC40OSAtMy4wNiAxNC4zMSAtOC44OSAxNCAtOCBjIC0xLjA3IDMuMDYgLTE5LjA1IDMxLjc3IC0yOCA0OCBjIC0xLjc0IDMuMTUgLTIuOTggNi42IC00IDEwIGMgLTAuOTcgMy4yMiAtMiA3LjE4IC0yIDEwIGMgMCAxLjI0IDEuMTIgMy4xMiAyIDQgYyAwLjg4IDAuODggMi42OCAxLjgxIDQgMiBjIDIuOTUgMC40MiA3LjA1IDAuODggMTAgMCBjIDkuNTIgLTIuODYgMTkuNzIgLTguMjYgMzAgLTEyIGMgNC42MyAtMS42OCA5LjczIC0yLjI5IDE0IC00IGMgMi4xMSAtMC44NCAzLjkzIC0yLjk3IDYgLTQgYyAxLjgxIC0wLjkxIDYuMSAtMi4wNSA2IC0yIGMgLTAuMTcgMC4wOCAtNy43MiAxLjk4IC0xMCA0IGMgLTMuMDUgMi43MSAtNS43NCA3Ljg2IC04IDEyIGMgLTEuNjkgMy4wOSAtMy4yOCA2Ljc3IC00IDEwIGMgLTAuNTMgMi40IC0wLjMgOC4xNSAwIDggYyAwLjQxIC0wLjIgMi4zMSAtNi45MSA0IC0xMCBjIDIuMjYgLTQuMTQgNS43NCAtNy44NiA4IC0xMiBjIDEuNjkgLTMuMDkgNC4wOCAtMTAuMTcgNCAtMTAgYyAtMC4xMiAwLjI0IC00LjI4IDkuMTggLTYgMTQgYyAtMS42NCA0LjYxIC0yLjM2IDkuNDkgLTQgMTQgYyAtMS4wMSAyLjc3IC00LjExIDguMTEgLTQgOCBjIDAuMTQgLTAuMTQgMy42NiAtNi44NyA2IC0xMCBjIDcuNzIgLTEwLjMgMTYuMTEgLTE5LjQ4IDI0IC0zMCBjIDYuNDkgLTguNjYgMTcuMTYgLTI1LjA1IDE4IC0yNiBjIDAuMjIgLTAuMjUgLTAuOTkgNS42NCAtMiA4IGMgLTAuODkgMi4wNyAtMy4yOSAzLjg3IC00IDYgYyAtMi40NCA3LjMyIC02IDIyLjUxIC02IDI0IGMgMCAwLjUxIDQuNzcgLTMuNzkgNiAtNiBjIDEuODMgLTMuMyAyLjM3IC04LjEgNCAtMTIgYyAxLjcyIC00LjE0IDQuMjMgLTcuODEgNiAtMTIgYyAzLjY3IC04LjcxIDcuMTggLTE3LjE1IDEwIC0yNiBjIDEuODYgLTUuODYgMy4wMSAtMTIuMDggNCAtMTggYyAwLjMyIC0xLjkzIDAgLTYuMSAwIC02IGMgMCAwLjQyIC0wLjM0IDE1LjgzIDAgMjQgYyAwLjM0IDguMiAwLjY5IDE1Ljk2IDIgMjQgYyA0LjExIDI1LjE2IDkuODMgNDkuNTYgMTQgNzQgYyAwLjQ0IDIuNiAtMC4yNiA1LjM2IDAgOCBjIDAuNCA0LjAxIDEuNjYgNy45OCAyIDEyIGMgMC4zMyAzLjk3IDAuNDQgOC40NSAwIDEyIGMgLTAuMTcgMS4zMiAtMS4wMyAzLjIyIC0yIDQgYyAtMS45NCAxLjU2IC01LjM0IDMuNzYgLTggNCBjIC0xMC43IDAuOTcgLTIzLjkzIDAuODYgLTM2IDAgYyAtMTYuMjIgLTEuMTYgLTMxLjMgLTQuMTcgLTQ4IC02IGMgLTI3Ljc1IC0zLjA0IC01Mi43NCAtNC42NSAtODAgLTggYyAtMTEuNzEgLTEuNDQgLTIyLjMgLTQuMiAtMzQgLTYgYyAtNi4xNCAtMC45NCAtMTEuOTYgLTAuOTkgLTE4IC0yIGMgLTYuMTUgLTEuMDIgLTEyLjMxIC0yLjI1IC0xOCAtNCBjIC0yLjc2IC0wLjg1IC02LjA2IC0yLjQ0IC04IC00IGMgLTAuOTcgLTAuNzggLTIuMzIgLTMuMDQgLTIgLTQgYyAwLjcyIC0yLjE1IDMuNTIgLTYuNTggNiAtOCBjIDUuOCAtMy4zMiAxNC40NSAtNS42MSAyMiAtOCBjIDUuMzIgLTEuNjggMTAuNDYgLTMuMDMgMTYgLTQgYyA0NC45NiAtNy45IDg2LjEgLTE0LjA2IDEzMiAtMjIgYyAyNi41MSAtNC41OSA0OS43IC05Ljc5IDc2IC0xNCBsIDc0IC0xMCIvPjwvc3ZnPg==&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">// Prevent the file overwriting for each session. In case of SVG images, enter svg instead of base64Image</span><br />
<span style="color: #000088;">$name</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'temporal'</span> <span style="color: #339933;">.</span> <a href="http://php.net/rand"><span style="color: #990000;">rand</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' . base64Image'</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">// Save the image in a public ProcessMaker path</span><br />
<a href="http://php.net/file_put_contents"><span style="color: #990000;">file_put_contents</span></a><span style="color: #009900;">&#40;</span>PATH_HTML <span style="color: #339933;">.</span> <span style="color: #0000ff;">'files/'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$name</span><span style="color: #339933;">,</span><a href="http://php.net/base64_decode"><span style="color: #990000;">base64_decode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$base64Image</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">// ProcessMaker variable that is called in the Output Document</span><br />
<span style="color: #339933;">@=</span>image <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&lt;img src='/files/&quot;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$name</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;' width='150' height='50' /&gt;&quot;</span><span style="color: #339933;">;</span></div></div>
        </div>
        <p style="font-weight:normal;margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">The generated file must have extension <code>svg</code>. In this way, the <b>src</b> directive will be able to display the base 64 SVG image.</font></p>
    </li>
    <li>
        <p style="font-weight:normal;">Create and assign the output document in the task. The output document must include the ProcessMaker variable.</p>
        <img alt="" src="../sites/default/files/3.6.5_Output_Documents_Working_With_Images_0.png" />
    </li>
    <li>
        <p style="font-weight:normal;"><b>Assign</b> the trigger before the output document.</p>
        <img alt="" src="../sites/default/files/3.6.5_Output_Documents_Working_With_Images_1.png" />
    </li>
    <li>
        <p style="font-weight:normal;">Open the case and then click on the <b>.pdf</b> link in the output document step.</p>
        <img alt="" src="../sites/default/files/3.6.5_Output_Documents_Working_With_Images_2.png" />
    </li>
    <li>
        <p style="font-weight:normal;">The image displays properly.</p>
        <img alt="" src="../sites/default/files/3.6.5_Output_Documents_Working_With_Images_3.png" />
    </li>
</ol>

<h3><span id="Inserting_form_fields">Inserting Form Fields</span></h3>
<p>To insert form fields inside of an output document, edit the HTML code and create an HTML <tt>&lt;form&gt;</tt>. In that <tt>&lt;form&gt;</tt>, add <tt>&lt;input&gt;</tt>, <tt>&lt;select&gt;</tt>, and/or <tt>&lt;submit&gt;</tt> fields.</p>
<p>For example, this template code includes the <tt>&lt;form&gt;</tt>, <tt>&lt;input&gt;</tt> and <tt>&lt;select&gt;</tt> tags:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyFormName&quot;</span>&gt;</span><br />
First Name: <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;firstName&quot;</span> <span style="color: #000066;">size</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;20&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;Jo Anne&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
Last Name: <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;lastName&quot;</span> <span style="color: #000066;">size</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;20&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;Summers&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contactClient&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contact&quot;</span> checked&gt;</span>Contact Client<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/select.html"><span style="color: #000000; font-weight: bold;">select</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;howContact&quot;</span>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;telephone&quot;</span>&gt;</span>Telephone<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fax&quot;</span> selected&gt;</span>Fax<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;email&quot;</span>&gt;</span>Email<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/option.html"><span style="color: #000000; font-weight: bold;">option</span></a>&gt;</span><br />
&nbsp;<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/select.html"><span style="color: #000000; font-weight: bold;">select</span></a>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p>When updated, the code will look like the image below, allowing the document to run with the user name and the name of the case started automatically filled in:</p>
<p><img alt="" height="100" src="../sites/default/files/21PM3_OutputDoc_EditingHTML_InsertFomrFields_CodeResult.png" width="250"></p>
<p>Note that these form fields are not interactive, so the content of the fields can not be edited.</p>


<h3><span id="Inserting_Variables_inside_Form_Fields">Inserting Variables Inside Form Fields</span></h3>

<p style="margin-left:25px"><strong><font color="red">Disclaimer:</font></strong> <font color="dimgray">Notice <a href="https://tcpdf.org/"> TCPDF</a> is in charge of interpreting any HTML code used for these kinds of Form Elements, but not ProcessMaker. Therefore, ProcessMaker is not liable for any changes that future versions of TCPDF have regarding HTML components and conversions when the Output Documents are generated.</font></p>

<p>System variables and case variables can be inserted inside form fields. For example, to insert the system variables <tt>@#USR_USERNAME</tt> and <tt>@#CaseStarted</tt> into fields named "username" and "timeStarted" respectively:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span>&gt;</span><br />
Current user:<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;username&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;@#USR_USERNAME&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
When case started:<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;timeStarted&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;@#CaseStarted&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p><img src="../sites/default/files/PM3_OutputDoc_ExampleCurrentUserWhenCaseStarted.png"></p>

<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> If inserting inside an <tt>&lt;input&gt;</tt> field, only reference variables as <tt>@#<i>variable-name</i></tt>. Do NOT use <tt>@@<i>variable-name</i></tt>, because it will insert a set of double quotation marks inside a set of double quotations marks, which will mess up the HTML tag.</font></p>

<p>For example, this bad template code:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;username&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;@@USR_USERNAME&quot;</span>&gt;</span></div></div>
<p>will generate erroneous HTML code like:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;username&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span>admin<span style="color: #ff0000;">&quot;&quot;</span>&gt;</span></div></div>

<h4><span id="Checkboxes_in_Output_Documents">Checkboxes in Output Documents</span></h4>

<p>In an output document, there is a checkbox option to be marked or unmarked as a feature defined in its HTML code.</p>
<p>This checkbox is marked as follows:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span> <span style="color: #000066;">action</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contactClient&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contact&quot;</span> checked&gt;</span>Contact Client<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p><img src="../sites/default/files/22PM3_OutputDoc_EditingHTML_InsertFomrFields_MarkedCheckbox.png"></p>

<p>In this example, the checkbox is not marked because there is no <strong><tt>checked</tt></strong> feature:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span> <span style="color: #000066;">action</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contactClient&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contact&quot;</span>&gt;</span>Contact Client<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p><img src="../sites/default/files/23PM3_OutputDoc_EditingHTML_InsertFomrFields_UnmarkedCheckbox.png"></p>
<p>To use a case variable to mark a checkbox in an output document, place the case variable in the HTML code like this:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span> <span style="color: #000066;">action</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span>&gt;</span><br />
&nbsp; &nbsp; @#markContactClient Contact Client<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>

<p>If the value of <code>@#markContactClient</code> is <code>"checked"</code> then the checkbox will be marked. If this value displays: <code>""</code> (empty string), then it won't be marked in the output document.</p>
<p>Create a trigger that will set the value of <code>@@markContactClient</code> to <code>"checked"</code> or <code>""</code>, depending on the value of a checkbox in a Dynaform. Set this trigger to fire <i>before</i> the step that generates the output document.</p>
<p>For example, if the variable associated with the checkbox control in the Dynaform is "contactClient", then use this PHP code to check whether the checkbox is marked to set the value of <code>@@markContactClient</code>.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>markContactClient <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>contactClient<span style="color: #009900;">&#41;</span> and <span style="color: #339933;">!</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>contactClient<span style="color: #009900;">&#41;</span> and <span style="color: #339933;">@=</span>contactClient<span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span> &nbsp;<span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>markContactClient <span style="color: #339933;">=</span> <span style="color: #0000ff;">'&lt;input type=&quot;checkbox&quot; name=&quot;contactClient&quot; value=&quot;contact&quot; checked=&quot;checked&quot;&gt;'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span> <span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>markContactClient <span style="color: #339933;">=</span> <span style="color: #0000ff;">'&lt;input type=&quot;checkbox&quot; name=&quot;contactClient&quot; value=&quot;contact&quot;&gt;'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">Checkboxes have a value of <span class="geshifilter"><code class="php geshifilter-php"><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span></code></span> if marked or <span class="geshifilter"><code class="php geshifilter-php"><a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span></code></span> if unmarked. Checkboxes inside grids are not placed inside arrays, so they have a value of <code>1</code> if marked or <code>0</code> if unmarked.</font></p>

<h4><span id="Checkgroups_in_Output_Documents">Checkgroups in Output Documents</span></h4>
<p>A <i>checkgroup</i> can be created in HTML as a collection of individual checkboxes, so it is possible to create as many checkboxes in the Output Document as there are options in the checkgroup.</p>
<p>For example, a checkgroup is named "HowContact", with 3 options whose values are "fax", "telephone" and "email". To create this checkgroup in an Output Document, add these three checkboxes to the Output Document's HTML code:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;MyForm&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;ContactFax&quot;</span> &nbsp; &nbsp; &nbsp; <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fax&quot;</span> &nbsp; &nbsp; &nbsp; @#CheckFax &nbsp; &nbsp; &nbsp; &gt;</span>Fax<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;ContactTelephone&quot;</span> <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;telephone&quot;</span> @#CheckTelephone &gt;</span>Telephone<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/input.html"><span style="color: #000000; font-weight: bold;">input</span></a> <span style="color: #000066;">type</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;checkbox&quot;</span> <span style="color: #000066;">name</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;ContactEmail&quot;</span> &nbsp; &nbsp; <span style="color: #000066;">value</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;email&quot;</span> &nbsp; &nbsp; @#CheckEmail &nbsp; &nbsp; &gt;</span>Email<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p><img src="../sites/default/files/24PM3_OutputDoc_EditingHTML_InsertFomrFields_Checkgroups.png"></p>

<p>Then create a trigger which fires before the Output Document to set the value of the <code>@@CheckFax</code>, <code>@@CheckTelephone</code> and <code>@@CheckEmail</code> variables, so they can be inserted in the generated Output Document later. The selected options in a checkgroup are stored in a case variable which separates each selected value with | (pipes). Use <a href="http://php.net/manual/en/function.explode.php">explode()</a> to break it into an array and <a href="http://php.net/manual/en/function.in-array.php">in_array()</a> to check if the value is in the array.</p>
<p>For example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aSelected</span> <span style="color: #339933;">=</span> <a href="http://php.net/explode"><span style="color: #990000;">explode</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'|'</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>HowContact<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;fax&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aSelected</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #339933;">@@</span>CheckFax <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;checked&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #339933;">@@</span>CheckFax <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;telephone&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aSelected</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>CheckTelephone <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;checked&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>CheckTelephone <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;email&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aSelected</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>CheckEmail <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;checked&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp; <span style="color: #339933;">@@</span>CheckEmail <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span></div></div>
<p>This is how the Output Document displays in a running process. This document has two types of files: <strong>.doc</strong> and <strong>.pdf</strong>. Once "Open" is selected for either of them the document will start an automatic download of the file.</p>
<p><img src="../sites/default/files/24PM3_OutputDoc_EditingHTML_InsertFomrFields_CheckgroupsTest1.png"></p>
<p>Another example:</p>
<p>If you have a BPMN process in ProcessMaker 3.X, then the selected options in checkgroups are stored as an array (not a string separated by '|' like in classic processes), so you have to access them differently within the trigger.</p>
<p>First, create a checkgroup like this in your DynaForm:</p>
<p><img src="../sites/default/files/3.3setupcheckgroup.html"></p>
<p>With the following list of options:</p>
<p><img src="../sites/default/files/3.3viewcheckgroups.html"></p>
<p>The HTML code for your Output Document template should look like this:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Services Required:<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a> <span style="color: #66cc66;">/</span>&gt;</span><br />
@#servicesHtml<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/form.html"><span style="color: #000000; font-weight: bold;">form</span></a>&gt;</span></div></div>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">This HTML code must be declared inside a variable and then this variable must be included in the output document, you may not add the HTML code directly in the output document.</font></p>

<p>Then, create a trigger to set the value of the <span class="geshifilter"><code class="text geshifilter-text">@@servicesHtml</code></span> case variable which is used in your template, like this:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$formId</span> <span style="color: #339933;">=</span><span style="color: #0000ff;">'81710538658c6bff6a3e8a7056075051'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to ID of DynaForm</span><br />
<span style="color: #000088;">$fieldId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;servicesRequired&quot;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to ID of checkbox group</span><br />
&nbsp;<br />
<span style="color: #000088;">$aFields</span> <span style="color: #339933;">=</span> PMFDynaFormFields<span style="color: #009900;">&#40;</span><span style="color: #000088;">$formId</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>servicesHtml <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
&nbsp;<br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFields</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$aField</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aField</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">id</span> <span style="color: #339933;">==</span> <span style="color: #000088;">$fieldId</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">foreach</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aField</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">options</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$aOpt</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$checked</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aField</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aField</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span><span style="color: #009900;">&#41;</span> and <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://php.net/in_array"><span style="color: #990000;">in_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aOpt</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aField</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$checked</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'checked=&quot;checked&quot;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$val</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aOpt</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">value</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$label</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aOpt</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">label</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #339933;">@@</span>servicesHtml <span style="color: #339933;">.=</span> <span style="color: #0000ff;">&quot;&lt;input type=<span style="color: #000099; font-weight: bold;">\&quot;</span>checkbox<span style="color: #000099; font-weight: bold;">\&quot;</span> value=<span style="color: #000099; font-weight: bold;">\&quot;</span><span style="color: #006699; font-weight: bold;">$val</span><span style="color: #000099; font-weight: bold;">\&quot;</span> <span style="color: #006699; font-weight: bold;">$checked</span>&gt;<span style="color: #006699; font-weight: bold;">$label</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>
<p>Set this trigger to fire before the Output Document step in your process.</p>
<p>This trigger uses the <a href="../3.0/ProcessMaker_Functions.html#PMFDynaFormFields.28.29">PMFDynaFormFields()</a> function to get the list of options in the checkgroup. It places the value and label for each option in the HTML code for a checkbox and appends that code to the <span class="geshifilter"><code class="text geshifilter-text">@@servicesHtml</code></span> case variable which is used in the Output Document template.</p>
<p>When a case is run, it will generate an Output Document file with the following checkgroup embedded in the document:</p>
<p><img src="../sites/default/files/3.3checkgroupembedded.html"></p>
<p>To try out this example, download and import the process <a href="https://forum.processmaker.com/download/file.php?id=2950&amp;sid=270271b8e64c92f05dd39f1ee567409a">here</a>.</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">The one drawback of this approach is that it doesn't work with a checkgroup whose list of options is dynamically generated from a variable or an SQL query. For a dynamically generated list of options, the only solution is to add JavaScript to the DynaForm which saves the list of options when the DynaForm is submitted as a JSON string in a hidden control. Then decode this JSON string instead of using the PMFDynaFormFields() function to get the list of options.</font></p>


<h3><span id="Inserting_Page_Breaks">Inserting Page Breaks</span></h3>
<p>To insert a page break on PDF and DOC files, an HTML element must be defined. This element uses its own style to make a page break.</p>
<p style="margin-left:25px">
    <strong><font color="green">Note:</font></strong>
    <font color="dimgray">This HTML code cannot be placed directly in the Output Document template, because the HTML Editor automatically strips out any style information, so it needs to be inserted with a case variable in the template.</font>
</p>

<p>These steps explain an example of how to create a trigger and use a case variable to insert a page break.</p>
<ol style="font-weight:bold;">
    <li>
        <p style="font-weight:normal;">Create a trigger with a variable, for example, <code>@@pageBreak</code>. It contains the HTML element.</p>
        <div style="font-weight:normal;">
            <div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>pageBreak <span style="color: #339933;">=</span> <span style="color: #0000ff;">'&lt;p style=&quot;page-break-before: always;&quot;&gt;'</span><span style="color: #339933;">;</span></div></div>
        </div>
    </li>
    <li>
        <p style="font-weight:normal;">Insert the <code>@#pageBreak</code> variable in the template file.</p>
            <div style="font-weight:normal;">
                <div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is page 1.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
@#pageBreak<br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is page 2.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span></div></div>
            </div>
    </li>
</ol>

<p>To insert a page break that will <i>only</i> appear in PDF files generated using the HTML2PDF library, edit the HTML code of the output document and add the HTML comment: <code>&lt;!--NewPage--&gt;</code></p>
<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> The HTML2PDF is not available on installations over PHP 7.X, specifically as of <b>ProcessMaker 3.3.0</b>.</font></p>
<p>For example, use the following code:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is page 1.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--NewPage--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is page 2.<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span></div></div>

<h3><span id="Page_Headers_and_Footers">Page Headers and Footers (HTML2PDF Library)</span></h3>
<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> The HTML2PDF is not available on installations over PHP 7.X, specifically as of <b>ProcessMaker 3.3.0</b>.</font></p>
<p>Output Documents do not have a property to add page headers and footer, but these can be added manually if using the <a href="http://www.tufat.com/script19.htm">HTML2PDF</a> library to generate PDF files. To define a page header in an Output Document, edit the HTML code and add text between <code>&lt;!--header starts--&gt;</code> and <code>&lt;!--header ends--&gt;</code> tags. Note that these are custom comment tags used by <a href="http://www.tufat.com/script19.htm">HTML2PDF</a> and these codes will be ignored in the DOC files and PDF files created with TCPDF.</p>
<p>For example:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">&lt;!--header starts--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;position: fixed; top: -5mm; left: 0mm;&quot;</span>&gt;</span>...your header content...<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--header ends--&gt;</span></div></div>

<p>To avoid the header being placed on top of content inside the Output Document, set the header above the content with a style setting such as <code>top: -5mm;</code>. However, make sure that the top margin of the Output Document is set to 5mm or larger.</p>
<p>To insert a page footer, edit the HTML code of the Output Document and add text between <code>&lt;!--footer starts--&gt;</code> and <code>&lt;!--footer ends--&gt;</code> tags. For example:</p>

<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #808080; font-style: italic;">&lt;!--footer starts--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;position: fixed; bottom: 5mm; left: 0mm;&quot;</span>&gt;</span>...your footer content...<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--footer ends--&gt;</span></div></div>

<p>To avoid the footer being placed on top of content inside the Output Document, set the footer below the content with a style setting such as <code>bottom: 5mm;</code>. However, make sure that the bottom margin of the Output Document is set to 5mm or larger.</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> The footer and header comments only work if using the HTML2PDF engine to generate the Output Document.</font></p>

<h3><span id="Page_Numbers_and_File_Information">Page Numbers and File Information (HTML2PDF Library)</span></h3>
<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> The HTML2PDF is not available on installations over PHP 7.X, specifically as of <b>ProcessMaker 3.3.0</b>.</font></p>
<p>If generating PDF files using the HTML2PDF library, it is possible to insert page numbers and file information in the generated Output Document, using the following <a href="http://www.tufat.com/docs/html2ps/directives.html">directives</a>:</p>
<p>
<table style="codecolumn">
    <tr>
        <th>Directive</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>##PAGE##</td>
        <td>Number of the current page.</td>
    </tr>
    <tr>
        <td>##PAGES##</td>
        <td>Total number of pages in the generated PDF file.</td>
    </tr>
    <tr>
        <td>##FILENAME##</td>
        <td>The URL where the source HTML is located, such as:<br>
            <small>http://example.com/files/98534779755ef0116e951f8051419251/outdocs/83393260655ef0978d76fd0041065478_2.html.<br>
This location cannot be used externally. It either has to be converted into a URL such as:<br>
http://example.com/sysworkflow/en/neoclassic/cases/cases_ShowOutputDocument?a=83393260655ef0978d76fd0041065478&v=4&ext=html<br>
Or a file location of the server, such as:<br>
/opt/processmaker/shared/sites/workflow/files/985/347/797/55ef0116e951f8051419251/outdocs/83393260655ef0978d76fd0041065478_4.html</small></td>
    </tr>
    <tr>
        <td>##FILESIZE##</td>
        <td>The size of the HTML source file in bytes.</td>
    </tr>
    <tr>
        <td>##TIMESTAMP##</td>
        <td>The time when the Output Document was generated in "YYYY-MM-DD HH:MM" format.</td>
    </tr>
</table>
</p>
<p>For example the following code prints out the page number and the total pages in the footer of each page:
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #00bbdd;">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--footer starts--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;position: fixed; bottom: 5mm; width: 100%;&quot;</span>&gt;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/center.html"><span style="color: #000000; font-weight: bold;">center</span></a>&gt;</span>Generated: ##TIMESTAMP##<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a> <span style="color: #66cc66;">/</span>&gt;</span>Page ##PAGE## / ##PAGES##<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/center.html"><span style="color: #000000; font-weight: bold;">center</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--footer ends--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is the first page<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--NewPage--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is the second page<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #808080; font-style: italic;">&lt;!--NewPage--&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>This is the third page<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span></div></div>
<p>At the bottom of each page will appear, the footer text will appear:</p>
<p><img src="../sites/default/files/3.0OutputDocumentFooter.png"></p>


<h3><span id="Formatting_documents_to_display_content_in_RTL">Formatting Documents to Display Content in RTL</span></h3>

<p>To display right-to-left <a href="../3.0/Languages.html" title="3.0/Translations">languages</a> correctly, such as Arabic and Hebrew, read the following instructions:</p>
<p>For content inside paragraphs, add <code>dir="RTL"</code> to the <code>&lt;p&gt;</code> tags:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">dir</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;RTL&quot;</span>&gt;</span>Testing RTL skin and language<br />
&nbsp; ...<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span></div></div>
<p>For content inside tables, add <code>dir="RTL"</code> to the <code>&lt;table&gt;</code> tags:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a> <span style="color: #000066;">dir</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;RTL&quot;</span>&gt;</span><br />
&nbsp; ...<br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a>&gt;</span></div></div>
<p>For example, the following output document template displays a table in <i>right-to-left</i> format:</p>
<div class="geshifilter"><div class="html4strict geshifilter-html4strict" style="font-family:monospace;"><span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">dir</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;RTL&quot;</span>&gt;</span>Invoice Details<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;mceItemTable&quot;</span> <span style="color: #000066;">dir</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;RTL&quot;</span> <span style="color: #000066;">border</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;0&quot;</span> <span style="color: #000066;">align</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;right&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>Reference<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>Number<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>Invoice approval<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span>1<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/td.html"><span style="color: #000000; font-weight: bold;">td</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/tr.html"><span style="color: #000000; font-weight: bold;">tr</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/table.html"><span style="color: #000000; font-weight: bold;">table</span></a>&gt;</span></div></div>
<p>The resulting output document will be generated as a <strong>.doc document</strong></p>
<p><img src="../sites/default/files/26PM3_OutputDoc_EditingHTML_InsertFomrFields_RTLDoc.png"></p>

<h2><span id="Custom_fonts_in_Output_documents">Custom fonts in Output Documents</span></h2>
<p style="margin-left:25px">
    <strong><font color="green">Available Version:</font></strong>
    <font color="dimgray"> As of ProcessMaker 3.5.3.</font>
</p>
<p style="margin-left:25px">
  <strong><font color="red">Disclaimer:</font></strong>
  <font color="dimgray">Customers are responsible to add and install the proper fonts in a <code>ttf</code> file. It is recommended use the free fonts from <a href="https://fonts.google.com/">https://fonts.google.com</a>. Otherwise, use a license for a <code>ttf</code> file that is not included in the ProcessMaker Output Document fonts. If a unicode font is added incorrectly using the value <b>TrueType</b>, fonts in the generated PDF do not display correctly. The font should be removed and added again using the correct option such as <code>--type=TrueTypeUnicode</code> or <code>--type=TrueType</code>.</font>
</p>
<p>The following fonts are deprecated: <b>Andale Mono</b>, <b>Arial</b>, <b>Arial Black</b>, <b>Book Antiqua</b>, <b>Comic Sans MS</b>, <b>Courier New</b>, <b>Georgia</b>, <b>Helvetica</b>, <b>Impact</b>, <b>Symbol</b>, <b>Tahoma</b>, <b>Terminal</b>, <b>Times New Roman</b>, <b>Trebuchet MS</b>, <b>Verdana</b>, <b>Webdings</b>, <b>Wingdings</b>.</p>

<p>Other fonts were added, so this is a list of the fonts available by default in the Rich Text editor:</p>
<ul>
    <li>Cormorant Garamond</li>
    <li>Courier New</li>
    <li>Gentium Book Basic</li>
    <li>Grandstander</li>
    <li>Helvetica</li>
    <li>Inconsolata</li>
    <li>Josefin Sans</li>
    <li>Lato</li>
    <li>Montserrat</li>
    <li>Noto Serif</li>
    <li>Open Sans</li>
    <li>Quicksand</li>
    <li>Times New Roman</li>
</ul>
<p style="margin-left:25px">
    <strong><font color="green">Note: </font></strong>
    <font color="dimgray"><b>All family</b> (regular, bold, italic and bold italic) is supported on the generated documents except <b>Quicksand</b> and <b>Inconsolata</b>. These last ones do not support italic and bold italic.</font>
</p>

<p>Optionally, add custom font styles to Output Documents into the Rich Text editor. Please take note about the following considerations:</p>
<ul>
    <li>ProcessMaker does not provide licensed fonts that may be used in the output documents. Customers may include their own legally acquired fonts.</li>
    <li>It is recommended (but not mandatory) to use the Google Fonts, because all the fonts in their catalog are free and open source.</li>

    <li>This is a manual process and there is no a user interface to do add the fonts.</li>
    <li>Only True-Type Fonts (TTF) files can be added through the procedure described below.</li>
    <li>The Output Documents editor will reflect the changes.</li>
    <li>The HTML template editor will not reflect the changes.</li>
    <li>The fonts are available on the PDF generation.</li>
    <li>The fonts are available for all ProcessMaker workspaces.</li>

</ul>
<h3><span id="Considerations_for_Custom_Fonts_in_Output_Documents">Considerations for Custom Fonts in Output Documents</span></h3>
<p>These are important considerations regarding functionality exceptions using custom fonts with output documents:</p>
<ul>
    <li>Only TTF fonts files are supported.</li>
    <li>The registered fonts are available for all ProcessMaker workspaces.</li>
    <li>To register a "family" of fonts (Regular, Bold, Italic and Bold Italic), first you must register the Regular font with the option --tinymce in "true" value and the rest of the fonts with the "false" value because only the Regular font should be displayed in the fonts list in the rich editor. The association of a "family" font is made internally (TCPDF resolves this association). In order to add a new custom font or customize attributes or options when adding a new custom font, refer to the <a href="../3.3/Output_Documents.html#Add_Custom_fonts_in_Output_documents">Add a new custom</a> section.</li>
    <li>Sometimes the font names are displayed with a delay, this is because the font files must be downloaded by the browser.</li>
    <li>Some fonts in bold are seen slightly different in the rich editor. In the PDF generated document, these fonts look thicker.</li>
    <li>The fonts displayed in the default list can not be removed.</li>
    <li>If a Unicode font is registered incorrectly using the value "TrueType", the fonts in the PDF generated file will not be correctly displayed. In this case, the font should be removed and added again using the correct option.</li>
    <li>Fonts of <b>Symbol</b> type are not supported.</li>
    <li>The default fonts and the custom fonts added are only displayed in the Rich Editor for Output Documents. The Rich Editor templates or the editor for classic processes only display the previous fonts list.</li>
    <li>If the font file registered is the same to the default font family or a previous registered font (with other filename), the font will be registered anyway. TCPDF solves this conflict internally.</li>
    <li>When using the rich editor, the fonts are not applied correctly sometimes because of HTML coding compatibility. In this case, select the text which you have problem with and clean all the styles using the button <b>remove format</b> and reapply the desired font and size. <img alt=""  src="../sites/default/files/3.0OutputDocEditingTemplatesFormattingOutputDoc3.png"></li>
    <li>
        <p>When an HTM or HTML template is uploaded into an Output Document and it contains the font tags with the added custom fonts, ProcessMaker does not recognize these fonts.</p>
        <p><img src="../sites/default/files/3.5.3OutputDocuments_Font_Listing1.png" /></p>
        <p><img src="../sites/default/files/3.5.3OutputDocuments_Font_Listing2.png" /></p>    
    </li>
</ul>
<h3><span id="Add_Custom_fonts_in_Output_documents">Add a new custom font</span></h3>
<p>Follow these steps to add your custom fonts into the Output Document Rich Text editor:</p>
<ol style="font-weight:bold;">
    <li>
        <p style="font-weight:normal;">Upload the custom TTF font file in the <code>shared/fonts</code> folder inside the ProcessMaker root path.</p>
        </li>
    <li>
        <p style="font-weight:normal;"><a href="../3.3/processmaker_command.html#using_command">Run the <code>processmaker</code> command</a> using the <code>documents-add-font</code> option. To see detailed command options, see <a href="../3.3/processmaker_command.html#documents-add-font"><code>documents-add-font</code></a>. For example, this is how a <b>Moderno</b> font is added using the <code>processmaker</code> command:</p>
    <codeblock style="font-weight:normal;">./processmaker documents-add-font Moderno.ttf "Moderno"</codeblock>
    </li>
        <p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray", style="font-weight:normal">If a font filename does not exist in the rich text editor, a message will be displayed indicating the required font does not exist. For example: <i>The font 'Aclonica.ttf' does not exist.</i></font></p>
    <li>
        <p style="font-weight:normal;">Run the following command to apply more attributes in the font:</br>
        <codeblock style="font-weight:normal;"><span class="geshifilter"><code class="text geshifilter-text">./processmaker documents-add-font --tinymce=&lt;true|false&gt; --type=&lt;TrueType|TrueTypeUnicode&gt; &lt;ttf-file&gt; &lt;friendly-name&gt; &lt;additional-attributes&gt;</code></span></codeblock>
            <p style="font-weight:normal;">Read the following commands' attributes for deeper comprehension:</p>
        <ul style="font-weight:normal;">
            <li><b>Option <i>--tinymce</i>: </b>To be displayed in the rich editor; the default value is "true". This option should be true for the main family font (usually the regular font).</li>
            <li><b>Option <i>--type</i>: </b>The possible values are "TrueType" and "TrueTypeUnicode". While the default value is "TrueType", "TrueTypeUnicode" should be used if the font supports unicode characters (e.g. Japanese, Chinese, Russian, etc.).</li>
            <li><b>Required Argument <i>ttf-file</i>: </b>The filename font which is case sensitive.</li>
            <li><b>Optional Argument <i>friendly-name</i>: </b>By setting this argument, a friendly name can be displayed in the rich editor. If the option --tinymce is set with the "false" value, this argument is not considered.</li>
            <li><b>Optional Argument <i>additional-attributes</i>: </b>If the font requires some extra values for the CSS properties (like unicode-range), define these arguments' values reviewing the resource: <a href="https://www.w3schools.com/cssref/css3_pr_font-face_rule.asp">https://www.w3schools.com/cssref/css3_pr_font-face_rule.asp</a>. If the option --tinymce is set with the "false" value, this argument is not considered.</li>
        </ul>
    </li>
    <li>
        <p style="font-weight:normal;">Verify that the added style is listing correctly inside the dropdown of the Output Documents editor. For example, in the following image, we can check that the <b>Moderno</b> font was successfully added:</p>
        <img src="../sites/default/files/3.5.3OutputDocuments_Font_Listing.png" />
    </li>
    <li><p style="font-weight:normal;">Apply the font into the desired text in the editor.</p></li>
</ol>

<h4><span id="Needed_Config_Nginx_Custom_fonts_in_Output_documents">Additional Required Configuration When Using an NGINX Stack</span></h4>
<p>When using an <b>NGINX</b> stack, the location of two PHP files must be included in the <code>processmaker.conf</code> configuration file:</p>
<codeblock>location = /fonts/styles.php {
      fastcgi_pass <font color="blue"><b>unix:/var/run/php-fpm/processmaker.sock;</b></font>
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      include fastcgi_params;
   }
location = /fonts/font.php {
      fastcgi_pass <font color="blue"><b>unix:/var/run/php-fpm/processmaker.sock;</b></font>
      fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
      include fastcgi_params;
   }
</codeblock>

<h4><span id="Examples_on_how_to_add_fonts">Examples</span></h4>
<p>In order to add a <b>normal font</b>, a <b>unicode font with friendly name</b> and a <b>bold font like part of a family</b>, follow the examples below:</p>

<ul>
    <li><p><strong>Adding a normal font:</strong> Run the following command to add a normal font:</p>
    <codeblock style="font-weight:normal;">./processmaker documents-add-font Aclonica-Regular.ttf</codeblock>

    <li><p><strong>Adding a unicode font with friendly name:</strong> Run the following command to add a unicode font:</p>
    <codeblock style="font-weight:normal;">./processmaker documents-add-font --type=TrueTypeUnicode arialuni.ttf "Arial MS Unicode"</codeblock>

    <li><p><strong>Adding a bold font like part of a family:</strong> Run the following command to add a bold font like part of a family, without displaying the font in the <b>TinyMCE editor</b>.</p>
    <codeblock style="font-weight:normal;">./processmaker documents-add-font --type=TrueTypeUnicode arialuni.ttf "Arial MS Unicode"</codeblock>
</ul>

<h3><span id="Remove_Custom_fonts_in_Output_documents">Remove a registered font</span></h3>
<p>Removing a registered font makes that font unavailable for PDF Output Documents and in the Rich Text editor.</p>
<p>Follow these steps to remove a registered font:</p>
<ol style="font-weight:bold;">
    <li>
        <p style="font-weight:normal;"><a href="../3.3/processmaker_command.html#using_command">Run the <code>processmaker</code> command</a> using the <code>documents-remove-font</code> option. To see detailed command options, see <a href="../3.3/processmaker_command.html#documents-remove-font"><code>documents-remove-font</code></a>. For example, this is how a <b>Moderno</b> font is removed using the <code>processmaker</code> command:</p>
<codeblock style="font-weight:normal;">./processmaker documents-remove-font Moderno.ttf
</codeblock>
    </li>
    <li>
        <p style="font-weight:normal;">Verify that the added style is not in the the dropdown list of the Output Documents editor anymore.</p>
    </li>
</ol>
<h3><span id="List_Custom_fonts_in_Output_documents">List Registered Fonts</span></h3>
<a href="../3.3/processmaker_command.html#using_command">Run the <code>processmaker</code> command</a> using the <code>documents-list/registered-fonts</code> option. To see detailed command options, <a href="../3.3/processmaker_command.html#documents-list-registered-fonts"><code>documents-list/registered-fonts</code></a>. For example, this is how a <b>Moderno</b> font is listed using the <code>processmaker</code> command:
<codeblock>./processmaker documents-list-registered-fonts Moderno.ttf
</codeblock>

<h2><span id="Errors_with_Output_Documents">Errors with Output Documents</span></h2>
<h3><span id="Error_while_generating_PDF_Documents">Error While Generating PDF Documents</span></h3>
<p>PHP version 5.4.0 or less must be installed to use the HTML2PDF library to generate PDF documents. Otherwise, a blank page will be generated. If a later version of PHP is installed, use the TCPDF library to generate output documents.</p>

<h3><span id="Variables_are_not_inserted">Variables are not Inserted</span></h3>
<p>If variables are not inserted into an output document, then either:</p>

<ol>
    <li>The variable name was not spelled correctly. Remember that system and case variable names are case sensitive.
        Re-check the spelling by looking at the field name in the Dynaform or the variable name in the trigger
        where it was defined.</li>
    <li>The case variable doesn't exist when the output document was created. If an output document references fields
        from a Dynaform used later in the process, then the case variable doesn't yet exist. Also, remember that
        case variables for each field in a Dynaform are only created when the Dynaform is submitted. If the user
        clicks on the <strong>Next Step</strong> link in a Dynaform whose Next Step Link property is set to "No
        Save &amp; Continue", then none of the data in the Dynaform will be saved.</li>
</ol>
<p>To determine what the problem is, run a case with the <a href="../3.0/Triggers.html#Debugging_Triggers" title="Triggers">Trigger Debugger</a> turned on and check whether the variables exist and what values they contain.</p>

<h3><span id="Output_Document_is_empty">Output Document is Empty</span></h3>
<p>If an empty Output Document is generated, then there probably wasn't enough session memory to properly generate the document. Large output documents may need more than 80MB of session memory. Try <a href="../3.0/Changing_the_ProcessMaker_Configuration.html#Increasing_the_maximum_memory_per_session" title="Changing the ProcessMaker Configuration">increasing PHP's memory_limit</a> setting.</p>

<h3><span id="Error_in_html2pdf">Error in HTML2PDF</span></h3>
<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> The HTML2PDF is not available on installations over PHP 7.X, specifically as of <b>ProcessMaker 3.3.0</b>.</font></p>
<p>If an error message appears about a class in <a  href="http://code.google.com/p/html2pdf/">HTML2PDF</a> saying "out of memory", then the <code>pcre.backtrack_limit</code> setting probably needs to be increased to allow bigger style definitions, larger template files and deeper levels of nested tables/divs. <tt>pcre.backtrack_limit</tt> is a new setting introduced in PHP 5.2.0.</p>

<p>Edit <strong><tt>php.ini</tt></strong></a>, which is the PHP configuration file on the server running ProcessMaker, and add/modify the following line to increase the <tt>backtrack_limit</tt>:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">pcre.backtrack_limit=1000000</div></div>

<p>Then, <a href="../3.0/Changing_the_ProcessMaker_Configuration.html#Restarting_Apache" title="Changing the ProcessMaker Configuration">restart Apache</a> for the new setting to take effect.</p></form>

<h2><span id="Using_Non_ASCII_Characters_in_Output_Documents">Using Non US-ASCII Characters in Output Documents</span></h2>

<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> The HTML2PDF is not available on installations over PHP 7.X, specifically as of <b>ProcessMaker 3.3.0</b>. In this case, follow <a href="../3.3/Adding_Fonts_for_the_UTF-8_International_Character_Set.html#TCPDF">TCPDF instructions</a>.</font></p>

<p>To use characters inside an output document and generate documents in <i>HTML2PDF (the old version)</i>, then follow the steps below to be able to open a document with Chinese, Arabic, Japanese and others characters successfully.</p>
<ol>
    <li>Download this <a href="../sites/default/files/arialuni.html" download>file</a> (it will download
        automatically depending on your browsers configuration) to allow the use of characters inside an output
        document. The file that has been downloaded must be added into the following route in the ProcessMaker
        installation: <strong>[installation path]/thirdparty/html2ps_pdf/fonts</strong>. Remember to give the folder all the corresponding permissions.
    </li>
    <li>Create an output document with the specifications shown in the image below. Notice that
        "HTML2PDF" will be selected in the "Report Generator" field. Click on the Save button to store the document.
        <p><img src="../sites/default/files/1PM3_OD_GenerateHTML2PDF.png"></p></li>
    <li>Once saved, open the editor of the output document recently created by clicking on the
        Open Editor button. <p><img src="../sites/default/files/2PM3_OD_OpenEditorToAddCharacters.png"></p></li>
    <li>Add text with Chinese characters such as: "This is an example with Chinese characters 這是一個用漢字的例子".
        <p><img src="../sites/default/files/3PM3_OD_AddExampleText.png"></p></li>
    <li>When a case runs, both <i>.doc</i> and <i>.pdf</i> options will be available. Click on
        the link to start the download of the documents. <p><img src="../sites/default/files/4PM3_OD_OpenInDocPDF.png"></p>        <p><img src="../sites/default/files/5PM3_OD_DownloadDocPdf.png"></p></li>
    <li>Notice that when the documents are opened the characters will be displayed correctly in
        both <i>.doc</i> and <i>.pdf</i> as seen in the images below. <p><img src="../sites/default/files/6PM3_OD_DocumenInWord.png"></p>        <p><img src="../sites/default/files/7PM3_OD_DocumenInWord.png"></p></li>
    <li>Other characters can also be added to output documents.<p><img src="../sites/default/files/8PM3_OD_DocumenInWordWithManyCharacters.png"></p>
<p><img src="../sites/default/files/9PM3_OD_DocumenInPdfWithManyCharacters.png"></p></li>
</ol>

<h2><span id="Output_Documents_in_Multiple_Languages">Output Documents in Multiple Languages</span></h2>

<p>There are two ways to create an output document in multiple languages. The first way is to generate the output document's HTML content dynamically in a trigger based on the system language.</p>

<p>For example, the following trigger generates the HTML content dynamically in Spanish and English:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//content in Spanish:</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>SYS_LANG <span style="color: #339933;">==</span> <span style="color: #0000ff;">'es'</span> or <span style="color: #339933;">@@</span>SYS_LANG <span style="color: #339933;">==</span> <span style="color: #0000ff;">'es-ES'</span><span style="color: #009900;">&#41;</span><br />
<span style="color: #009900;">&#123;</span> <span style="color: #339933;">@@</span>fileContent <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&lt;p&gt;&lt;b&gt;Nombre del Cliente:&lt;/b&gt; &quot;</span><span style="color: #339933;">.@@</span>clientName<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/p&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;&lt;p&gt;&lt;b&gt;Dirección del Cliente:&lt;/b&gt; &quot;</span><span style="color: #339933;">.@@</span>clientAddress<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/p&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span><br />
<span style="color: #666666; font-style: italic;">//content in English:</span><br />
<span style="color: #009900;">&#123;</span> <span style="color: #339933;">@@</span>fileContent <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&lt;p&gt;&lt;b&gt;Client Name:&lt;/b&gt; &quot;</span><span style="color: #339933;">.@@</span>clientName<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/p&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;&lt;p&gt;&lt;b&gt;Client Address:&lt;/b&gt; &quot;</span><span style="color: #339933;">.@@</span>clientAddress<span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/p&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span> <span style="color: #009900;">&#125;</span></div></div>

<p>Set this trigger to fire <i>before</i> the output document step. Then, place <code>@#fileContent</code> in the output document template. When the output document is generated while running a case, the content will automatically be inserted depending on the system language.</p>
<p>The other option is to create a separate output document for each language. Add each output document as steps in the task. Then, add conditions to execute the one output document which corresponds to the current system language and not execute the rest of the output documents.</p>

<p>For example, output document templates are created for both Spanish and English:</p>
<p><img src="../sites/default/files/ClientInfoTwoOutDocs.png"></p>

<p>Both output documents are added as steps in a task and conditions are added to both to check the current system language.</p>
<p><img src="../sites/default/files/ConditionForSpanishOutDoc.png"></p>

<p>The following condition executes the Spanish output document:</p>
<codeblock>(@@SYS_LANG == 'es' or @@SYS_LANG == 'es-ES')</codeblock>
<p>And the following condition would execute the English output document step if the system language is not Spanish:
<codeblock>(@@SYS_LANG != 'es' and @@SYS_LANG != 'es-ES')</codeblock>


<h2><span id="Inserting_Output_Documents_into_the_Process">Inserting Output Documents into a Process</span></h2><p>After creating an output document, decide where in a process the output document can be submitted. Remember that a task is a group of steps, so an output document must be added in a task. Read <a href="../3.0/Tasks.html#Steps" title="3.0/Tasks"> this documentation</a> which explains how to add an output document as a step.</p>

<h2><span id="Output_Documents_Examples">Output Documents Examples</span></h2>

<h3><span id="Simple_Output_Documents_Example">Simple Output Documents Example </span></h3>
<p>To create simple output documents, go to Output Documents in the main toolbox and click on Create. A new window will open where the information about the document must be filled in. After filling in all the necessary information, save the output document.</p>
<p><img src="../sites/default/files/32PM3_OutputDoc_ODExample1.png"></p>
<p>Once saved, the "Output Document Example" will appear in the Output Documents list, click on Open Editor to write a document in a Word-like environment. After it is saved, a quick message will appear saying the document has been edited successfully.</p>
<p><img src="../sites/default/files/33PM3_OutputDoc_ODExample2.png"></p>
<p><img src="../sites/default/files/33PM3_OutputDoc_ODExample2_1.png"></p>
<p>After saving it, go to the first task and right click on it to select Steps, then drag and drop the "Output Documents Example" to be shown after the Dynaform. </p>
<p><img src="../sites/default/files/34PM3_OutputDoc_ODExample3.png"></p>
<p>Now, to see what an output document looks like when a case is running, go to <b>Home > New Case</b> and double click on the process that contains the output document. In this case, the process "Copy of Purchase Request" is being used as an example. Once the initial information about the client is filled in, the next step is to view the document. As the image below shows, the document is generated in <strong>.doc</strong> and <strong>.pdf</strong>.</p>
<p><img src="../sites/default/files/35PM3_OutputDoc_ODExample4.png"></p>
<p><img src="../sites/default/files/35PM3_OutputDoc_ODExample4_1.png"></p>
<p>The image below shows how both documents look in both <strong>.doc</strong> and <strong>.pdf</strong> formats.</p>
<p><img src="../sites/default/files/36PM3_OutputDoc_ODExample5.png"></p>

<h3><span id="Output_Documents_Example_with_HTML">Output Documents Example with HTML</span></h3>
<p>To create an example with HTML, first create four variables: "name" (String), "email" (String), "address" (String) and "currentDate" (Datetime). These variables will be stored in all the fields of the Dynaform that we will create next.</p>
<p><img src="../sites/default/files/37PM3_OutputDoc_ODHTMLExample1.png"></p>
<p>Now, create a Dynaform with fields that have names corresponding to the variable, the Dynaform and the soon to be created output document. Don't forget to create a Submit button to go onto the next task.</p>
<p><img src="../sites/default/files/38PM3_OutputDoc_ODHTMLExample2.png"></p>
<p>Save the Dynaform "Order request form" to add it as a step in the task that will be worked on.</p>
<p><img src="../sites/default/files/39PM3_OutputDoc_ODHTMLExample3.png"></p>
<p>It's time to create an output document with the name "Output Documents Example". Locate the HTML button and click on it. It will open an HTML Source Editor where code can be added. Try adding this code for this particular example:</p>
<div class="geshifilter"><div class="html5 geshifilter-html5" style="font-family:monospace;"><span style="color: #00bbdd;">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;font-family: 'Trebuchet MS', Arial, Helvetica, sans-serif; font-size: 13px;&quot;</span>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<a href="http://december.com/html/4/element/img.html"><span style="color: #000000; font-weight: bold;">img</span></a> <span style="color: #000066;">src</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://www.processmaker.com/uploads/processmaker_logo_nobg300.png&quot;</span> <span style="color: #000066;">width</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;300&quot;</span> <span style="color: #000066;">height</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;72&quot;</span> <span style="color: #66cc66;">/</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;color: #009; font-weight: bold;&quot;</span>&gt;</span>NEW YORK<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/br.html"><span style="color: #000000; font-weight: bold;">br</span></a> <span style="color: #66cc66;">/</span>&gt;</span>Brooklyn, NY, 11238, USA<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">style</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;text-align: center; text-decoration: underline; font-size: 20px;&quot;</span>&gt;</span>PROOF OF PAYMENT<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Sent by: @#USR_USERNAME<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Name: @#name<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Email: @#email<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Address: @#address<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Current date: @#currentDate<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span>Status: Approved<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;</span><br />
<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span></div></div>
<p>When the code is ready to be executed click on Update to save it.</p>
<p><img src="../sites/default/files/40PM3_OutputDoc_ODHTMLExample4.png"></p>
<p>The result of this HTML Code will be:</p>
<p><img src="../sites/default/files/41PM3_OutputDoc_ODHTMLExample5.png"></p>
<p>This example was designed to use variables that will automatically display the saved responses from the Dynaform fields in the Output Document. Go to the variable picker in the Output Document editor, and choose the prefix "@#" to insert the value of the variable without any changes. Insert the variables that belong to each field, as seen in the image below.</p>
<p><img src="../sites/default/files/42PM3_OutputDoc_ODHTMLExample6.png"></p>
<p>After adding all the variables to each field, the output document is ready to be assigned to a task. Save it, and it will appear in the list with the other Output Documents.</p>
<p><img src="../sites/default/files/43PM3_OutputDoc_ODHTMLExample7.png"></p>
<p>Choose the first task and right click on it to show its properties, then click on Steps to add the output document after completing the Dynaform, as seen in the image below.</p>
<p><img src="../sites/default/files/44PM3_OutputDoc_ODHTMLExample8.png"></p>
<p>To test if it works, go to <b>Home > New Case</b> and start the process "Copy of Purchase Request" by double clicking it. Fill the information in the form and click Submit to see the output document.</p>
<p><img src="../sites/default/files/45PM3_OutputDoc_ODHTMLExample9.png"></p>
<p>The next window will show that there is an output document before moving on to the next task, and that there are two files generated in <strong>.doc</strong> and <strong>.pdf</strong>.</p>
<p><img src="../sites/default/files/46PM3_OutputDoc_ODHTMLExample10.png"></p>
<p>Once Open is clicked for either document, an automatic download of the output documents will start and will be saved in the Download folder. Open them to see that the document has the information required in the HTML Code and is calling all the variables added in the Dynaform.</p>
<p><img src="../sites/default/files/47PM3_OutputDoc_ODHTMLExample11.png"></p>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">Spaces between lines can vary in the downloaded Output Documents in both formats (DOC and PDF).</font></p>

<h3><span id="Output_Documents_Example_with_Grids">Output Document Example When Working With Grids</span></h3>
When working with grids on Output Documents, they must be called and built in a Trigger. The edition of grids and also the use of any tag, for example, <code>&#60;!--@>GRID-VARIABLE-NAME--&#62;</code> in the WYSIWYG of the Output Documents is not recommended because when using HTML tags, they do not save properly on the database.

<p>The following example can be applied on a Trigger to populate grid content using <b>HTML</b> code defined on a grid.</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@=</span>GridName <span style="color: #b1b100;">as</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$grid</span><span style="color: #339933;">.=</span> <span style="color: #0000ff;">'&lt;tr&gt;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$grid</span><span style="color: #339933;">.=</span> <span style="color: #0000ff;">'&lt;td&gt;'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'oeJan'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&lt;/td&gt;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$grid</span><span style="color: #339933;">.=</span> <span style="color: #0000ff;">'&lt;td&gt;'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'oeFeb'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&lt;/td&gt;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">...</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$grid</span><span style="color: #339933;">.=</span> <span style="color: #0000ff;">'&lt;/tr&gt;'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #339933;">@=</span>contentGrid <span style="color: #339933;">=</span> <span style="color: #000088;">$grid</span><span style="color: #339933;">;</span></div></div>
<p>After the grid is populated, the variable is ready to work on the Output Document just by calling the variable on the editor.</p>

<h2><span id="Restrict_Output_Document_Links">Restrict Output Document Links</span></h2>

<p>When an output document is generated inside a process, one or two links are generated to download and/or open the output document depending on the output document configuration.</p>

<p><img src="../sites/default/files/3.2OutputDocumentsLinks.png"></p>

<p>To restrict these output document links, configure the <a href="../3.2/Configuration_File_env.html#Available_Settings:"><code>disable_download_documents_session_validation</code></a> flag in the <tt>env.ini</tt> file of the workspace or the ProcessMaker instance.</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">disable_download_documents_session_validation= 0|1</div></div>

<p>If the flag is set to 1, the output document can be downloaded by any user with the link without restrictions.</p>

<p><img src="../sites/default/files/3.2OutputDocumentsLinkDownloadOk.png" alt=""></p>

<p>If set to 0 or not set, the user needs to be logged in to ProcessMaker with a valid active session and have the right user permissions to download the document. Otherwise, the following message will be displayed when accessing the link:</p>

<p><img src="../sites/default/files/3.2OutputDocumentsLinkDownloadError.png" alt=""></p>

<p>Click the <b>Login with other credentials</b> button to be redirected to the ProcessMaker login page. ProcessMaker will not redirect the user to the link after the user with the right permissions logs in, therefore, it is necessary to enter the output document link into the browser URL bar again.</p>

<h2><span id="Output_Document_Storage">Output Document Storage</span></h2>
<h3><span id="Output_Document_Definitions">Output Document Definitions</span></h3>
<p>The definitions of output documents are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.OUTPUT_DOCUMENT</tt></strong> table in the MySQL database. This table, also contains the title, description, template and filename for output documents.</p>
<p>To find information such as the title, description, template and filename for output document, enter MySQL (either from the command line or with a graphical program such as phpMyAdmin) or access it through a function such as <a href="../3.0/ProcessMaker_Functions.html#executeQuery.28.29">executeQuery()</a> in a trigger. Search for a value of <tt>'OUT_DOC_TITLE'</tt>, <tt>'OUT_DOC_DESCRIPTION'</tt>, <tt>'OUT_DOC_TEMPLATE'</tt>, and <tt>'OUT_DOC_FILENAME'</tt> in the <strong><tt>wf_&lt;WORKSPACE&gt;.OUTPUT_DOCUMENT</tt></strong> table. For example, to find all output document templates:</p>

<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> OUT_DOC_UID<span style="color: #66cc66;">,</span> OUT_DOC_TITLE<span style="color: #66cc66;">,</span> OUT_DOC_DESCRIPTION<span style="color: #66cc66;">,</span> OUT_DOC_FILENAME<span style="color: #66cc66;">,</span> OUT_DOC_TEMPLATE <span style="color: #993333; font-weight: bold;">FROM</span> OUTPUT_DOCUMENT</div></div>
<p><img src="../sites/default/files/3.4.0Output_Documents_PHPMyAdmin_All_Output_Selection.png"></p>

<p>To find a specific output document template, specify its unique ID in the query:</p>

<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> OUT_DOC_UID<span style="color: #66cc66;">,</span> OUT_DOC_TITLE<span style="color: #66cc66;">,</span> OUT_DOC_TEMPLATE <span style="color: #993333; font-weight: bold;">FROM</span> OUTPUT_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> OUT_DOC_UID <span style="color: #66cc66;">=</span> <span style="color: #ff0000;">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span></div></div>
<p><img alt="" src="../sites/default/files/3.4.0Output_Documents_PHPMyAdmin_Select_Output_Template_By_ID.png" /></p>

<p>To see all the information about a particular output document definition, search for its unique ID, which can either be found in the field <strong><tt>wf_&lt;WORKSPACE&gt;.OUTPUT_DOCUMENT.OUT_DOC_UID</tt></strong> or by opening the list of output documents inside ProcessMaker and clicking the <strong>Show ID</strong> link for an output document. Once the unique ID is known, it can be used in a SQL query:</p>

<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #66cc66;">*</span> <span style="color: #993333; font-weight: bold;">FROM</span> OUTPUT_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> OUT_DOC_UID <span style="color: #66cc66;">=</span> <span style="color: #ff0000;">'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span></div></div>
<p><img src="../sites/default/files/3.4.0Output_Documents_PHPMyAdmin_All_Output_Selection_By_ID.png"></p>

<h3><span id="Output_Document_Files">Output Document Files</span></h3>
<p>When output document files are generated while running a case, an HTML file is created based upon the output document's template. From that HTML file, a PDF and/or DOC file are created. (Actually the DOC file is really just HTML code inside a DOC container.)</p>
<p>Output document files are stored at:</p>

<codeblock>&lt;INSTALL-DIRECTORY&gt;/shared/sites/&lt;WORKSPACE&gt;/files/&lt;CASE-UID&gt;/outdocs/&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.&lt;EXTENSION&gt;
</codeblock>

<p>The filename of output document files includes the unique ID for the case file (which is stored in the <strong><tt>wf_&lt;WORKFLOW&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong> field) and the version number, which starts counting from 1. Even if versioning isn't enabled, the filename will include "_1".</p>

<p><strong>Linux/UNIX:</strong></p>
<div style="margin-left:25px;">
    <codeblock>&lt;INSTALL-DIRECTORY&gt;/shared/sites/&lt;WORKSPACE&gt;/files/&lt;CASE-UID&gt;/outdocs/&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.html
                                                                     /&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.pdf
                                                                     /&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.doc
</codeblock>

    <p><font color=green><b>Note:</b></font> <font color=dimgrey>The TCPDF library doesn't generate a separate HTML file.</font></p>

    <p>For example:</p>

    <codeblock>/opt/processmaker/shared/sites/workflow/files/a03459e1cb9824dac456780eca7b5cf6/outdocs/6663790024dd29d8bcb8212038377266_2.doc</codeblock>
</div>
<p><strong>Windows:</strong></p>
<div style="margin-left:25px;">
    <codeblock>&lt;INSTALL-DIRECTORY&gt;\processmaker\shared\&lt;WORKSPACE&gt;\files\&lt;CASE-UID&gt;\outdocs\&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.html
                                                                            \&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.pdf
                                                                            \&lt;CASE-FILE-UID&gt;_&lt;VERSION&gt;.doc
</codeblock>

    <p>For example in Windows Vista and later:</p>

    <codeblock>C:\Users\Bob\AppData\Roaming\ProcessMaker-2_5_3\processmaker\shared\workflow\files\a03459e1cb9824dac456780eca7b5cf6\outdocs\6663790024dd29d8bcb8212038377266_2.doc
</codeblock>
</div>
<p>To know more about case files stored in a series of 3 subdirectories, review <a href="../3.0/Managing_32K_Folders.html">Managing 32K Folders</a>. This means that a directory using the case's unique ID, such as <code>/a03459e1cb9824dac456780eca7b5cf6/</code> in the above example, becomes 3 subdirectories whose names are three characters in the case's unique ID, with the rest of the unique ID placed in the name of another subdirectory:</p>
<codeblock>/opt/processmaker/shared/sites/workflow/files<b>/a03/459/e1c/b9824dac456780eca7b5cf6/</b>outdocs/6663790024dd29d8bcb8212038377266_2.doc</codeblock>

<p>If accessing an output document file from a ProcessMaker trigger or plugin, it is recommended to use the defined constant <code>PATH_DOCUMENT</code>, to set the location of the case files, such as <code>"/opt/processmaker/shared/sites/workflow/files/"</code> on a Linux/UNIX system, and <code>PATH_SEP</code>, which is  <code>"/"</code> on Linux/UNIX systems and <code>"\"</code> on Windows systems to separate directories in the file system. The <a href="../3.0/Internal_Functions_and_Classes.html#G::getPathFromURL.28.29">G::getPathFromUID()</a> method may be used to break a unique ID number into subdirectories in this way if the system requires it. For example, to get an output document file with the case-file ID of 6960198894e6927e0a40b14004833875 and the version number 2 in the current case:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$OutDocPath</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;outdocs&quot;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;6960198894e6927e0a40b14004833875_2.pdf&quot;</span><span style="color: #339933;">;</span></div></div> If unsure, then use <a href="http://php.net/manual/en/function.method-exists.php">method_exists()</a>to
check whether <code>G::getPathFromUID()</code> exists before calling it.
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'a03459e1cb9824dac456780eca7b5cf6'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseIdPath</span> <span style="color: #339933;">=</span> <a href="http://php.net/method_exists"><span style="color: #990000;">method_exists</span></a><span style="color: #009900;">&#40;</span>G<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;getPathFromUID&quot;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <span style="color: #000088;">$caseId</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$OutDocPath</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$caseIdPath</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;outdocs&quot;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;6960198894e6927e0a40b14004833875_2.pdf&quot;</span><span style="color: #339933;">;</span></div></div>
<h4><span id="Changing_the_File_Location">Changing the File Location</span></h4>
<p>To store input and output document files in a different location, such as a NAS, then copy the contents of the <strong><tt>files</tt></strong> directory to the new location and then edit the source code in <strong><tt>workflow/public_html/sysGeneric.php</tt></strong> and change the location of <tt>PATH_DOCUMENT</tt>, which is defined in line 332:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">&nbsp;<a href="http://php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'PATH_DOCUMENT'</span><span style="color: #339933;">,</span> PATH_DATA_SITE <span style="color: #339933;">.</span> <span style="color: #0000ff;">'files/'</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>For example, to store files on an NAS mounted drive at <strong><tt>/media/nas/processmaker</tt></strong>:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><a href="http://php.net/define"><span style="color: #990000;">define</span></a><span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">'PATH_DOCUMENT'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'/media/nas/processmaker/'</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>Make sure to include the forward slash in Linux/UNIX or the backward slash in Windows at the end of the path.</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray">Take into consideration that this change can <b>only</b> be done in the community edition of ProcessMaker, as this represents changes in the core and that is not allowed in enterprise editions.</font></p>

<h3><span id="Generated_Output_Documents_in_the_Database">Generated Output Documents in the Database</span></h3>
<p>When an output document is generated when running a case, a new entry is added to the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT</tt></strong> table and a new unique ID is assigned to the generated Output Document. In addition, other entries like <tt>'APP_DOC_TITLE'</tt>,<tt>'APP_DOC_FILENAME'</tt> and <tt>'APP_DOC_COMMENT'</tt> are added to the table.</p>
<p>If inside a trigger or using an external application or script, the unique ID for an output document file can be found with the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#Output_Document_List" title="ProcessMaker WSDL Web Services">outputDocumentList()</a> web service. Inside a trigger or a Dynaform, the unique IDs for all generated output documents can be looked up with the following SQL query:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>

<p><img src="../sites/default/files/PM3_OutputDoc_OutputDocForSpecificCase.png"></p>
<p>To find the generated output documents for a specified case:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span><br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>

<p>To find a specific output document for a specified case, which was uploaded by a specified user:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span><br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span><br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">AND</span> DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;OUTPUT_DOC_UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> USR_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;USER_UID&gt;'</span></div></div>
<p>Output documents can be marked by <i>tags</i>, which provide an easy way to find related output documents under <strong>HOME &gt; Documents</strong>. The tags are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_TAGS</tt></strong> field for each generated output document file and multiple tags are separated by commas. To find all generated output document files for a case with a specified tag:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span><br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TAGS <span style="color: #993333; font-weight: bold;">LIKE</span> <span style="color: #ff0000;">'%&lt;TAG&gt;%'</span></div></div>
<p>To find all generated output documents created between a certain date range:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span><br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_CREATE_DATE<span style="color: #66cc66;">&gt;=</span><span style="color: #ff0000;">'&lt;YYYY-MM-DD HH:MM:SS&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_CREATE_DATE<span style="color: #66cc66;">&lt;=</span><span style="color: #ff0000;">'&lt;YYYY-MM-DD HH:MM:SS&gt;'</span><br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span></div></div>
<p>To find the unique IDs of all the generated files of a specified output document definition and their filenames used under <strong>HOME &gt; Documents</strong> (not its real filename in the file system), query the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT</tt></strong> table:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID<span style="color: #66cc66;">,</span> APP_DOC_FILENAME <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT<br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">WHERE</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span></div></div>
<p>To find the unique IDs of all the generated output documents of a specified user and their filenames used under <strong>HOME &gt; Documents</strong>:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID<span style="color: #66cc66;">,</span> APP_DOC_FILENAME <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> USR_UID <span style="color: #66cc66;">=</span> <span style="color: #ff0000;">'&lt;USER-UID&gt;'</span><br />
&nbsp; &nbsp;<span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span></div></div>

<p>To find the unique IDs of all the generated output documents of a specified case and their filenames used under <strong>HOME &gt; Documents</strong>:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID<span style="color: #66cc66;">,</span> APP_DOC_FILENAME <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID <span style="color: #66cc66;">=</span> <span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span><br />
&nbsp; &nbsp; <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_TYPE<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'OUTPUT'</span></div></div>
<!--
<p>If multi-lingual processes have been designed and the filename depends upon the system language, then add <tt>ADD C.CON_LANG='&lt;LANG-CODE&gt;'</tt> to the 3 queries above.</p>
<p>If the output document is configured to allow multiple versions of the same input document file, then also look for the record with the highest positive integer in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.DOC_VERSION</tt></strong> field. (The counting starts from the number 1.)</p>
<p>To find the most recent version of a generated output document in a specified case:</p>
<div class="geshifilter"><div class="sql geshifilter-sql" style="font-family:monospace;"><span style="color: #993333; font-weight: bold;">SELECT</span> APP_DOC_UID <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;OUT-DOC-DEFINITION-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_VERSION <span style="color: #66cc66;">=</span> <span style="color: #66cc66;">&#40;</span><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #993333; font-weight: bold;">MAX</span><span style="color: #66cc66;">&#40;</span>DOC_VERSION<span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">FROM</span> APP_DOCUMENT <span style="color: #993333; font-weight: bold;">WHERE</span> APP_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;CASE-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span><br />
&nbsp; DOC_UID<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&lt;OUT-DOC-DEFINITION-UID&gt;'</span> <span style="color: #993333; font-weight: bold;">AND</span> APP_DOC_STATUS<span style="color: #66cc66;">=</span><span style="color: #ff0000;">'ACTIVE'</span><span style="color: #66cc66;">&#41;</span></div></div>
-->

<h3><span id="UploadOutput_DocumentsFonts_through_the_Skins">Upload Output Documents' Fonts through the Skins</span></h3>
<p>Follow these steps to add a new font through the skins in ProcessMaker.</p>

<ol style="font-weight:bold;">
    <li><p style="font-weight:normal;">Download the new skin exported from ProcessMaker.</p></li>
    <li><p style="font-weight:normal;">Uncompress the .tar file.</p></li>
    <li><p style="font-weight:normal;">Create a folder name <b>fonts</b> if it is not created yet.</p></li>
    <li><p style="font-weight:normal;">Add all the required TTF font files in the fonts folder.</p></li>
    <li><p style="font-weight:normal;">Import information back in ProcessMaker and the fonts will be moved to a specific folder in ProcessMaker for new fonts.</p></li>
</ol>

<h4><span id="Results_UploadOutput_DocumentsFonts">Results</span></h4>

<ol style="font-weight:bold;">
    <li><p style="font-weight:normal;">It is necessary to add the fonts' files in the fonts folder.</p>
    <p><img src="../sites/default/files/PM3.6.x_AddingFonts_thoughSkins.png"><p>

    <table border="1" cellpadding="1" cellspacing="1">
    <tbody>
    <tr>
    <td>
    <font color="red"><b>Warning:</b></font><font style="font-weight:normal;"> After a new skin is imported into ProcessMaker, it should copy the font files into the main fonts path "shared/fonts".</font>
    <ul style="font-weight:normal;">
        <li><p style="font-weight:normal;">The fonts are added cumulative.</p></li>
        <li><p style="font-weight:normal;">If a font with the same name and extension is uploaded, it has to replace the older fonts.</p></li>
        <li><p style="font-weight:normal;">The fonts are registered manually by the IT Manager after the skin file is uploaded (It happens because ProcessMaker requires tp set the correct values for the options and arguments used in ProcessMaker commands).</p></li>
    </ul>
    </td>
    </tr>
    </tbody>
    </table>
    </p>
    </li>
    <li><p style="font-weight:normal;">Execute this command to convert a ttf file to a valid TCPDF font and a TinyMCE Rich Text Editor property:</p></li>

    <ul>
        <li><p><strong>ProcessMaker Function:</strong></p>
        <codeblock style="font-weight:normal;"><span class="geshifilter"><code class="text geshifilter-text">./processmaker documents-add-font --tinymce=&lt;true|false&gt; --type=&lt;TrueType|TrueTypeUnicode&gt; &lt;ttf-file&gt; &lt;friendly-name&gt; &lt;additional-attributes&gt;</code></span></codeblock>
    </ul>

    <li><p style="font-weight:normal;">Select the font uploaded in the Rich text editor. When the font is added, it is listed in the rich text editor selecting the dropdown.</p>
    <p><img src="../sites/default/files/PM3.6.x_AdvancedFonts.png"></p>

    <li><p style="font-weight:normal;">When generating the PDF file, the text uses the defined font.</p></li>
</ol>

<h2><span id="Accessing_Output_Documents_with_Triggers">Accessing Output Document with Triggers</span></h2>
<h3><span id="Links_to_Output_Documents_in_DynaForms">Links to Output Documents in Dynaforms</span></h3>
<p>Trigger code can be used to look up information about an output document file in the database and construct the address to download the file.
<p>First, add two link controls to a Dynaform for the PDF and DOC of an output document file:</p>

<p><img src="../sites/default/files/LinkToOutputDocumentInDynaForm.png"> <img src="../sites/default/files/LinkToDocFileOfOutDoc.png"></p>

<p>In the properties of the link to the PDF file, set its <b>display text</b> property to the <code>@@filenamePdf</code> variable and set its <b>href</b> property to the <code>@@filePdfUrl</code> variable. Likewise, in the properties of the DOC file, set its <b>display text</b> property to the <code>@@filenameDoc</code> variable and set its <b>href</b> property to the <code>@@fileDocUrl</code> variable.</p>
<p>Then, create the following trigger, which looks up information about the latest version of the output document file in the <b><tt>APP_DOCUMENT</tt></b> table and its filename in the <b><tt>CONTENT</tt></b> table in the database:
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//set to the ID of the Output Document:</span><br />
<span style="color: #000088;">$docId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'30671206456bbc811c7dd13078044406'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID AS FILE_ID, APP_DOC_FILENAME, DOC_VERSION AS VERSION<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FROM APP_DOCUMENT WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DOC_UID='<span style="color: #006699; font-weight: bold;">$docId</span>'<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AND APP_DOC_STATUS='ACTIVE' AND APP_DOC_TYPE='OUTPUT'<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ORDER BY DOC_VERSION DESC&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to find Output Document file for case <span style="color: #006699; font-weight: bold;">$caseId</span>.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #000088;">$fileId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FILE_ID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$filename</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FILENAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$version</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>filePdfUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;http://<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_NAME']}</span>:<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_PORT']}</span>/sys&quot;</span> <span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>SYS_SYS <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">&quot;/neoclassic/en/cases/cases_ShowOutputDocument?a=<span style="color: #006699; font-weight: bold;">$fileId</span>&amp;v=<span style="color: #006699; font-weight: bold;">$version</span>&amp;ext=pdf&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>fileDocUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;http://<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_NAME']}</span>:<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_PORT']}</span>/sys&quot;</span> <span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>SYS_SYS <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">&quot;/neoclassic/en/cases/cases_ShowOutputDocument?a=<span style="color: #006699; font-weight: bold;">$fileId</span>&amp;v=<span style="color: #006699; font-weight: bold;">$version</span>&amp;ext=doc&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>filenamePdf <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">{$filename}</span>_<span style="color: #006699; font-weight: bold;">{$version}</span>.pdf&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>filenameDoc <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">{$filename}</span>_<span style="color: #006699; font-weight: bold;">{$version}</span>.doc&quot;</span><span style="color: #339933;">;</span></div></div>
<p>This trigger code sets the values of the variables that are inserted into the properties of the link controls when the Dynaform is generated. Make sure to change the <code>$docId</code> to the unique ID of the output document. Then, set this trigger to fire <i>before</i> the Dynaform.</p>

<p>When a case is run, the filenames and the URLs of the PDF and DOC files should be automatically inserted into the links in the Dynaform.</p>

<p><img src="../sites/default/files/LinksInDynaFormToFiles.png"></p>

<h3><span id="Generating_Output_Documents">Generating Output Documents</span></h3>
<p>The <a href="../3.0/ProcessMaker_Functions.html#PMFGenerateOutputDocument.28.29">PMFGenerateOutputDocument()</a> function can be called in a <a href="../3.0/Triggers.html">trigger</a> to generate an output document in the current case. The PMFGenerateOutputDocument() function doesn't return any information about the generated file, but afterwards the executeQuery() function can be used to look up this information in the <tt><b>wf_<font color=blue><i>WORKSPACE</i></font>.APP_DOCUMENT</tt></b> table. Information, such as the filename, file version, the user who generated the file, and datetime when generated, can be obtained with a complex database query as shown in the previous example, but it is much simpler to use the <a href="../3.0/Internal_Functions_and_Classes.html#AppDocument::Load.28.29">AppDocument::Load()</a> method to obtain this information.
<p><b>Example:</b></p>
<div style="margin-left:25px">
    <p>This example (which can be downloaded by right clicking this <a href="../sites/default/files/Generate_Output_Dcument_Example-1.pmx">link</a> and saving it) shows how to generate an output document and display a link to the generated file in a subsequent Dynaform, so a separate step to create an output document is not necessary.</p>
    <p>First, create two string variables named <code>outDocUrl</code> and <code>outDocFilename</code>, which will be used to pass the web address and filename of the generated file to the Dynaform. Then, create a Dynaform that has a link control. In the properties of that link control, set the <b>display text</b> property to <code>@@outDocFilename</code> and the <b>href</b> property to <code>@@outDocUrl</code>.</p>
    <img src="../sites/default/files/VariablesForOutputDocLink.png">

    <p>Then, create an output document and get its Unique ID number by clicking on its <b>Show ID</b> button:</p>
    <img src="../sites/default/files/ShowIDForOutputDocument.png">

    <p>Then, create a trigger with the following code that generates the output document and looks up information about the generated PDF file:</p>
    <div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//set to the Unique ID of the Output Document:</span><br />
<span style="color: #000088;">$outDocId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'84581368556d0b69010a355067195050'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<br />
PMFGenerateOutputDocument<span style="color: #009900;">&#40;</span><span style="color: #000088;">$outDocId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//retrieve info from the database about the generated output document file</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID FROM APP_DOCUMENT WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND<br />
&nbsp; &nbsp;DOC_UID='<span style="color: #006699; font-weight: bold;">$outDocId</span>' AND APP_DOC_STATUS='ACTIVE'&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to find generated Output Document in database.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aFile</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//change from 'http://' to 'https://' if using SSL</span><br />
<span style="color: #666666; font-style: italic;">//change 'pdf' to 'doc' for MS Word file</span><br />
<span style="color: #339933;">@@</span>outDocUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">'http://'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$_SERVER</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'SERVER_NAME'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">// ':' . $_SERVER['SERVER_PORT'] . //uncomment if needing a port number</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'/sys'</span><span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>SYS_SYS <span style="color: #339933;">.</span> <span style="color: #0000ff;">'/en/neoclassic/cases/cases_ShowOutputDocument?a='</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&amp;v='</span><span style="color: #339933;">.</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&amp;ext=pdf'</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>outDocFilename <span style="color: #339933;">=</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #339933;">.</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'.pdf'</span><span style="color: #339933;">;</span></div></div>
    </p>Change the <code>$outDocId</code> variable to the output document's unique ID. The address in <code>@@outDocUrl</code>    may also need to be adjusted if using <b>https</b> or if using a port number. In this example, the link is
    for a PDF file, but to link to an MS Word file change the file extension from <code>.pdf</code> to <code>.doc</code>.
    <a href="../3.0/Triggers.html#Inserting_a_trigger_in_a_process">Set the above trigger to fire</a> <i>before</i> the
    Dynaform.
    </p>
    <p>When a case is run, the filename for the generated output document file should be displayed in the link field.</p>
    <img src="../sites/default/files/LinkToOutputDocumentFile.png">
</div>

<h3><span id="convert_to_text_file">Convert Output Documents to Text Files</span></h3>
<p>The following example shows how to convert an output document file into a text file and display it in a Link control in a subsequent Dynaform so the user can download the text file.
<p>In this example, the pdftotext command from <a href="https://poppler.freedesktop.org/">Poppler</a> is used to convert an output document's PDF file into a text file. Poppler has to be installed separately on the ProcessMaker server. On most Linux/UNIX servers, it is available to be installed in the <code>poppler-utils</code> package. For Windows machines, Poppler can be downloaded <a href="https://sourceforge.net/projects/poppler-win32/">here</a>. To avoid installing a separate program, it is also possible to convert the output document's HTML file into text with the <a href="http://php.net/manual/en/function.strip-tags.php">strip_tags()</a> function, so this example can be modified to work without Poppler.
<p>First, create an output document in the process and get its ID number, which in this example is "233815488585c62af61e2a6077136729".</p>
<p>Then, create a Dynaform with a Link control. In the Link properties, set the <b>display text</b> to <code>@@textDocFilename</code> and the <b>href</b> to <code>@@textDocUrl</code>. </p>
<p><img src="../sites/default/files/TextFileLinkInDynaForm.png"></p>
<p>Finally, create the following trigger:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//set to the Unique ID of the Output Document:</span><br />
<span style="color: #000088;">$outDocId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'233815488585c62af61e2a6077136729'</span><span style="color: #339933;">;</span><br />
PMFGenerateOutputDocument<span style="color: #009900;">&#40;</span><span style="color: #000088;">$outDocId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//retrieve info from the database about the generated output document file</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT<br />
&nbsp; &nbsp;WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DOC_UID='<span style="color: #006699; font-weight: bold;">$outDocId</span>' AND<br />
&nbsp; &nbsp;APP_DOC_STATUS='ACTIVE' ORDER BY APP_DOC_CREATE_DATE DESC&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">==</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Unable to find generated Output Document in database.&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #666666; font-style: italic;">//get the filename of the uploaded document:</span><br />
<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aFile</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$originalFilename</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #339933;">.</span><span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$filename</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #339933;">.</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> PATH_DOCUMENT<span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span>PATH_SEP<span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;outdocs&quot;</span> <span style="color: #339933;">.</span>PATH_SEP<span style="color: #339933;">.</span> <span style="color: #000088;">$filename</span> <span style="color: #339933;">.</span><span style="color: #0000ff;">'.pdf'</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$tempFile</span> <span style="color: #339933;">=</span> <a href="http://php.net/tempnam"><span style="color: #990000;">tempnam</span></a><span style="color: #009900;">&#40;</span><a href="http://php.net/sys_get_temp_dir"><span style="color: #990000;">sys_get_temp_dir</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$originalFilename</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'_'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//convert PDF to text file:</span><br />
<a href="http://php.net/exec"><span style="color: #990000;">exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;pdftotext <span style="color: #006699; font-weight: bold;">$path</span> <span style="color: #006699; font-weight: bold;">$tempFile</span>.txt&quot;</span><span style="color: #339933;">,</span> <span style="color: #339933;">@=</span>aOutput<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//upload temporary text file to current case</span><br />
<span style="color: #000088;">$params</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a> <span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'ATTACH_FILE'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #000000; font-weight: bold;">new</span> CurlFile<span style="color: #009900;">&#40;</span><span style="color: #000088;">$tempFile</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'.txt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APPLICATION'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'INDEX'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'USR_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'DOC_UID'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'-1'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'APP_DOC_TYPE'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'ATTACHED'</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'TITLE'</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'COMMENT'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">''</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$domain</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">is_https</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> ? <span style="color: #0000ff;">'https://'</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">'http://'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$_SERVER</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'SERVER_NAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//add if needing a port number: .':'. $_SERVER['SERVER_PORT']</span><br />
<span style="color: #000088;">$uploadUrl</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$domain</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'/sys'</span><span style="color: #339933;">.</span>SYS_SYS<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span>SYS_LANG<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span>SYS_SKIN<span style="color: #339933;">.</span><span style="color: #0000ff;">'/services/upload'</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//upload text file created from output document</span><br />
<a href="http://php.net/ob_flush"><span style="color: #990000;">ob_flush</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$ch</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_init"><span style="color: #990000;">curl_init</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_URL<span style="color: #339933;">,</span> <span style="color: #000088;">$uploadUrl</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_RETURNTRANSFER<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POST<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_setopt"><span style="color: #990000;">curl_setopt</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #339933;">,</span> CURLOPT_POSTFIELDS<span style="color: #339933;">,</span> <span style="color: #000088;">$params</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYHOST, 1); //Uncomment for SSL</span><br />
<span style="color: #666666; font-style: italic;">// curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, 1); //Uncomment for SSL</span><br />
<span style="color: #000088;">$response</span> <span style="color: #339933;">=</span> <a href="http://php.net/curl_exec"><span style="color: #990000;">curl_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/curl_close"><span style="color: #990000;">curl_close</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$ch</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//delete temporary text files:</span><br />
<a href="http://php.net/unlink"><span style="color: #990000;">unlink</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$tempFile</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/unlink"><span style="color: #990000;">unlink</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$tempFile</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'.txt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/strpos"><span style="color: #990000;">strpos</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$response</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'uploaded successfully'</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">===</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$response</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//lookup uploaded text file in the database:</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT<br />
&nbsp; &nbsp;WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DOC_UID='-1' AND APP_DOC_STATUS='ACTIVE'<br />
&nbsp; &nbsp;ORDER BY APP_DOC_CREATE_DATE DESC&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #339933;">@@</span>textDocUrl <span style="color: #339933;">=</span> <span style="color: #000088;">$domain</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'/sys'</span><span style="color: #339933;">.</span>SYS_SYS<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span>SYS_LANG<span style="color: #339933;">.</span><span style="color: #0000ff;">'/'</span><span style="color: #339933;">.</span>SYS_SKIN<span style="color: #339933;">.</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'/cases/cases_ShowDocument?a='</span><span style="color: #339933;">.</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'&amp;v='</span><span style="color: #339933;">.</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>textDocFilename <span style="color: #339933;">=</span> <a href="http://php.net/basename"><span style="color: #990000;">basename</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$tempFile</span><span style="color: #339933;">.</span><span style="color: #0000ff;">'.txt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>Change the ID number of the output document to match your process. Set this trigger to execute <i>before</i> the Dynaform.
<p>This trigger first uses <a href="../3.0/ProcessMaker_Functions.html#PMFGenerateOutputDocument.28.29">PMFGenerateOutputDocument()</a> to create the output document files. Then, it searches for the newly generated file in the <b><tt>APP_DOCUMENT</tt></b> table in the database to get its unique ID and version number. With that information, it calls the <a href="../3.0/Internal_Functions_and_Classes.html#AppDocument::Load.28.29">AppDocument::Load()</a> method to get the filename of the generated file and construct the path where the file is stored on the ProcessMaker server.
<p>The trigger then uses the <a href="http://php.net/manual/en/function.tempnam.php">tempnam()</a> function to create a temporary file on the ProcessMaker server that will hold the text file. Then, it uses the <a href="http://php.net/manual/en/function.exec.php">exec()</a> function to make a system call for the pdftotext program to convert the output document's PDF file into a text file.</p>
<p>The temporary text file is then <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#Uploading_Attached_Files">uploaded to <code>/services/upload</code></a> as a new document in the case. The <b><tt>APP_DOCUMENT</tt></b> table is queried again to find the ID number and version number of this new document file. The URL to download the text file is placed in the <code>@@textDocUrl</code> variable and the filename of the text file is placed in the <code>@@textDocFilename</code> variable.
<p>When a case is run and the Dynaform with the Link field is displayed, the user can click on the link to download the text file.</p>
<p><img src="../sites/default/files/OutputDocToTextFileExample.png"></p>

<p>For a sample process containing this code, download and install <a href="../sites/default/files/output_document_to_text_file-3.pmx" download>output_document_to_text_file-3.pmx</a> (<i>right click</i> and select "Save Link As").</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&amp;mt=8" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com/">
		<img src="../themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&amp;gid=3970335&amp;trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>

<!-- Mirrored from wiki.processmaker.com/node/885 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:36:38 GMT -->
</html>
