<!DOCTYPE html>

<!-- Mirrored from wiki.processmaker.com/node/480 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:29:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="../themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../3.0/Internal_Functions_and_Classes.html" />
<link rel="shortlink" href="480.html" />
<title>3.0 - 3.1 - Internal Functions and Classes | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("../modules/system/system.base2af9.css?s743n7");
@import url("../modules/system/system.menus2af9.css?s743n7");
@import url("../modules/system/system.messages2af9.css?s743n7");
@import url("../modules/system/system.theme2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../modules/aggregator/aggregator2af9.css?s743n7");
@import url("../modules/comment/comment2af9.css?s743n7");
@import url("../modules/field/theme/field2af9.css?s743n7");
@import url("../modules/node/node2af9.css?s743n7");
@import url("../modules/search/search2af9.css?s743n7");
@import url("../modules/toc_filter/toc_filter2af9.css?s743n7");
@import url("../modules/user/user2af9.css?s743n7");
@import url("../modules/views/css/views2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../sites/all/modules/colorbox/styles/default/colorbox_style2af9.css?s743n7");
@import url("../modules/ctools/css/ctools2af9.css?s743n7");
@import url("../sites/all/modules/geshifilter/geshifilter2af9.css?s743n7");
@import url("../modules/panels/css/panels2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus_default2af9.css?s743n7");
@import url("../modules/fivestar/css/fivestar2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../themes/thecompany_responsive_theme/css/style2af9.css?s743n7");
@import url("../themes/thecompany_responsive_theme/css/media2af9.css?s743n7");
</style>
<script type="text/javascript" src="../modules/jquery_update/replace/jquery/1.9/jquery.min4b17.js?v=1.9.1"></script>
<script type="text/javascript" src="../misc/jquery.once7839.js?v=1.2"></script>
<script type="text/javascript" src="../misc/drupal2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.bgiframef195.js?v=2.1"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.hoverIntent1f6b.js?v=0.5"></script>
<script type="text/javascript" src="../modules/nice_menus/js/superfish099d.js?v=1.4.8"></script>
<script type="text/javascript" src="../modules/nice_menus/js/nice_menusc619.js?v=1.0"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/ui/external/jquery.cookie1683.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/misc/jquery.form.min97e5.js?v=2.69"></script>
<script type="text/javascript" src="../misc/ajax2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/jquery_update/js/jquery_update241d.js?v=0.0.1"></script>
<script type="text/javascript" src="../modules/toc_filter/toc_filter2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../misc/progress2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar.ajax2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-1.10.2.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/custom2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"Yx6tyA7CYpUQojPMFuB8fyDtFrfoiBPg8aY7dR1fcts","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','../../connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-480 node-type-processmakerbpm">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../3.1/user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../3.1/developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../3.1/resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="https://wiki.processmaker.com/node/480" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-Ios6EPSe7y_k7yeZIbvmQCR9wzGGyZpwqZZ_5a6qYg0" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.0 - 3.1 - Internal Functions and Classes</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.2/Internal_Functions_and_Classes.html" class="">3.8</a></li><li><a href="../3.2/Internal_Functions_and_Classes.html" class="">3.7</a></li><li><a href="../3.2/Internal_Functions_and_Classes.html" class="">3.6</a></li><li><a href="../3.2/Internal_Functions_and_Classes.html" class="">3.5</a></li><li><a href="../3.2/Internal_Functions_and_Classes.html" class="">3.4</a></li><li><a href="../3.2/Internal_Functions_and_Classes.html" class="">3.3</a></li><li><a href="../3.2/Internal_Functions_and_Classes.html" class="">3.2</a></li><li><a  class="active-version">3.1</a></li><li><a  class="active-version">3.0</a></li><li><a href="../index.php/Internal_Functions_and_Classes.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.0 - 3.1 - Internal Functions and Classes" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-processmakerbpm">
    <div class="field field-name-field-how-useful-did-you-find-th field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="https://wiki.processmaker.com/node/480" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.0 - 3.1 - Internal Functions and Classes 1/5</option><option value="40">Give 3.0 - 3.1 - Internal Functions and Classes 2/5</option><option value="60" selected="selected">Give 3.0 - 3.1 - Internal Functions and Classes 3/5</option><option value="80">Give 3.0 - 3.1 - Internal Functions and Classes 4/5</option><option value="100">Give 3.0 - 3.1 - Internal Functions and Classes 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2.5</span></span> <span class="total-votes">(<span >2</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-pGdZhHsW6NKdh5dbAsUKwRF9Qpmo0ix-wLUUTZ5GuDE" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="#Overview">Overview</a></li>
<li class="toc"><a href="#Source_Code_Locations">Source Code Locations</a></li>
<ol class="toc">
<li class="toc"><a href="#Calling_Internal_Functions_and_Classes">Calling Internal Functions and Classes</a></li>
<li class="toc"><a href="#Getting_Information_with_ProcessMaker_Classes">Getting Information with ProcessMaker Classes</a></li>
</ol>
<li class="toc"><a href="#AdditionalTables_class">AdditionalTables class</a></li>
<ol class="toc">
<li class="toc"><a href="#AdditionalTables::Load.28.29">AdditionalTables::Load()</a></li>
<li class="toc"><a href="#AdditionalTables::loadByName.28.29">AdditionalTables::loadByName()</a></li>
</ol>
<li class="toc"><a href="#AppDelegation_class">AppDelegation class</a></li>
<ol class="toc">
<li class="toc"><a href="#AppDelegation::Load.28.29">AppDelegation::Load()</a></li>
</ol>
<li class="toc"><a href="#AppDocument_class">AppDocument class</a></li>
<ol class="toc">
<li class="toc"><a href="#AppDocument::Load.28.29">AppDocument::Load()</a></li>
<li class="toc"><a href="#AppDocument::remove.28.29">AppDocument::remove()</a></li>
<li class="toc"><a href="#AppDocument::update.28.29">AppDocument::update()</a></li>
</ol>
<li class="toc"><a href="#AppFolder_class">AppFolder class</a></li>
<ol class="toc">
<li class="toc"><a href="#AppFolder::Load.28.29">AppFolder::Load()</a></li>
</ol>
<li class="toc"><a href="#AppHistory_class">AppHistory class</a></li>
<ol class="toc">
<li class="toc"><a href="#AppHistory::getDynaformHistory.28.29">AppHistory::getDynaformHistory()</a></li>
<li class="toc"><a href="#Getting_AppHistory_Information">Getting AppHistory Information</a></li>
</ol>
<li class="toc"><a href="#AppMessage_class">AppMessage class</a></li>
<ol class="toc">
<li class="toc"><a href="#Getting_AppMessage_Information">Getting AppMessage Information</a></li>
</ol>
<li class="toc"><a href="#AppNotes_class">AppNotes class</a></li>
<ol class="toc">
<li class="toc"><a href="#AppNotes::postNewNote.28.29">AppNotes::postNewNote()</a></li>
<li class="toc"><a href="#AppNotes::getNotesList.28.29">AppNotes::getNotesList()</a></li>
</ol>
<li class="toc"><a href="#Base_Propel_classes">Base Propel classes</a></li>
<ol class="toc">
<li class="toc"><a href="#Common_Base_Class_Variables">Common Base Class Variables</a></li>
<li class="toc"><a href="#Field_Getters_and_Setters">Field Getters and Setters</a></li>
<li class="toc"><a href="#BaseCLASS::fromArray.28.29">BaseCLASS::fromArray()</a></li>
<li class="toc"><a href="#BaseCLASS::toArray.28.29">Base<i>CLASS</i>::toArray()</a></li>
<li class="toc"><a href="#BaseCLASS::save.28.29">Base<i>CLASS</i>::save()</a></li>
<li class="toc"><a href="#BaseCLASS::delete.28.29">Base<i>CLASS</i>::delete()</a></li>
<li class="toc"><a href="#BaseCLASS::validate.28.29">Base<i>CLASS</i>::validate()</a></li>
<li class="toc"><a href="#BaseCLASS::getByName.28.29">Base<i>CLASS</i>::getByName()</a></li>
<li class="toc"><a href="#BaseCLASS::setByName.28.29">Base<i>CLASS</i>::setByName()</a></li>
<li class="toc"><a href="#BaseCLASS::getByPosition.28.29">Base<i>CLASS</i>::getByPosition()</a></li>
<li class="toc"><a href="#BaseCLASS::setByPosition.28.29">Base<i>CLASS</i>::setByPosition()</a></li>
<li class="toc"><a href="#BaseCLASS::getFieldNames.28.29">Base<i><strong>CLASS</strong></i>::getFieldNames()</a></li>
<li class="toc"><a href="#BaseCLASS::getByName.28.29_2">Base<i>CLASS</i>::getByName()</a></li>
</ol>
<li class="toc"><a href="#Common_Base_Peer_Class_Methods">Base Peer Class Methods</a></li>
<ol class="toc">
<li class="toc"><a href="#BaseCLASSPeer::doCount.28.29">Base<i>CLASS</i>Peer::doCount()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::doSelect.28.29">Base<i>CLASS</i>Peer::doSelect()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::doSelectOne.28.29">Base<i>CLASS</i>Peer::doSelectOne()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::doSelectRS.28.29">Base<i>CLASS</i>Peer::doSelectRS()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::doInsert.28.29">Base<i>CLASS</i>Peer::doInsert()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::doUpdate.28.29">Base<i>CLASS</i>Peer::doUpdate()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::doDelete.28.29">Base<i>CLASS</i>Peer::doDelete()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::doDeleteAll.28.29">Base<i>CLASS</i>Peer::doDeleteAll()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::retrieveByPK.28.29">Base<i>CLASS</i>Peer::retrieveByPK()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::retrieveByPKs.28.29">Base<i>CLASS</i>Peer::retrieveByPKs()</a></li>
<li class="toc"><a href="#BaseCLASSPeer::addSelectColumns.28.29">Base<i>CLASS</i>Peer::addSelectColumns()</a></li>
</ol>
<li class="toc"><a href="#Calendar_class">Calendar class</a></li>
<ol class="toc">
<li class="toc"><a href="#Calendar::getCalendarInfo.28.29">Calendar::getCalendarInfo()</a></li>
<li class="toc"><a href="#Calendar::loadByCalendarName.28.29">Calendar::loadByCalendarName()</a></li>
</ol>
<li class="toc"><a href="#Cases_class">Cases class</a></li>
<ol class="toc">
<li class="toc"><a href="#Cases::loadCase.28.29">Cases::loadCase()</a></li>
<li class="toc"><a href="#Cases::loadCaseInCurrentDelegation.28.29">Cases::loadCaseInCurrentDelegation()</a></li>
<li class="toc"><a href="#Cases::loadCaseByNumber.28.29">Cases::loadCaseByNumber()</a></li>
<li class="toc"><a href="#Cases::getUsersParticipatedInCase.28.29">Cases::getUsersParticipatedInCase()</a></li>
<li class="toc"><a href="#Cases::startCase.28.29">Cases::startCase()</a></li>
<li class="toc"><a href="#Cases::cancelCase.28.29">Cases::cancelCase()</a></li>
<li class="toc"><a href="#Cases::removeCase.28.29">Cases::removeCase()</a></li>
<li class="toc"><a href="#Cases::unpauseCase.28.29">Cases::unpauseCase()</a></li>
<li class="toc"><a href="#Cases::reassignCase.28.29">Cases::reassignCase()</a></li>
<li class="toc"><a href="#Cases::setCatchUser.28.29">Cases::setCatchUser()</a></li>
<li class="toc"><a href="#Cases::getNextStep.28.29">Cases::getNextStep()</a></li>
<li class="toc"><a href="#Cases::getPreviousStep.28.29">Cases::getPreviousStep()</a></li>
<li class="toc"><a href="#Cases::updateCase.28.29">Cases::updateCase()</a></li>
</ol>
<li class="toc"><a href="#Content_class">Content class</a></li>
<ol class="toc">
<li class="toc"><a href="#Content::load.28.29">Content::load()</a></li>
</ol>
<li class="toc"><a href="#Dates_class">Dates class</a></li>
<ol class="toc">
<li class="toc"><a href="#dates::calculateDate().28.29">dates::calculateDate()</a></li>
</ol>
<li class="toc"><a href="#Derivation_class">Derivation class</a></li>
<ol class="toc">
<li class="toc"><a href="#Derivation::getAllUsersFromAnyTask.28.29">Derivation::getAllUsersFromAnyTask()</a></li>
<li class="toc"><a href="#Derivation::getDerivatedCases.28.29">Derivation::getDerivatedCases()</a></li>
<li class="toc"><a href="#Derivation::setTasLastAssigned.28.29">Derivation::setTasLastAssigned()</a></li>
</ol>
<li class="toc"><a href="#Department_class">Department class</a></li>
<ol class="toc">
<li class="toc"><a href="#Department::Load.28.29">Department::Load()</a></li>
<li class="toc"><a href="#Department::getDepartmentsForUser.28.29">Department::getDepartmentsForUser()</a></li>
<li class="toc"><a href="#Department::getAllDepartmentsByUser.28.29">Department::getAllDepartmentsByUser()</a></li>
<li class="toc"><a href="#Department::removeUserFromDepartment.28.29">Department::removeUserFromDepartment()</a></li>
<li class="toc"><a href="#Department::addUserToDepartment.28.29">Department::addUserToDepartment()</a></li>
<li class="toc"><a href="#Department::updateDepartmentManager.28.29">Department::updateDepartmentManager()</a></li>
</ol>
<li class="toc"><a href="#Dynaform_class">Dynaform class</a></li>
<ol class="toc">
<li class="toc"><a href="#Dynaform::Load.28.29">Dynaform::Load()</a></li>
</ol>
<li class="toc"><a href="#Event_class">Event class</a></li>
<ol class="toc">
<li class="toc"><a href="#Event::Load.28.29">Event::Load()</a></li>
</ol>
<li class="toc"><a href="#Groups_class">Groups class</a></li>
<ol class="toc">
<li class="toc"><a href="#Groups::getUsersOfGroup.28.29">Groups::getUsersOfGroup()</a></li>
<li class="toc"><a href="#Groups::getActiveGroupsForAnUser.28.29">Groups::getActiveGroupsForAnUser()</a></li>
<li class="toc"><a href="#Groups::getGroupsForUser.28.29">Groups::getGroupsForUser()</a></li>
<li class="toc"><a href="#Groups::verifyUserToGroup.28.29">Groups::verifyUserToGroup()</a></li>
<li class="toc"><a href="#Groups::addUserToGroup.28.29">Groups::addUserToGroup()</a></li>
<li class="toc"><a href="#Groups::removeUserOfGroup.28.29">Groups::removeUserOfGroup()</a></li>
<li class="toc"><a href="#Groups::removeUserOfAllGroups.28.29">Groups::removeUserOfAllGroups()</a></li>
</ol>
<li class="toc"><a href="#Groupwf_class">Groupwf class</a></li>
<ol class="toc">
<li class="toc"><a href="#Groupwf::Load.28.29">Groupwf::Load()</a></li>
</ol>
<li class="toc"><a href="#Gulliver_Functions">Gulliver Functions</a></li>
<ol class="toc">
<li class="toc"><a href="#G::LoadClass.28.29">G::LoadClass()</a></li>
<li class="toc"><a href="#G::LoadSystem.28.29">G::LoadSystem()</a></li>
<li class="toc"><a href="#G::header.28.29">G::header()</a></li>
<li class="toc"><a href="#G::SendMessageText.28.29">G::SendMessageText()</a></li>
<li class="toc"><a href="#G::SendTemporalMessage.28.29">G::SendTemporalMessage()</a></li>
<li class="toc"><a href="#G::LoadTranslation.28.29">G::LoadTranslation()</a></li>
<li class="toc"><a href="#G::generateUniqueID.28.29">G::generateUniqueID()</a></li>
<li class="toc"><a href="#G::RenderPage.28.29">G::RenderPage()</a></li>
<li class="toc"><a href="#G::getPathFromUID.28.29">G::getPathFromUID()</a></li>
</ol>
<li class="toc"><a href="#headPublisher_class">headPublisher class</a></li>
<ol class="toc">
<li class="toc"><a href="#headPublisher::AddContent.28.29">headPublisher::AddContent()</a></li>
<li class="toc"><a href="#headPublisher::renderExtJs.28.29">headPublisher::renderExtJs()</a></li>
<li class="toc"><a href="#headPublisher::addExtJsScript.28.29">headPublisher::addExtJsScript()</a></li>
<li class="toc"><a href="#headPublisher::Assign.28.29">headPublisher::Assign()</a></li>
<li class="toc"><a href="#headPublisher::AssignVar.28.29">headPublisher::AssignVar()</a></li>
<li class="toc"><a href="#headPublisher::clearScripts.28.29">headPublisher::clearScripts()</a></li>
</ol>
<li class="toc"><a href="#InputDocument_class">InputDocument class</a></li>
<ol class="toc">
<li class="toc"><a href="#InputDocument::Load.28.29">InputDocument::Load()</a></li>
</ol>
<li class="toc"><a href="#Menus">Menu class</a></li>
<ol class="toc">
<li class="toc"><a href="#Menu::AddIdRawOption.28.29">Menu::AddIdRawOption()</a></li>
</ol>
<li class="toc"><a href="#OutputDocument_class">OutputDocument class</a></li>
<ol class="toc">
<li class="toc"><a href="#OutputDocument::Load.28.29">OutputDocument::Load()</a></li>
</ol>
<li class="toc"><a href="#PMPlugin_class">PMPlugin class</a></li>
<ol class="toc">
<li class="toc"><a href="#PMPlugin::registerMenu.28.29">PMPlugin::registerMenu()</a></li>
</ol>
<li class="toc"><a href="#PMPluginRegistry_class">PMPluginRegistry class</a></li>
<ol class="toc">
<li class="toc"><a href="#PMPluginRegistry::registerMenu.28.29">PMPluginRegistry::registerMenu()</a></li>
</ol>
<li class="toc"><a href="#Process_class">Process class</a></li>
<ol class="toc">
<li class="toc"><a href="#Process::Load.28.29">Process::Load()</a></li>
</ol>
<li class="toc"><a href="#Publisher_class">Publisher class</a></li>
<ol class="toc">
<li class="toc"><a href="#Publisher::AddContent.28.29">Publisher::AddContent()</a></li>
</ol>
<li class="toc"><a href="#Route_class">Route class</a></li>
<ol class="toc">
<li class="toc"><a href="#Route::Load.28.29">Route::Load()</a></li>
</ol>
<li class="toc"><a href="#Step_class">Step class</a></li>
<ol class="toc">
<li class="toc"><a href="#Step::Load.28.29">Step::Load()</a></li>
</ol>
<li class="toc"><a href="#Task_class">Task class</a></li>
<ol class="toc">
<li class="toc"><a href="#Task::Load.28.29">Task::Load()</a></li>
</ol>
<li class="toc"><a href="#Triggers_class">Triggers class</a></li>
<ol class="toc">
<li class="toc"><a href="#Trigger::Load.28.29">Trigger::Load()</a></li>
</ol>
<li class="toc"><a href="#Users_class">Users class</a></li>
<ol class="toc">
<li class="toc"><a href="#Users::Load.28.29">Users::Load()</a></li>
<li class="toc"><a href="#Users::userExists.28.29">Users::userExists()</a></li>
<li class="toc"><a href="#Users::getAllInformation.28.29">Users::getAllInformation()</a></li>
<li class="toc"><a href="#Users::getAll.28.29">Users::getAll()</a></li>
</ol>
</div></div>

<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> It is not a good practice to use Internal Functions and Classes because they are not supported by ProcessMaker and they may be deprecated.</font></p>
<h2><span id="Overview">Overview</span></h2>

<p>ProcessMaker uses a large number of functions and classes internally, which may be called inside triggers or plugins. The following is a small selection of the more useful functions, but many more can be found by looking in the source code. In PHP, variable names are case sensitive, but the names of functions, classes and class methods are not case sensitive, so the functions and classes listed below may appear with a different case in the ProcessMaker source code.</p>

<h2><span id="Source_Code_Locations">Source Code Locations</span></h2>

<p>The most important PHP code files for ProcessMaker are located in the following locations:</p>

<p>
<strong>Gulliver:</strong></p>

<ul>
    <li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/gulliver/system/</tt></strong><tt>:</tt> This directory defines the principal classes for Gulliver, which is ProcessMaker's custom PHP development framework.</li>
</ul>

<p><strong>ProcessMaker classes:</strong></p>

<ul>
    <li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/engine/classes/</tt></strong><tt>:</tt> This directory defines the principal classes used by ProcessMaker.
</li>
    <li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/engine/classes/model/</tt></strong><tt>:</tt> This directory defines the Propel classes and their Peer classes that correspond to tables in the database.
</li>
    <li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/engine/classes/model/om/</tt></strong><tt>:</tt> This directory defines the abstract base classes from which the Propel classes in the <strong><tt>model</tt></strong> directory are derived (inherited).
</li>
</ul>

<p><strong>RBAC classes:</strong></p>
<ul>
    <li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/rbac/engine/classes/</tt></strong><tt>:</tt> This directory defines the principal classes used by ProcessMaker's role based action control, which controls what functionality users can access based upon their <a href="../3.0/Roles.html" title="3.0/Roles">roles</a>.
</li>
    <li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/rbac/engine/classes/model/</tt></strong><tt>:</tt> This directory defines the Propel classes and their Peer classes that correspond to tables in the database.</li>
    <li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/rbac/engine/classes/model/om/</tt></strong><tt>:</tt> This directory defines the abstract base classes from which the Propel classes in the <strong><tt>model</tt></strong> directory are derived (inherited).
</li>
</ul>

<p><strong>ProcessMaker Interface Code:</strong></p>

<ul>
    <li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/engine/methods/</tt></strong><tt>:</tt> This directory contains the code executed by ProcessMaker screens and dialog boxes. These files are executed when a URL is entered in the web browser.</li>
</ul>
<dl>
    <dd>For example, the URL:
        <dl>
            <dd><strong><span class="geshifilter"><code class="text geshifilter-text">http://www.example.com/sysworkflow/en/classic/cases/casesListExtJs.php</code></span></strong></dd>
        </dl>
    </dd>
    <dd>Executes the code file:
        <dl>
            <dd><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/engine/methods/cases/casesListExtJs.php</tt></strong></dd>
        </dl>
    </dd>
    <dd>Files whose name terminates in <strong><tt>_Ajax.php</tt></strong> handle <a href="http://en.wikipedia.org/wiki/Ajax_(programming)">AJAX</a>        calls from other pages. In ProcessMaker 2.X, many of the pages were redesigned to use the <a href="http://en.wikipedia.org/wiki/Ajax_(programming)">Ext JS</a>        JavaScript framework in place of the old Maborak framework; however it is possible to find both an Ext
        JS and Maborak version of the same page.
    </dd>
</dl>

<ul><li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/menus/</tt></strong><tt>:</tt> This directory holds the code to define the ProcessMaker menus.</li></ul><p><strong>ProcessMaker Pages:</strong></p>
<ul><li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/templates/</tt></strong><tt>:</tt> This directory holds the HTML and JavaScript files (plus a few random PHP files) to display pages.</li><li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/xmlform/</tt></strong><tt>:</tt> This directory holds the XML files, which are used to generate HTML forms. The format of the XML is the same format used by <a href="../3.0/DynaForms-2.html" title="3.0/DynaForms">Dynaforms</a>.</li><li><strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/js/</tt></strong><tt>:</tt> This directory holds JavaScript code.</li></ul>
<h3><span id="Calling_Internal_Functions_and_Classes">Calling Internal Functions and Classes</span></h3><p>Some of the internal functions and classes are already included automatically when a trigger is fired, so the source files do not need to be imported into the trigger code. If using internal functions and classes in a plugin, the source files will generally need to be imported.</p><p>Use the <a href="http://www.php.net/manual/en/function.require-once.php"><tt>require_once()</tt></a> function to import a source file into a trigger or plugin code file before calling the function or instantiating an object in that class:</p>

<codeblock>require_once "<i><strong>path/to/file</strong></i>";
<i><strong>someFunctionOrClass</strong></i>(...);
</codeblock>

<p>The path to source files starts from the <strong><tt>&lt;INSTALL-DIRECTORY&gt;/workflow/engine</tt></strong> directory. For example, to instantiate a new <tt>webEntryProxy</tt> object, whose code is found at <strong><tt>/opt/processmaker/workflow/engine/controllers/webEntryProxy.php</tt></strong>, use:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'controllers/webEntryProxy.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$wep</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> webEntryProxy<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>The Gulliver framework also provides the following methods to import source code files:</p>
<ul><li><tt>G::LoadClass():</tt> Imports ProcessMaker class definition files stored at <strong><tt>workflow/engine/classes/class.<i>class-name</i>.php</tt></strong>.</li>
    <li><tt>G::LoadClassRBAC():</tt> Imports RBAC class definition files stored at <strong><tt>rbac/engine/classes/class.<i>class-name</i>.php</tt></strong>.</li><li><tt>G::LoadThirdParty():</tt> Imports additional libraries/programs stored at <strong><tt>gulliver/thirdparty/</tt></strong>.</li><li><tt>G::LoadTemplate():</tt> Imports PHP template files stored at <strong><tt>workflow/engine/templates/<i>filename</i>.php</tt></strong> or <strong><tt>gulliver/templates/<i>filename</i>.php</tt></strong>.</li><li><tt>G::LoadSystem():</tt> Imports Gulliver class definition files stored at <strong><tt>gulliver/system/class.<i>class-name</i>.php</tt></strong>.</li><li><tt>G::LoadInclude():</tt> Imports files stored at <strong><tt>workflow/engine/includes/inc.<i>filename</i>.php</tt></strong>.</li><li><tt>G::LoadAllModelClasses():</tt> Imports all the Propel model class definition files found at <strong><tt>workflow/engine/classes/model/<i>class-name</i>.php</tt></strong>, but does not import any of the <strong><tt><i>class-name</i>Peer.php</tt></strong> files.</li></ul>
<p>For more information about how to use these methods, see the source code at <strong><tt>gulliver/system/class.g.php</tt></strong> and the paths defined at <tt><strong>workflow/engine/config/paths.php</strong></tt>.</p>
<p>To reference a method (member function) of a class without instantiating an object for that class, use <tt><i><strong>CLASS</strong></i>::<i><strong>function-name</strong></i>()</tt>. For example: <tt>Cases::loadCase()</tt> or <tt>G::SendTemporalMessage()</tt>. Note that class names in ProcessMaker generally start with uppercase and methods generally start with lowercase.</p>

<p>Exceptions in <a href="../3.0/ProcessMaker_Functions.html" title="ProcessMaker Functions">ProcessMaker functions</a> are generally caught and will not abort the trigger; however, ProcessMaker's internal functions may not have exception handling, so it is a good idea to wrap the code inside of <tt>try{...} catch{...}</tt> to <!--<a href="/3.0/Triggers#Preventing_Halts_in_Trigger_Execution" title="3.0/Triggers">-->gracefully handle exceptions<!--</a>-->.</p>
<h3><span id="Getting_Information_with_ProcessMaker_Classes">Getting Information with ProcessMaker Classes</span></h3>
<p>The information stored about ProcessMaker objects, such as processes, users, cases, etc. can be obtained by directly querying ProcessMaker's databases in MySQL (for example, using <a href="../3.0/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">executeQuery()</a> in a trigger, <tt>Propel::executeQuery()</tt> in a plugin or <a href="http://www.php.net/manual/en/function.mysql-query.php">mysql_query()</a> in an external script).</p>
<p>Database queries, however, are cumbersome, especially when querying several tables. It is more convenient to use ProcessMaker classes to obtain the same information.</p>
<p>The <tt>Load()</tt> method can be used by a variety of objects in ProcessMaker to return an associative array of information about the object. It works with many objects that have a unique ID in ProcessMaker. Most classes inherit this function from Propel, but a few reimplement it to add additional information.</p>

<codeblock><i>array</i> <strong><i>CLASS</i>::Load</strong>()
</codeblock>

<p>The structure of the associative array returned by <tt>Load()</tt> depends upon each class. See the documentation below on the different classes.</p>
<p>For example:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$p</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Process<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$p</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>PROCESS<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>proTitle <span style="color: #339933;">=</span> <span style="color: #000088;">$aInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'PRO_TITLE'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>

<p>Other ProcessMaker classes implement other methods to obtain information such as <a href="#Cases::loadCase.28.29">Cases::loadCase()</a> and <a href="#Calendar::getCalendarInfo.28.29">Calendar::getCalendarInfo()</a>.</p>






<h2><span id="AdditionalTables_class">AdditionalTables class</span></h2>
<p>The <tt>AdditionalTables</tt> class is defined in <strong><tt>workflow/engine/classes/model/AdditionalTables.php</tt></strong> and is used to manipulate <a href="../3.0/PM_Tables.html" title="PM Tables">PM Tables</a> and <a href="../3.0/Report_Tables.html" title="Report Tables">Report Tables</a> in ProcessMaker, whose definitions are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.ADDITIONAL_TABLES</tt></strong> table in the database. The <tt>PmTable</tt> class inherits from the the <tt>AdditionalTables</tt> class.</p>
<h3><span id="AdditionalTables::Load.28.29">AdditionalTables::Load()</span></h3>

<codeblock><i>array</i> <strong>AdditionalTables::Load</strong>(<i>string</i> $uid)
</codeblock>

<p><strong>Return Value:</strong></p>
<p><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["ADD_TAB_UID"]</strong></tt>: The unique ID of the table.</dd>
    <dd><tt><i>string</i> <strong>["ADD_TAB_NAME"]</strong></tt>: The name of the table.</dd>
    <dd><tt><i>string</i> <strong>["ADD_TAB_CLASS_NAME"]</strong></tt>: The Propel class name of the table.</dd>
    <dd><tt><i>string</i> <strong>["ADD_TAB_DESCRIPTION"]</strong></tt>: The description of the table.</dd>
    <dd><tt><i>int</i> <strong>["ADD_TAB_SDW_LOG_INSERT"]</strong></tt>: Set to 1 if insertions are logged. Otherwise,
        set to 0. No longer used in version 2.0.</dd>
    <dd><tt><i>int</i> <strong>["ADD_TAB_SDW_LOG_UPDATE"]</strong></tt>: Set to 1 if updates are logged. Otherwise,
        set to 0. No longer used in version 2.0.</dd>
    <dd><tt><i>int</i> <strong>["ADD_TAB_SDW_LOG_DELETE"]</strong></tt>: Set to 1 if deletions are logged. Otherwise,
        set to 0. No longer used in version 2.0.</dd>
    <dd><tt><i>int</i> <strong>["ADD_TAB_SDW_LOG_SELECT"]</strong></tt>: Set to 1 if selects are logged. Otherwise,
        set to 0. No longer used in version 2.0.</dd>
    <dd><tt><i>int</i> <strong>["ADD_TAB_SDW_MAX_LENGTH"]</strong></tt>: Set the maximum length of the log. No longer
        used in version 2.0.</dd>
    <dd><tt><i>int</i> <strong>["ADD_TAB_SDW_AUTO_DELETE"]</strong></tt>: Set to 1 if the log should be automatically
        deleted when the table is deleted. No longer used in version 2.0.</dd>
    <dd><tt><i>string</i> <strong>["ADD_TAB_PLG_UID"]</strong></tt>: Unique ID of the table's plugin, if it exists.</dd>
    <dd><tt><i>string</i> <strong>["DBS_UID"]</strong></tt>: Unique ID of the database connection used by the table.
        Set to <tt>"workflow"</tt> for the <strong><tt>wf_&lt;WORKSPACE&gt;</tt></strong> database and <tt>"rp"</tt>        for the <strong><tt>rp_&lt;WORKSPACE&gt;</tt></strong> database.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: If a report table, the unique ID of the process that contains
        the report table. For PM Tables, set to <tt>""</tt> (empty string).</dd>
    <dd><tt><i>string</i> <strong>["ADD_TAB_TYPE"]</strong></tt>: Type of report table, which can be <tt>"GRID"</tt>        or <tt>"NORMAL"</tt>. If a PM Table, then <tt>""</tt> (empty string).</dd>
    <dd><tt><i>string</i> <strong>["ADD_TAB_GRID"]</strong></tt>: If a grid report table, then the name of the grid
        object (which is generally the grid name in camel case with spaces removed concatenated with the word <tt>"Object"</tt>),
        followed by a dash and the grid Dynaform's unique ID. For example, a grid named <tt>"Clients Grid"</tt>        might be stored as <tt>"clientsGridObject-2426857374f3d2647f1ef11072861555"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["ADD_TAB_TAG"]</strong></tt>: Tags to identify the table. In version 2.0, this is
        always <tt>""</tt> (empty string).</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AdditionalTables.php'</span> <span style="color: #339933;">;</span><br />
<span style="color: #000088;">$t</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AdditionalTables<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$t</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'1823983974f481323e14f13049456627'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="AdditionalTables::loadByName.28.29">AdditionalTables::loadByName()</span></h3>

<codeblock><i>array</i> <strong>AdditionalTables::loadByName</strong>()
</codeblock>

<p><strong>Return Value:</strong><br>Same as <a href="#AdditionalTables::Load.28.29">AdditionalTables::Load()</a>.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AdditionalTables.php'</span> <span style="color: #339933;">;</span><br />
<span style="color: #000088;">$t</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AdditionalTables<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$t</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">loadByName</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'PMT_BIRTHDAYS'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="AppDelegation_class">AppDelegation class</span></h2>
<p>Class to manipulate case delegations. A case delegation happens when a case is routed to another task in the process and a user is delegated to work on that task. A case delegation also happens when a case is unpaused and when a case is reassigned (<i>i.e.</i>, delegated to a different user). Delegations are distinguished by their delegation index, which counts delegations in a case starting from the number 1 and increments with each new delegation. The case delegation information is stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION</tt></strong> table and the <tt>AppDelegation</tt> class is defined in <strong><tt>workflow/engine/classes/model/AppDelegation.php</tt></strong>.</p>
<h3><span id="AppDelegation::Load.28.29">AppDelegation::Load()</span></h3>
<p><tt>AppDelegation::Load()</tt> returns an array of information about a specified case delegation.</p>

<codeblock><i>array</i> <strong>AppDelegation::Load</strong>(<i>string</i> $AppUid, <i>string</i> $sDelIndex)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$AppUid</strong>:</tt> The unique ID for a case.</li><li><tt><i>string</i> <strong>$DelIndex</strong>:</tt> The delegation index. This index counts the case delegations (i.e., routing the case to a task and delegation of that task to a user) starting from the number 1.</li></ul>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> <tt>$DelIndex</tt> can be set to current delegations that have a status of <tt>"OPEN"</tt> and past delegations that have a status of <tt>"CLOSED"</tt>, but it can't be set to future delegations that haven't yet occurred and don't yet have a record in the <tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION</tt> table.</font></p>
<p><strong>Return Value:</strong><br>An associative array with the following information about the case delegation:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["APP_UID"]</strong>:</tt> The unique ID of the case.</dd>
    <dd><tt><i>int</i> <strong>["DEL_INDEX"]</strong>:</tt> The index of this delegation in the case. Delegation indexes
        start counting from the number <tt>1</tt>.</dd>
    <dd><tt><i>int</i> <strong>["DEL_PREVIOUS"]</strong>:</tt> The index of the previous delegation in the case. If
        there was no previous delegation, because this delegation started the case, then set to <tt>0</tt>.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong>:</tt> The unique ID of the process.</dd>
    <dd><tt><i>string</i> <strong>["TAS_UID"]</strong>:</tt> The unique ID of the task executed by this delegation.</dd>
    <dd><tt><i>string</i> <strong>["USR_UID"]</strong>:</tt> The unique ID of the User delegated (designated) to work
        on the task.</dd>
    <dd><tt><i>string</i> <strong>["DEL_TYPE"]</strong>:</tt> The type of delegation, which is almost always <tt>"NORMAL"</tt></dd>
    <dd><tt><i>string</i> <strong>["DEL_THREAD"]</strong>:</tt> The thread of this delegation. Threads start counting
        from the number <tt>1</tt> and are used to keep track of the different branches in a process.</dd>
    <dd><tt><i>string</i> <strong>["DEL_THREAD_STATUS"]</strong>:</tt> The status of this delegation, which can be
        either <tt>"OPEN"</tt> or <tt>"CLOSED"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["DEL_PRIORITY"]</strong>:</tt> The <a href="../3.0/Tasks.html" title="3.0/Tasks">priority</a>        of this delegation, which can be <tt>"1"</tt> (very low), <tt>"2"</tt> (low), <tt>"3"</tt> (normal), <tt>"4"</tt>        (high) or <tt>"5"</tt> (very high).</dd>
    <dd><tt><i>string</i> <strong>["DEL_DELEGATE_DATE"]</strong>:</tt> The datetime in <tt>"YYYY-MM-DD HH:MM:SS"</tt>        format when this delegation was designated (delegated) to a user.</dd>
    <dd><tt><i>string</i> <strong>["DEL_INIT_DATE"]</strong>:</tt> The datetime in <tt>"YYYY-MM-DD HH:MM:SS"</tt> format
        when this delegation was initiated. If the case was reassigned to another user, then this field will be
        set to <tt>NULL</tt>.</dd>
    <dd><tt><i>string</i> <strong>["DEL_TASK_DUE_DATE"]</strong>:</tt> The datetime in <tt>"YYYY-MM-DD HH:MM:SS"</tt>        format when this delegation is scheduled to be completed, based upon the expected <a href="../3.0/Tasks.html#TIMING_CONTROL"
            title="3.0/Tasks">Task Duration</a> and calculated with the <a href="../3.0/Calendars.html" title="3.0/Calendars">calendar</a>        of the user-&gt;task-&gt;process-&gt;workspace (depending on which is defined). Note that the due date
        is calculated when the case routes to another task in the process or when the case is <a href="../3.0/Cases.html#Pause"
            title="3.0/Cases">unpaused</a> or <a href="../3.0/Cases.html#Reassign_2" title="3.0/Cases">reassigned</a> to another
        user.
    </dd>
    <dd><tt><i>string</i> <strong>["DEL_FINISH_DATE"]</strong>:</tt> The datetime in <tt>"YYYY-MM-DD HH:MM:SS"</tt>        format when the delegation was finished, meaning that its status was changed to <tt>"CLOSED"</tt>. If it
        hasn't yet finished, then set to <tt>NULL</tt>. Note that a delegation can be finished without completing
        the steps in the task, which can happen when a case is canceled, paused or forcibly routed with <a href="../3.0/ProcessMaker_Functions.html#PMFDerivateCase.28.29"
            title="ProcessMaker Functions">PMFDerivateCase()</a>.</dd>
    <dd><tt><i>float</i> <strong>["DEL_DURATION"]</strong>:</tt> Deprecated field. Always set to <tt>0</tt>.</dd>
    <dd><tt><i>float</i> <strong>["DEL_QUEUE_DURATION"]</strong>:</tt> Deprecated field in PM 2.0. Always set to <tt>0</tt>.</dd>
    <dd><tt><i>float</i> <strong>["DEL_DELAY_DURATION"]</strong>:</tt> Deprecated field in PM 2.0. Always set to <tt>0</tt>.</dd>
    <dd><tt><i>int</i> <strong>["DEL_STARTED"]</strong>:</tt> Deprecated field in PM 2.0. Always set to <tt>0</tt>.</dd>
    <dd><tt><i>int</i> <strong>["DEL_FINISHED"]</strong>:</tt> Deprecated field in PM 2.0. Always set to <tt>0</tt>.</dd>
    <dd><tt><i>int</i> <strong>["DEL_DELAYED"]</strong>:</tt> Deprecated field in PM 2.0. Always set to <tt>0</tt>.</dd>
    <dd><tt><i>string</i> <strong>["DEL_DATA"]</strong>:</tt> Deprecated field in PM 2.0. Always set to <tt>""</tt>        (empty string).</dd>
    <dd><tt><i>float</i> <strong>["APP_OVERDUE_PERCENTAGE"]</strong>:</tt> Deprecated field in PM 2.0. Always set to
        <tt>0</tt>.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>If the due date for the current case delegation has already passed (i.e., is less than the current datetime), then display a warning message.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">&quot;classes/model/AppDelegation.php&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oAD</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDelegation<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aAD</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$oAD</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$dueDate</span> <span style="color: #339933;">=</span> <a href="http://php.net/strtotime"><span style="color: #990000;">strtotime</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aAD</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;DEL_TASK_DUE_DATE&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$dueDate</span> <span style="color: #339933;">&lt;</span> <a href="http://php.net/time"><span style="color: #990000;">time</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #666666; font-style: italic;">//if overdue</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;This case was due on <span style="color: #006699; font-weight: bold;">{$aAD['DEL_TASK_DUE_DATE']}</span>.&quot;</span> <span style="color: #0000ff;">&quot;WARNING&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="AppDocument_class">AppDocument class</span></h2>
<p>The <tt>AppDocument</tt> class is defined in <strong><tt>workflow/engine/classes/model/AppDocument.php</tt></strong> and is used to manipulate uploaded files, Input Document files and generated Output Documents in ProcessMaker. Note that an <tt>AppDocument</tt> is a document associated with a particular case and is not the definition of an Input Document or an Output Document. The record for an <tt>AppDocument</tt> is stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT</tt></strong> table and its file(s) are located in the <strong><tt>&lt;INSTALL-DIRECTORY&gt;/shared/sites/&lt;WORKSPACE&gt;/files/&lt;CASE-UID&gt;/</tt></strong> directory.</p>

<h3><span id="AppDocument::Load.28.29">AppDocument::Load()</span></h3>
<p><tt>AppDocument::Load()</tt> returns information about an attached file, Input Document file or generated Output Document.</p>

<codeblock><i>array</i> <strong>AppDocument::Load</strong>(<i>string</i> $uid, <i>int</i> $iVersion = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of an AppDocument, which can be found in the following ways:
<ul><li>Use the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#inputDocumentList.28.29" title="3.0/ProcessMaker WSDL Web Services">inputDocumentList()</a> or <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#outputDocumentList.28.29" title="3.0/ProcessMaker WSDL Web Services">outputDocumentList()</a> web services.</li>
    <li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong> field in the database.</li>
    <li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='APP_DOC_FILENAME'</tt></li>
</ul>
</li>
<li><tt><i>int</i> <strong>iVersion</strong></tt>: <i>Optional.</i> The version number of the AppDocument, where the first version is <code>1</code>, the second is <code>2</code>, etc. If not included or set to <code>null</code>, the last available version of the AppDocument is returned. The version number will always be 1 if versioning is not enabled in the definition of an Input Document.
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i>(</tt></p>
<dl>
<dd><tt><i>string</i> <strong>["APP_DOC_UID"]</strong></tt>: The unique ID of the AppDocument.</dd>
<dd><tt><i>int</i> <strong>["DOC_VERSION"]</strong></tt>: The version number of the AppDocument. Counting starts from 1. Even if versioning isn't enabled, AppDocuments will have a version number.</dd>
<dd><tt><i>string</i> <strong>["APP_UID"]</strong></tt>: The unique ID of the case where the AppDocument was uploaded (if an attached file or Input Document file) or generated (if an Output Document). Attached files uploaded through the <strong>HOME &gt; Documents</strong> interface will not have an <tt>APP_UID</tt>.</dd>
<dd><tt><i>int</i> <strong>["DEL_INDEX"]</strong></tt>: The delegation index of the task where the AppDocument was uploaded or generated. Attached files uploaded through the <strong>HOME &gt; Documents</strong> interface will not have an <tt>APP_UID</tt>.</dd>
<dd><tt><i>string</i> <strong>["DOC_UID"]</strong></tt>: The unique ID of the Input Document or Output Document definition. If an attached file, then will be set to <tt>"-1"</tt>.</dd>
<dd><tt><i>string</i> <strong>["USR_UID"]</strong></tt>: The unique ID of the user who uploaded or generated the AppDocument.</dd>
<dd><tt><i>string</i> <strong>["APP_DOC_TYPE"]</strong></tt>: The type of AppDocument, which can be: <tt>"ATTACHED"</tt>, <tt>"INPUT"</tt> or <tt>"OUTPUT"</tt>. Note that the files uploaded through the <strong>HOME &gt; Documents</strong> interface are <tt>"INPUT"</tt>.</dd>
<dd><tt><i>string</i> <strong>["APP_DOC_CREATE_DATE"]</strong></tt>: Datetime when the <tt>AppDocument</tt> was created in the <tt>"YYYY-MM-DD HH:MM:SS"</tt> format. For attached files and Input Document files, this is the time when the file was uploaded. For Output Documents, this is the time when its files were generated.</dd>
<dd><tt><i>int</i> <strong>["APP_DOC_INDEX"]</strong></tt>: The index number for the AppDocument. Index numbers are used by Input Documents to determine the order in which they are displayed in the list of files. Counting starts from the number 1.</dd>
<dd><tt><i>string</i> <strong>["FOLDER_UID"]</strong></tt>: The unique ID of the folder where the file is found under <strong>HOME &gt; Documents</strong>. If not located in a folder, then set to "" (empty string). Note that this folder is not related to the location of the AppDocument's files, which is stored in the file system.</dd>
<dd><tt><i>string</i> <strong>["APP_DOC_PLUGIN"]</strong></tt>: By default set to <tt>""</tt> (empty string).</dd>
<dd><tt><i>string</i> <strong>["APP_DOC_TAGS"]</strong></tt>: Tags for the <tt>AppDocument</tt>, separated by commas. If there are no tags, then set to <tt>NULL</tt>. Tags are used to identify and find AppDocuments. Files uploaded through <strong>HOME &gt; Documents</strong> will have a tag of <tt>"EXTERNAL"</tt>.</dd>
<dd><tt><i>string</i> <strong>["APP_DOC_STATUS"]</strong></tt>: The status of the <tt>AppDocument</tt>, which can be: <tt>"ACTIVE"</tt>, <tt>"INACTIVE"</tt> or <tt>"DELETED"</tt></dd>
<dd><tt><i>string</i> <strong>["APP_DOC_STATUS_DATE"]</strong></tt>: The datetime when the status changed. If never changed, then set to <tt>NULL</tt>.</dd>
<dd><tt><i>string</i> <strong>["APP_DOC_TITLE"]</strong></tt>: The title of the <tt>AppDocument</tt>. This feature is no longer used and is always set to <tt>""</tt> (empty string).</dd>
<dd><tt><i>string</i> <strong>["APP_DOC_COMMENT"]</strong></tt>: The comment that was entered when an Input Document file was uploaded.</dd>
<dd><tt><i>string</i> <strong>["APP_DOC_FILENAME"]</strong></tt>: The filename of the <tt>AppDocument</tt>. The extension is included in the filename for Input Document files and attached files, but not included for Output Documents.</dd></dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>
Get the files for the Input Document with the UID "86062325056a02c39e62e51079553933" and place information about them in a grid variable that will be displayed in a subsequent Dynaform:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//set to the UID of an Input Document:</span><br />
<span style="color: #000088;">$inputDocId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;86062325056a02c39e62e51079553933&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span> &nbsp; <span style="color: #666666; font-style: italic;">//UID of the current case</span><br />
<span style="color: #339933;">@=</span>InputDocGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID FROM APP_DOCUMENT WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND<br />
&nbsp; &nbsp;DOC_UID='<span style="color: #006699; font-weight: bold;">$inputDocId</span>' AND APP_DOC_STATUS='ACTIVE'&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$results</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$results</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$doc</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aFile</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$doc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aUser</span> <span style="color: #339933;">=</span> userInfo<span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$uploader</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;<span style="color: #006699; font-weight: bold;">{$aUser['firstname']}</span> <span style="color: #006699; font-weight: bold;">{$aUser['lastname']}</span> (<span style="color: #006699; font-weight: bold;">{$aUser['username']}</span>)&quot;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #000088;">$aDocs</span><span style="color: #009900;">&#91;</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_INDEX'</span><span style="color: #009900;">&#93;</span> <span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'filename'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'comment'</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_COMMENT'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'uploader'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$uploader</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'date'</span> &nbsp; &nbsp; <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aFile</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_CREATE_DATE'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'url'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;http://{<span style="color: #006699; font-weight: bold;">$_SERVER</span>['SERVER_ADDR]}:<span style="color: #006699; font-weight: bold;">{$_SERVER['SERVER_PORT']}</span>/sys&quot;</span> <span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>SYS_SYS <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">&quot;/en/neoclassic/cases/cases_ShowDocument?a='<span style="color: #006699; font-weight: bold;">{$aFile['APP_DOC_UID']}</span>&amp;v=<span style="color: #006699; font-weight: bold;">{$aFile['DOC_VERSION']}</span>&quot;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="AppDocument::remove.28.29">AppDocument::remove()</span></h3>
<p><tt>AppDocument::remove()</tt> deletes an AppDocument, which is can be an attached file, Input Document file or generated Output Document file. This method does not remove the file from the server's file system, nor does it remove the file's record from the <b><tt>APP_DOCUMENT</tt></b> table in the database. It simply changes the <b><tt>APP_DOCUMENT.APP_DOC_STATUS</tt></b> from <code>'ACTIVE'</code> to <code>'DELETED'</code>.</p>

<codeblock> <strong>AppDocument::Remove</strong>(<i>string</i> $sAppDocUid, <i>int</i> $iVersion = 1)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul>
<li><tt><i>string</i> <strong>$sAppDocUid</strong></tt>: The unique ID of an AppDocument, which can be found in the following ways:
<ul><li>Use the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#inputDocumentList.28.29" title="3.0/ProcessMaker WSDL Web Services">inputDocumentList()</a> or <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#outputDocumentList.28.29" title="3.0/ProcessMaker WSDL Web Services">outputDocumentList()</a> web services.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DOCUMENT.APP_DOC_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='APP_DOC_FILENAME'</tt></li></ul>
</li>
<li><tt><i>int</i> <strong>$iVersion</strong></tt>: <i>Optional.</i> The AppDocument's version number, which starts counting from the number <code>1</code>. To get the latest version, check the <code>['DOC_VERSION']</code> returned by <code>AppDocument::load('<font color=blue><i>UID</i></font>', null)</code>.
</ul>
<p><strong>Return Value:</strong><br>None. Wrap the code in <code>try{...} catch{...}</code> to find out whether there was a failure executing the method.

<p><strong>Parameters:</strong></p>
<p>The following code deletes all the files in the current case. For each file, it calls <code>AppDocument::remove()</code>. It also constructs the path to the file depending upon whether it is an Output Document file or an Input Document file (or attached file) and then calls <a href="http://php.net/manual/en/function.unlink.php">unlink()</a> to delete the file from the file system.</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT * FROM APP_DOCUMENT WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND APP_DOC_STATUS&lt;&gt;'DELETED'&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aDocs</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDocs</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error in query: <span style="color: #006699; font-weight: bold;">$query</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDocs</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">remove</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aFileInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//If Output Document file:</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFileInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_TYPE'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">==</span> <span style="color: #0000ff;">'OUTPUT'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span><span style="color: #0000ff;">'outdocs'</span><span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'_'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/file_exists"><span style="color: #990000;">file_exists</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'.doc'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://php.net/unlink"><span style="color: #990000;">unlink</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'.doc'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/file_exists"><span style="color: #990000;">file_exists</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'.pdf'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="http://php.net/unlink"><span style="color: #990000;">unlink</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'.pdf'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span> <span style="color: #666666; font-style: italic;">//if Input Document or attached file:</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$ext</span> <span style="color: #339933;">=</span> <a href="http://php.net/pathinfo"><span style="color: #990000;">pathinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFileInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> PATHINFO_EXTENSION<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$path</span> <span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'_'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$aDoc</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'.'</span> <span style="color: #339933;">.</span><span style="color: #000088;">$ext</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <a href="http://php.net/unlink"><span style="color: #990000;">unlink</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$path</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="AppDocument::update.28.29">AppDocument::update()</span></h3>
<p><tt>AppDocument::update()</tt> is used to change the filename, comments and/or title of an AppDocument, which are saved in the <tt>CONTENT</tt> table in the database.</p>

<codeblock><i>int</i> <strong>AppDocument::update</strong>(<i>array</i> $aData)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>array</i> <strong>$aData</strong></tt>: An associative array of properties to set in the AppDocument, with the following content:
<codeblock>array(
    'APP_DOC_UID' => '<i>AppDocument ID</i>', //required
    'DOC_VERSION' => <i>Version_Number</i>, //required. Numbering starts from 1.
    'APP_DOC_TITLE'  => '<i>New Title</i>', //optional. Titles are deprecated since no longer used.
    'APP_DOC_COMMENT' => '<i>New Comment</i>', //optional. Comments are only displayed in Input Document steps.
    'APP_DOC_FILENAME' => '<i>filename.ext</i>', //optional.
    'APP_DOC_FIELDNAME' => '<i>fieldname</i>' //optional in version 3.1 and later 
)</codeblock>
<font color=green><b>Note:</b></font> <font color=dimgrey>Set 'APP_DOC_FIELDNAME' to 'gridID_rowNumber_fieldname' for Files in grids and '[gridID][rowNumber][fieldname]' for multipleFiles in grids.</font></li>
</ul>
<p><strong>Return Value:</strong><br>
An integer indicating whether commit to the database completed successfully.</p>

<p><strong>Example:</strong></p>
If a file was uploaded to a File field associated with the @@partSpecFile variable,  then it renames the file to include the part number which is stored in the variable @@partNumber:
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>partSpecFile_label<span style="color: #009900;">&#41;</span> and <span style="color: #339933;">@@</span>partSpecFile_label <span style="color: #339933;">!=</span> <span style="color: #0000ff;">'[]'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$sql</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT WHERE<br />
&nbsp; &nbsp; &nbsp; &nbsp;APP_DOC_STATUS= 'ACTIVE' AND APP_DOC_FIELDNAME='partSpecFile'<br />
&nbsp; &nbsp; &nbsp; &nbsp;ORDER BY APP_DOC_INDEX DESC&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aFiles</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$sql</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFiles</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFiles</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aFileInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFiles</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aFiles</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$ext</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$ext</span> <span style="color: #339933;">=</span> <a href="http://php.net/pathinfo"><span style="color: #990000;">pathinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFileInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> PATHINFO_EXTENSION<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aFileInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_FILENAME'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'part_'</span> <span style="color: #339933;">.</span> <span style="color: #339933;">@@</span>partNumber <span style="color: #339933;">.</span> <span style="color: #0000ff;">'.'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$ext</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">update</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aFileInfo</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></div>


<h2><span id="AppFolder_class">AppFolder class</span></h2>
<p>The <tt>AppFolder</tt> class is defined in <strong><tt>workflow/engine/classes/model/AppFolder.php</tt></strong> and is used to manipulate folders found under <strong>HOME &gt; Documents</strong> in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_FOLDER</tt></strong> table in the database.</p>
<h3><span id="AppFolder::Load.28.29">AppFolder::Load()</span></h3>
<p><tt>AppFolder::Load()</tt> returns an array of information about an <tt>AppFolder</tt> object.</p>

<codeblock><i>array</i> <strong>AppFolder::Load</strong>(<i>string</i> $uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of the AppFolder.</li></ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["FOLDER_UID"]</strong></tt>: The unique ID of the folder.</dd>
    <dd><tt><i>string</i> <strong>["FOLDER_PARENT_UID"]</strong></tt>: The unique ID of the parent folder. If the folder
        is in the root folder, then set to <tt>"/"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["FOLDER_NAME"]</strong></tt>: The name of the folder.</dd>
    <dd><tt><i>string</i> <strong>["FOLDER_CREATE_DATE"]</strong></tt>: The datetime the folder was created in <tt>"YYYY-MM-DD HH:MM:SS"</tt>        format.</dd>
    <dd><tt><i>string</i> <strong>["FOLDER_UPDATE_DATE"]</strong></tt>: The datetime the folder was last updated in
        <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AppFolder.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$f</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppFolder<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$f</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'9827456054f49029e4a4a89093489385'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>


<h2><span id="AppHistory_class">AppHistory class</span></h2>
<p>The <tt>AppHistory</tt> class, which is defined in <strong><tt>workflow/engine/classes/model/AppNotes.php</tt></strong>, is used to store the changes in field values in each Dynaform. This information is used by the Change Log and is permanently stored the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_HISTORY</tt></strong> table in the database. This information can be used for auditing purposes. Note that the class doesn't automatically store changes made by Process Supervisors.</p>
<h3><span id="AppHistory::getDynaformHistory.28.29">AppHistory::getDynaformHistory()</span></h3>
<p><tt>AppHistory::getDynaformHistory()</tt> returns a <tt>Criteria</tt> object to query the <strong><tt>APP_HISTORY</tt></strong> table for a specified case and task (and optionally a specified Dynaform). This <tt>Criteria</tt> object can be used with the <a href="#BaseCLASSPeer::doSelect.28.29">AppHistoryPeer::doSelect()</a> or <a href="#BaseCLASSPeer::doSelectOne.28.29">AppHistoryPeer::doSelectOne()</a> methods to get <tt>AppHistory</tt> objects.</p>

<codeblock><i>Criteria</i> <strong>AppHistory::getDynaformHistory</strong>(<i>string</i> $PRO_UID, <i>string</i> $TAS_UID, <i>string</i> $APP_UID, <i>string</i> $DYN_UID="")
</codeblock>

<p><strong>Return Value:</strong><br>A <tt>Criteria</tt> object.</p>
<h3><span id="Getting_AppHistory_Information">Getting AppHistory Information</span></h3>
<p>To get an associative array of information from an <tt>AppHistory</tt> object, first use the <tt>getDynaformHistory()</tt> method to return a <tt>Criteria</tt> object. Then, pass that <tt>Criteria</tt> object to the <a href="#BaseCLASSPeer::doSelect.28.29">doSelect()</a> or <a href="#BaseCLASSPeer::doSelectOne.28.29">doSelectOne()</a> method to populate objects. Finally, call the <a href="#BaseCLASS::toArray.28.29">toArray()</a> method to export an associative array of information about the <tt>AppHistory</tt> object.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AppHistory.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AppHistoryPeer.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$h</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppHistory<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$criteria</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$h</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getDynaformHistory</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'447CEAF7BE6AEB'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'347CEB10B72D11'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'5950453304f4694ea5a4655064018376'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$h</span> <span style="color: #339933;">=</span> AppHistoryPeer<span style="color: #339933;">::</span><span style="color: #004000;">doSelectOne</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$criteria</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$h</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">toArray</span><span style="color: #009900;">&#40;</span>BasePeer<span style="color: #339933;">::</span><span style="color: #004000;">TYPE_FIELDNAME</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>The <tt>toArray()</tt> method will return an associative array with the following structure:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["APP_UID"]</strong></tt>: The unique ID of the case.</dd>
    <dd><tt><i>int</i> <strong>["DEL_INDEX"]</strong></tt>: The delegation index of the task that contains the Dynaform
        step.
    </dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID of the process step.</dd>
    <dd><tt><i>string</i> <strong>["TAS_UID"]</strong></tt>: The unique ID of the task that contains the Dynaform step.</dd>
    <dd><tt><i>string</i> <strong>["DYN_UID"]</strong></tt>: The unique ID of the Dynaform.</dd>
    <dd><tt><i>string</i> <strong>["USR_UID"]</strong></tt>: The unique ID of the user who submitted the Dynaform.</dd>
    <dd><tt><i>string</i> <strong>["APP_STATUS"]</strong></tt>: The status of the case when the data was submitted,
        which can be <tt>"TO_DO"</tt> or <tt>"DRAFT"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["HISTORY_DATE"]</strong></tt>: The datetime when the data was submitted in the <tt>"YYYY-MM-DD HH:MM:SS"</tt>        format.</dd>
    <dd><tt><i>string</i> <strong>["HISTORY_DATA"]</strong></tt>: A <a href="http://php.net/manual/en/function.serialize.php">serialized</a>        associative array of the case data when it was submitted to the database. For more information on the serialized
        format, see <a href="../3.0/Triggers.html#Variable_Storage" title="3.0/Triggers">Variable Storage</a>.</dd>
</dl>
<p><tt>)</tt></p>

<h2><span id="AppMessage_class">AppMessage class</span></h2>
<p>The <tt>AppMessage</tt> class is defined in <strong><tt>workflow/engine/classes/model/AppMessage.php</tt></strong> and is used to manipulate <a href="../3.0/Notifications.html" title="Notifications">email notifications</a> in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_MESSAGE</tt></strong> table in the database.</p>
<h3><span id="Getting_AppMessage_Information">Getting AppMessage Information</span></h3>
<p>Because <tt>AppMessage</tt> doesn't have a primary key, the <tt>Load()</tt> method will not work. Instead use the <a href="#BaseCLASS::toArray.28.29">toArray()</a> method to get an array of information about the <tt>AppMessage</tt> object.</p>
<p><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["APP_MSG_UID"]</strong></tt>: The unique ID of the email message (i.e., the AppMessage
        object).
    </dd>
    <dd><tt><i>string</i> <strong>["MSG_UID"]</strong></tt>: This field is no longer used and is always <tt>""</tt>        (an empty string).</dd>
    <dd><tt><i>string</i> <strong>["APP_UID"]</strong></tt>: The unique ID of the case that sent the message.</dd>
    <dd><tt><i>string</i> <strong>["DEL_INDEX"]</strong></tt>: The delegation index of the task where the message was
        generated.
    </dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_TYPE"]</strong></tt>: Type of message, which can be <tt>"TEST"</tt> (when
        configuring <a href="../3.0/Email_Settings.html" title="Email - Settings">Email settings</a>), <tt>"DERIVATION"</tt>        (when automatically <a href="../3.0/Notifications.html" title="3.0/Notifications">notifying the next assigned users</a>)
        or <tt>"TRIGGER"</tt> (when sending messages with a Trigger function or an Event).</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_SUBJECT"]</strong></tt>: The subject line of the email.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_FROM"]</strong></tt>: The email address of the message sender.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_TO"]</strong></tt>: The list of email addresses of the recipients.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_BODY"]</strong></tt>: The text of the body of the email message.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_DATE"]</strong></tt>: Datetime when the message was created in <tt>"YYYY-MM-DD HH:MM:SS"</tt>        format.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_CC"]</strong></tt>: List of email addresses of the carbon copy recipients.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_BCC"]</strong></tt>: List of email addresses of the blind carbon copy recipients.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_TEMPLATE"]</strong></tt>: The filename of the email template, which is
        found in the public directory.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_STATUS"]</strong></tt>: The status of the message which can be <tt>"sent"</tt>        or <tt>"pending"</tt>. When "pending", the message has not yet been sent to the email server by <a href="../3.0/Executing_cron.html"
            title="Executing cron.php"><tt>cron.php</tt></a>.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_ATTACH"]</strong></tt>: A <a href="http://php.net/manual/en/function.serialize.php">serialized</a>        array of the <a href="../3.0/ProcessMaker_Functions.html#PMFSendMessage.28.29" title="ProcessMaker Functions">filenames sent as attachments</a>        with the email.</dd>
    <dd><tt><i>string</i> <strong>["APP_MSG_SEND_DATE"]</strong></tt>: Datetime when the message was sent in <tt>"YYYY-MM-DD HH:MM:SS"</tt>        format.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AppMessage.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AppMessagePeer.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$m</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppMessagePeer<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$m2</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$m</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">retrieveByPK</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'1471505574f4a61d05e4976063235047'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$m2</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">toArray</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>


<h2><span id="AppNotes_class">AppNotes class</span></h2>
<p><a href="../3.0/Case_Notes.html" title="3.0/Case Notes">Case notes</a> can be created, updated and deleted using the <tt>AppNotes</tt> class (and its parent class <tt>BaseAppNotes</tt>), which is defined in the file <strong><tt>workflow/engine/classes/model/AppNotes.php</tt></strong> and needs to be imported with <a href="http://php.net/manual/en/function.require-once.php">require_once()</a> before using the class. Case Notes are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_NOTES</tt></strong> table in the database. Note that <tt>AppNotes</tt> do not have a primary key, so they do not have a <tt>Load()</tt> method.</p>

<h3><span id="AppNotes::postNewNote.28.29">AppNotes::postNewNote()</span></h3>
<p>The <tt>postNewNote()</tt> method creates a new <a href="../3.0/Case_Notes.html" title="3.0/Case Notes">case note</a> in the specified case.</p>

<codeblock><i>array</i> <strong>AppNotes::postNewNote</strong>(<i>string</i> $appUid, <i>string</i> $usrUid, <i>string</i> $noteContent, <i>boolean</i> $notify=true,
                            <i>string</i> $noteAvailability="PUBLIC", <i>string</i> $noteRecipients="", <i>string</i> $noteType="USER",
                            <i>variant</i> $noteDate="now")
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$appUid</strong></tt>: The unique ID of the case where the new note will be posted. Note that this parameter is not restricted by role based access control, so this can be any case.</li><li><tt><i>string</i> <strong>$usrUid</strong></tt>: The unique ID of the user who will post the note. Note that this parameter is not restricted by role based access control, so this can be any user.</li><li><tt><i>string</i> <strong>$noteContent</strong></tt>: The content of the note, which can contain HTML markup. The content should be passed through PHP's <a href="http://php.net/manual/en/function.addslashes.php"><tt>addslashes()</tt></a> function, so that it can be inserted in the database without problems.</li><li><tt><i>boolean</i> <strong>$notify</strong></tt>: Optional. Set to <tt>true</tt> to send an email notification with the content of the new note.</li><li><tt><i>string</i> <strong>$noteAvailability</strong></tt>: Optional. Set to <tt>"PUBLIC"</tt> if every user can see the case note or set to <tt>"PRIVATE"</tt> if only people who have rights to open the case can view it. Note that <tt>"PUBLIC"</tt> is not very public, since only people who can see the case in a list under the <strong>HOME</strong> menu will be able to actually view it.</li><li><tt><i>string</i> <strong>$noteRecipients</strong></tt>: Optional. By default, notifications will be sent to all users who have participated in the case if <tt>$notify</tt> is set to <tt>true</tt>. To send the notification to different people, enter a list of email addresses, which are separated by commas ",".</li></ul>
<dl>
    <dd>
        <dl>
            <dd>Example: <tt>"bill@example.com, Sally.Smith@example.com, Harvey Snow &lt;snow.example.com&gt;, \"Emerson, Ralph\" &lt;ralph@example&gt;"</tt></dd>
        </dl>
    </dd>
</dl>
<ul><li><tt><i>string</i> <strong>$noteType</strong></tt>: Optional. Set to <tt>"USER"</tt> to specify that the note was posted by a user.</li><li><tt><i>variant</i> <strong>$noteDate</strong></tt>: Optional. The date and time of the note, which is set to the current date and time by default. To set a different date and time, either enter a date-time string understood by <a href="http://php.net/manual/en/function.strtotime.php"><tt>strtotime()</tt></a> or a PHP timestamp.</li></ul>
<dl>
    <dd>
        <dl>
            <dd>Examples: <tt>"+5 days"</tt>, <tt>"next Thursday"</tt>, <tt>"+3 weeks 2 days 4 hours 40 minutes"</tt>,
                <tt>"2012-03-25 14:07"</tt>, <tt>1307708880</tt></dd>
        </dl>
    </dd>
</dl>
<p><strong>Return Value:</strong><br>Returns an associative array. If the new note was posted successfully, the array contains:</p>

<codeblock>array('success' =&gt; 'success', 'message' =&gt; 'Saved...')
</codeblock>

<p>If an exception occurred, then the array contains:</p>

<codeblock>array('success' =&gt; 'failure', 'message' =&gt; '<i><strong>ERROR-MESSAGE'</strong></i>)
</codeblock>

<p>Note that the return value does not indicate whether any exceptions occurred while sending out email notifications for the case note.</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> Instantiate a new <tt>AppNotes</tt> object for each new case note. If trying to call the <tt>postNewNote()</tt> multiple times on the same <tt>AppNotes</tt> object, only the first note will be saved to the database.</font></p>
<p><strong>Example:</strong><br>The currently logged-in user posts a note in the current case that says, <tt>"This case is <font color="red">urgent</font>!"</tt>:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$content</span> <span style="color: #339933;">=</span> <a href="http://php.net/addslashes"><span style="color: #990000;">addslashes</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;This case is &lt;font color=red&gt;urgent&lt;/font&gt;!&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">require_once</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;classes/model/AppNotes.php&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oCaseNotes</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppNotes<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$response</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$oCaseNotes</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">postNewNote</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #339933;">,</span> <span style="color: #000088;">$content</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$response</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'success'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">==</span> <span style="color: #0000ff;">'failure'</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><span style="color: #004000;">SendTextMessage</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$response</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'message'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'ERROR'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="AppNotes::getNotesList.28.29">AppNotes::getNotesList()</span></h3>
<p><tt>AppNotes::getNotesList()</tt> searches for all the notes in a specified case that a specified user has the right to see, and returns an array with a <tt>Criteria</tt> object and an array of information about all the case notes.</p>

<codeblock>array <strong>AppNotes::getNotesList</strong>(<i>string</i> $appUid, <i>string</i> $usrUid, <i>int</i> $start, <i>int</i> $limit)
</codeblock>

<p><strong>Return Value:</strong><br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>Criteria object</i> <strong>["criteria"]</strong></tt>:</dd>
    <dd><tt><i>array</i> <strong>["array"]</strong></tt>:</dd>
    <dd><tt>(</tt>
        <dl>
            <dd><tt><i>int</i> <strong>["totalCount"]</strong></tt>: The number of notes.</dd>
            <dd><tt><i>array</i> <strong>["notes"]</strong></tt>:</dd>
            <dd><tt>(</tt>
                <dl>
                    <dd><tt>array [0]</tt>:</dd>
                    <dd><tt>(</tt>
                        <dl>
                            <dd><tt><i>string</i> <strong>["APP_UID"]</strong></tt>: The unique ID for the case.</dd>
                            <dd><tt><i>string</i> <strong>["USR_UID"]</strong></tt>: The unique ID of the user who
                                posted the case note.</dd>
                            <dd><tt><i>string</i> <strong>["NOTE_DATE"]</strong></tt>: The datetime when the note was
                                posted in <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
                            <dd><tt><i>string</i> <strong>["NOTE_CONTENT"]</strong></tt>: The text of the case note.</dd>
                            <dd><tt><i>string</i> <strong>["NOTE_TYPE"]</strong></tt>: The type of the case note, which
                                is always <tt>"USER"</tt>.</dd>
                            <dd><tt><i>string</i> <strong>["NOTE_AVAILABILITY"]</strong></tt>: The availability of
                                the note, which is always <tt>"PUBLIC"</tt>, meaning that anyone who can see the
                                note in a list can also read the note.</dd>
                            <dd><tt><i>string</i> <strong>["NOTE_ORIGIN_OBJ"]</strong></tt>: The object where the note
                                originated. This is always "" (an empty string).</dd>
                            <dd><tt><i>string</i> <strong>["NOTE_AFFECTED_OBJ1"]</strong></tt>: The first object affected
                                by the note. This is always "" (an empty string).</dd>
                            <dd><tt><i>string</i> <strong>["NOTE_AFFECTED_OBJ2"]</strong></tt>: The second object affected
                                by the note. This is always "" (an empty string).</dd>
                            <dd><tt><i>string</i> <strong>["NOTE_RECIPIENTS"]</strong></tt>: The recipients of the
                                note, which by default are the email addresses of all the users who participated
                                in the case up to the time when the note was posted.</dd>
                            <dd><tt><i>string</i> <strong>["USR_USERNAME"]</strong></tt>: The username of the user
                                who posted the note.</dd>
                            <dd><tt><i>string</i> <strong>["USR_FIRSTNAME"]</strong></tt>: The first name of the user
                                who posted the note.</dd>
                            <dd><tt><i>string</i> <strong>["USR_LASTNAME"]</strong></tt>: The last name of the user
                                who posted the note.</dd>
                            <dd><tt><i>string</i> <strong>["USR_EMAIL"]</strong></tt>: The email address of the user
                                who who posted the note.</dd>
                        </dl>
                    </dd>
                    <dd><tt>)</tt></dd>
                    <dd><tt>...</tt></dd>
                </dl>
            </dd>
            <dd><tt>)</tt></dd>
        </dl>
    </dd>
    <dd><tt>)</tt></dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>Delete the first note posted by the current user in the current case (if it exists):</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AppNotes.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$n</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppNotes<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$n</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getNotesList</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #339933;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">100</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$n</span> <span style="color: #339933;">=</span> AppNotesPeer<span style="color: #339933;">::</span><span style="color: #004000;">doSelectOne</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'criteria'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$n</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$n</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">delete</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Base_Propel_classes">Base Propel classes</span></h2>
<p>Most ProcessMaker classes (which are used to represent objects stored in database tables) are inherited from Propel's abstract base classes, which define the common methods and the member variables and constants. Each ProcessMaker class has a corresponding base class named <tt>Base<i><strong>CLASS</strong></i></tt>. For example: <tt>BaseAppNotes</tt>, <tt>BaseTriggers</tt>, <tt>BaseUsers</tt>, etc. In addition, each Peer class has a corresponding base Peer class named <tt>Base<i><strong>CLASS</strong></i>Peer</tt>. For example: <tt>BaseAppNotesPeer</tt>, <tt>BaseTriggersPeer</tt>, <tt>BaseUsersPeer</tt>, etc.</p>
<p>Some of the commonly-used base class methods and member variables/constants are listed below. If a complete list is necessary, it is recommended to read the source code of the base classes.</p>
<h3><span id="Common_Base_Class_Variables">Common Base Class Variables</span></h3>
<p>The base classes commonly have the following protected variables (which can only be accessed by inherited classes).</p>
<ul><li><tt><i>protected static object</i> <strong>$peer</strong>:</tt> Holds the Peer class for this class. For example: <tt>AppNotesPeer</tt></li><li><tt><i>protected boolean</i> <strong>$alreadyInSave</strong>:</tt> Flag to prevent an endless validation loop that occurs if this object is referenced by another object in this transaction.</li><li><tt><i>protected boolean</i> <strong>$alreadyInValidation</strong>:</tt> Flag to prevent an endless validation loop that occurs if this object is referenced by another object in this transaction.</li><li><tt><i>protected variant</i> <strong>$<i>field</i></strong>:</tt> Each field in the database has a corresponding protected member variable, whose name is in lowercase. For example, the <tt>APP_UID</tt> field would be <tt>$app_uid</tt> and the <tt>NOTE_ORIGIN_OBJ</tt> field would be <tt>$note_origin_obj</tt>. Because these member variables are protected, they are generally accessed through their corresponding <a href="#Field_Getters_and_Setters">getter and setter methods</a>.</li></ul>
<h3><span id="Field_Getters_and_Setters">Field Getters and Setters</span></h3>
<p>Each field in the base class has a corresponding getter and setter method to access it. These are generally named with camel case. For example, the value of the APP_UID field (whose protected member variable is named <code>$app_uid</code>) is retrieved with the getAppUid() method:</p>

<codeblock><i>variant</i> <strong>Base<i>CLASS</i>::getAppUid</strong>()
</codeblock>

<p>Likewise, its value is set with the <code>setAppUid()</code> method:</p>

<codeblock><i>void</i> <strong>Base<i>CLASS</i>::getAppUid</strong>(<i>variant</i> $v)
</codeblock>

<p>Note that these getter and setter methods will only work on classes that have been instantiated. Also note that the setter methods only change the value of protected member variables in the class instance. In order for those changes to be committed to the database, call the save() or doUpdate() methods.</p>
<p>For example, to get and set the APP_UID for an AppNotes instance:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/AppNotes.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$note</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppNotes<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$note</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getNotesList</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #339933;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">100</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$note</span> <span style="color: #339933;">=</span> AppNotesPeer<span style="color: #339933;">::</span><span style="color: #004000;">doSelectOne</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'criteria'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$n</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//get the APP_UID:</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$note</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getAppUid</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//set the APP_UID:</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$note</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getAppUid</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'1307127704f3be85d694d37070686091'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//Update the Case Note in the database:</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$note</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">save</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="BaseCLASS::fromArray.28.29">BaseCLASS::fromArray()</span></h3>
<p>Populates a <tt><i>CLASS</i></tt> object from data in an array.</p>

<codeblock><i>void</i> <strong>Base<i>CLASS</i>::fromArray</strong>(<i>array</i> $arr, <i>string</i> $keyType = BasePeer::TYPE_PHPNAME)
</codeblock>

<p>Parameters:</p>
<ul><li><tt><i>array</i> <strong>$arr</strong></tt>: An associative array of values to populate the object. Its keys are the field names or field positions, depending upon the <tt>$keyType</tt> parameter.</li><li><tt><i>string</i> <strong>$keyType</strong></tt>: The type of field names, which can be one of the following class type constants:
<ul><li><tt>BasePeer::TYPE_PHPNAME</tt>: The PHP name for the field, which is generally in camel case, such as <tt>"AppUid"</tt> or <tt>"UsrUid"</tt>.</li><li><tt>BasePeer::TYPE_COLNAME</tt>: The constant name of the column in the database table, such as <tt>AppNotesPeer::APP_UID</tt> or <tt>AppNotesPeer::USR_UID</tt>.</li><li><tt>BasePeer::TYPE_FIELDNAME</tt>: The name of the field in the database table, such as <tt>"APP_UID"</tt> or <tt>"USR_UID"</tt>.</li><li><tt>BasePeer::TYPE_NUM</tt>: The position number of the field in an array, such as <tt>0</tt> or <tt>1</tt>. Note that counting starts from <tt>0</tt>.</li></ul>
</li>
</ul>
<dl>
    <dd><strong><font color="green">Note:</font></strong> Use <a href="#BaseCLASS::getFieldNames.28.29">BaseCLASS::getFieldNames()</a>        to get the field names for <tt><i>CLASS</i></tt>.</dd>
</dl>
<p><strong>Return Value:</strong><br>None.</p>

<h3><span id="BaseCLASS::toArray.28.29">Base<i>CLASS</i>::toArray()</span></h3>
<p>Exports the data of a <i>CLASS</i> object to an array.</p>

<codeblock><i>array</i> <strong>Base<i>CLASS</i>::toArray</strong>(<i>string</i> $keyType = BasePeer::TYPE_PHPNAME)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$keyType</strong></tt>: The type of field names, which can be one of the following class type constants:
<ul><li><tt>BasePeer::TYPE_PHPNAME</tt>: The PHP names for the fields, which are generally in camel case, such as <tt>"AppUid"</tt> or <tt>"UsrUid"</tt>.</li><li><tt>BasePeer::TYPE_COLNAME</tt>: The constant names of the columns in the database table, such as <tt>AppNotesPeer::APP_UID</tt> or <tt>AppNotesPeer::USR_UID</tt>.</li><li><tt>BasePeer::TYPE_FIELDNAME</tt>: The names of the fields in the database table, such as <tt>"APP_UID"</tt> or <tt>"USR_UID"</tt>.</li><li><tt>BasePeer::TYPE_NUM</tt>: The position numbers of the fields in an array. Note that counting starts from <tt>0</tt>.</li></ul>
</li>
</ul>
<dl>
    <dd><strong><font color="green">Note:</font></strong> Use <a href="#BaseCLASS::getFieldNames.28.29">BaseCLASS::getFieldNames()</a>        to get the field names for <tt><i>CLASS</i></tt>.</dd>
</dl>
<p><strong>Return Value:</strong><br>An associative array whose keys are the field names or field positions (depending upon the $keyType) and the values are the field values.</p>

<h3><span id="BaseCLASS::save.28.29">Base<i>CLASS</i>::save()</span></h3>
<p>Commits an object to the database. If it already exists, then it updates the existing record in the database. Otherwise, it inserts a new record. The commit is wrapped in a transaction, so if an exception occurs, it will automatically be rolled back. Make sure that the object's member variables are populated before calling this method.</p>

<codeblock><i>int</i> <strong>Base<i>CLASS</i>::save</strong>(<i>Connection</i> $con = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>Connection</i> <strong>$con</strong></tt>: Optional. The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong><br>Returns the number of affected rows. If an exception occurs, returns <tt>null</tt> and a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</p>

<h3><span id="BaseCLASS::delete.28.29">Base<i>CLASS</i>::delete()</span></h3>
<p>Deletes an object from the database. The deletion is wrapped in a transaction, so if an exception occurs, it will automatically be rolled back. Make sure that the object's member variables are populated before calling this method.</p>

<codeblock><i>void</i> <strong>Base<i>CLASS</i>::delete</strong>(<i>Connection</i> $con = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>Connection</i> <strong>$con</strong></tt>: Optional. The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong><br>None. If an exception occurs, a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</p>

<h3><span id="BaseCLASS::validate.28.29">Base<i>CLASS</i>::validate()</span></h3>
<p>Validates the object's modified field values and all objects related to this table. If <tt>$columns</tt> is specified, then only those columns are validated.</p>

<codeblock><i>boolean</i> <strong>Base<i>CLASS</i>::validate</strong>(<i>variant</i> $columns = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>variant</i> <strong>$columns</strong></tt>: Optional. A string with a column name or an array of column names. If set to <tt>NULL</tt>, then all columns are checked.</li></ul>
<p><strong>Return Value:</strong><br>Returns <tt>true</tt> if all specified columns pass validation. If one or more fail, then returns <tt>false</tt>.</p>

<h3><span id="BaseCLASS::getByName.28.29">Base<i>CLASS</i>::getByName()</span></h3>
<p>Retrieves the value of a specified field from the object. The field can be indicated by its PHP property name, its column name, its field name or its position number in an array.</p>

<codeblock><i>mixed</i> <strong>Base<i>CLASS</i>::getByName</strong>(<i>string</i> $name, <i>string</i> $type = BasePeer::TYPE_PHPNAME)
</codeblock>

<p>Parameters:</p>
<ul><li><tt><i>string</i> <strong>$name</strong>:</tt> The name of the field to retrieve.</li><li><tt><i>string</i> <strong>$type</strong>:</tt> The type of field name, which can be one of the following class type constants:
<ul><li><tt>BasePeer::TYPE_PHPNAME:</tt> The PHP name for the field, which is generally in camel case, such as <tt>"AppUid"</tt> or <tt>"UsrUid"</tt>.</li><li><tt>BasePeer::TYPE_COLNAME:</tt> The constant name of the column in the database table, such as <tt>AppNotesPeer::APP_UID</tt> or <tt>AppNotesPeer::USR_UID</tt>.</li><li><tt>BasePeer::TYPE_FIELDNAME:</tt> The name of the field in the database table, such as <tt>"APP_UID"</tt> or <tt>"USR_UID"</tt>.</li><li><tt>BasePeer::TYPE_NUM:</tt> The position number of the field in an array, such as <tt>0</tt> or <tt>1</tt>. Note that counting starts from <tt>0</tt>.</li></ul>
</li>
</ul>
<dl>
    <dd><strong><font color="green">Note:</font></strong> Use <a href="#BaseCLASS::getFieldNames.28.29">BaseCLASS::getFieldNames()</a>        to get the field names for <tt><i>CLASS</i></tt>.</dd>
</dl>
<p><strong>Return Value:</strong><br>Returns the value of the field.</p>

<h3><span id="BaseCLASS::setByName.28.29">Base<i>CLASS</i>::setByName()</span></h3>
<p>Sets the value of a specified field in the object. The field can be indicated by its PHP property name, its column name, its field name or its position number in an array. Note that this method only sets the value of the object's member variable. Call <a href="#BaseCLASS::save.28.29">Base<i>CLASS</i>::save()</a> to commit this value to the database.</p>

<codeblock><i>void</i> <strong>Base<i>CLASS</i>::setByName</strong>(<i>string</i> $name, <i>mixed</i> $value, <i>string</i> $type = BasePeer::TYPE_PHPNAME)
</codeblock>

<p>Parameters:</p>
<ul><li><tt><i>string</i> <strong>$name</strong></tt>: The name of the field whose value will be set.</li><li><tt><i>mixed</i> <strong>$value</strong></tt>: The value to set.</li><li><tt><i>string</i> <strong>$type</strong></tt>: The type of field name, which can be one of the following class type constants:
<ul><li><tt>BasePeer::TYPE_PHPNAME</tt>: The PHP name for the field, which is generally in camel case, such as <tt>"AppUid"</tt> or <tt>"UsrUid"</tt>.</li><li><tt>BasePeer::TYPE_COLNAME</tt>: The constant name of the column in the database table, such as <tt>AppNotesPeer::APP_UID</tt> or <tt>AppNotesPeer::USR_UID</tt>.</li><li><tt>BasePeer::TYPE_FIELDNAME</tt>: The name of the field in the database table, such as <tt>"APP_UID"</tt> or <tt>"USR_UID"</tt>.</li><li><tt>BasePeer::TYPE_NUM</tt>: The position number of the field in an array, such as <tt>0</tt> or <tt>1</tt>. Note that counting starts from <tt>0</tt>.</li></ul>
</li>
</ul>
<dl>
    <dd><strong><font color="green">Note:</font></strong> Use <a href="#BaseCLASS::getFieldNames.28.29">BaseCLASS::getFieldNames()</a>        to get the field names for <tt><i>CLASS</i></tt>.</dd>
</dl>
<p><strong>Return Value:</strong><br>None.</p>

<h3><span id="BaseCLASS::getByPosition.28.29">Base<i>CLASS</i>::getByPosition()</span></h3>
<p>Gets the value of a specified field in the object by its position in the database table.</p>

<codeblock><i>mixed</i> <strong>Base<i>CLASS</i>::getByPosition</strong>(<i>int</i> $pos)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>int</i> <strong>$pos</strong></tt>: The position of the field in the database table.</li></ul>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> Use <a href="#BaseCLASS::getFieldNames.28.29">BaseCLASS::getFieldNames()</a> to get the field positions for <tt><i>CLASS</i></tt>.</font></p>
<p><strong>Return Value:</strong><br>The value of the field.</p>

<h3><span id="BaseCLASS::setByPosition.28.29">Base<i>CLASS</i>::setByPosition()</span></h3>
<p>Sets the value of a specified field in the object by its position in the database table. Note that this method only sets the value of the object's member variable. Call <a href="#BaseCLASS::save.28.29">Base<i>CLASS</i>::save()</a> to commit this value to the database.</p>

<codeblock><i>void</i> <strong>Base<i>CLASS</i>::setByPosition</strong>(<i>int</i> $pos, <i>mixed</i> $value)
</codeblock>

<p>Parameters:</p>
<ul><li><tt><i>int</i> <strong>$pos</strong></tt>: The position of the field in the database table.</li></ul>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> Use <a href="#BaseCLASS::getFieldNames.28.29">BaseCLASS::getFieldNames()</a> to get the field positions for <tt><i>CLASS</i></tt>.</p></font>
<ul><li><tt><i>mixed</i> <strong>$value</strong></tt>: The value to set.</li></ul>
<p><strong>Return Value:</strong><br>None.</p>

<h3><span id="BaseCLASS::getFieldNames.28.29">Base<i><strong>CLASS</strong></i>::getFieldNames()</span></h3>
<p>Returns an array of field names for <tt><i>CLASS</i></tt>.</p>

<codeblock><i>array</i> <strong>Base<i>CLASS</i>::getFieldNames</strong>(<i>string</i> $type = BasePeer::TYPE_PHPNAME)
</codeblock>

<p>Parameters:</p>
<ul><li><tt><i>string</i> <strong>$type</strong></tt>: The type of field names, which can be one of the following class type constants:
<ul><li><tt>BasePeer::TYPE_PHPNAME</tt>: The PHP names for the fields, which are generally in camel case, such as <tt>"AppUid"</tt> or <tt>"UsrUid"</tt>.</li><li><tt>BasePeer::TYPE_COLNAME</tt>: The constant names of the columns in the database table, such as <tt>AppNotesPeer::APP_UID</tt> or <tt>AppNotesPeer::USR_UID</tt>.</li><li><tt>BasePeer::TYPE_FIELDNAME</tt>: The names of the fields in the database table, such as <tt>"APP_UID"</tt> or <tt>"USR_UID"</tt>.</li><li><tt>BasePeer::TYPE_NUM</tt>: The position numbers of the fields in an array, such as <tt>0</tt> or <tt>1</tt>. Note that counting starts from <tt>0</tt>.</li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An array of field names for <tt><i>CLASS</i></tt>.</p>

<h3><span id="BaseCLASS::getByName.28.29_2">Base<i>CLASS</i>::getByName()</span></h3>
<p>Retrieves the value of a specified field from the object. The field can be indicated by its PHP property name, its column name, its field name or its position number.</p>

<codeblock><i>mixed</i> <strong>Base<i>CLASS</i>::getByName</strong>(<i>string</i> $name, <i>string</i> $type = BasePeer::TYPE_PHPNAME)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$name</strong></tt>: The name of the field to retrieve.</li><li><tt><i>string</i> <strong>$type</strong></tt>: The type of field names, which can be one of the following class type constants:
<ul><li><tt>BasePeer::TYPE_PHPNAME</tt>: The PHP names for the fields, which are generally in camel case, such as <tt>"AppUid"</tt> or <tt>"UsrUid"</tt>.</li><li><tt>BasePeer::TYPE_COLNAME</tt>: The constant names of the columns in the database table, such as <tt>AppNotesPeer::APP_UID</tt> or <tt>AppNotesPeer::USR_UID</tt>.</li><li><tt>BasePeer::TYPE_FIELDNAME</tt>: The names of the fields in the database table, such as <tt>"APP_UID"</tt> or <tt>"USR_UID"</tt>.</li><li><tt>BasePeer::TYPE_NUM</tt>: The position numbers of the fields in an array, such as <tt>0</tt> or <tt>1</tt>. Note that counting starts from <tt>0</tt>.</li></ul>
</li>
</ul>
<p><strong>Return Value:</strong></p>
<ul><li><tt><i>mixed</i></tt>: Value of the field.</li></ul>

<h2><span id="Common_Base_Peer_Class_Methods">Base Peer Class Methods</span></h2>
<h3><span id="BaseCLASSPeer::doCount.28.29">Base<i>CLASS</i>Peer::doCount()</span></h3>
<p>Counts the number of selects object(s) from the database query, based upon a <tt>Criteria</tt> object.</p>

<codeblock><i>int</i> <strong>Base<i>CLASS</i>Peer::doCount</strong>(<i>Criteria</i> $criteria, <i>boolean</i> $distinct = false, <i>Connection</i> $con)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>Criteria</i> <strong>$criteria</strong></tt>: The <tt>Criteria</tt> object used to build the <tt>SELECT</tt> statement.</li><li><tt><i>boolean</i> <strong>$distinct</strong></tt>: Optional. Set to <tt>true</tt> if each row should be distinct. By default set to <tt>false</tt>.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: Optional. The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong><br>Returns the number found by the SELECT statement. If an exception occurs, returns <tt>null</tt> and a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</p>

<h3><span id="BaseCLASSPeer::doSelect.28.29">Base<i>CLASS</i>Peer::doSelect()</span></h3>
<p>Selects object(s) from the database based upon a <tt>Criteria</tt> object.</p>

<codeblock><i>array</i> <strong>Base<i>CLASS</i>Peer::doSelect</strong>(<i>Criteria</i> $criteria, <i>Connection</i> $con)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>Criteria</i> <strong>$criteria</strong></tt>: The <tt>Criteria</tt> object used to build the <tt>SELECT</tt> statement.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong><br>Returns an array of <tt><i>CLASS</i></tt> objects. If an exception occurs, returns <tt>null</tt> and a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</p>

<h3><span id="BaseCLASSPeer::doSelectOne.28.29">Base<i>CLASS</i>Peer::doSelectOne()</span></h3>
<p>Selects <i>one</i> object from the database based upon a <tt>Criteria</tt> object.</p>

<codeblock><i>ResultSet</i> <strong>Base<i>CLASS</i>Peer::doSelect</strong>(<i>Criteria</i> $criteria, <i>Connection</i> $con)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>Criteria</i> <strong>$criteria</strong></tt>: The <tt>Criteria</tt> object used to build the <tt>SELECT</tt> statement.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong><br>Returns the first <tt><i>CLASS</i></tt> object found by the <tt>SELECT</tt> statement. If an exception occurs, returns <tt>null</tt> and a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</p>

<h3><span id="BaseCLASSPeer::doSelectRS.28.29">Base<i>CLASS</i>Peer::doSelectRS()</span></h3>
<p>Selects object(s) from the database based upon a <tt>Criteria</tt> object and returns a <tt>ResultSet</tt> object.</p>

<codeblock><i>ResultSet</i> <strong>Base<i>CLASS</i>Peer::doSelectRS</strong>(<i>Criteria</i> $criteria, <i>Connection</i> $con)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>Criteria</i> <strong>$criteria</strong></tt>: The <tt>Criteria</tt> object used to build the <tt>SELECT</tt> statement.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong><br>Returns an <tt>ResultSet</tt> object. If an exception occurs, returns <tt>null</tt> and a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</p>

<h3><span id="BaseCLASSPeer::doInsert.28.29">Base<i>CLASS</i>Peer::doInsert()</span></h3>
<p>Inserts an object, sending <tt>INSERT</tt> statements to the database.</p>

<codeblock><i>int</i> <strong>Base<i>CLASS</i>Peer::doInsert</strong>(<i>mixed</i> $values, <i>Connection</i> $con = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>mixed</i> <strong>$values</strong></tt>: A <tt>Criteria</tt> or <tt><i>CLASS</i></tt> object containing data that is used to create the <tt>INSERT</tt> statement.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong></p>
<ul><li><tt><i>mixed</i></tt>: The new primary key or <tt>null</tt> if an exception occurs. If an exception occurs, a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</li></ul>

<h3><span id="BaseCLASSPeer::doUpdate.28.29">Base<i>CLASS</i>Peer::doUpdate()</span></h3>
<p>Updates object(s), sending <tt>UPDATE</tt> statements to the database.</p>

<codeblock><i>int</i> <strong>Base<i>CLASS</i>Peer::doUpdate</strong>(<i>mixed</i> $values, <i>Connection</i> $con = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>mixed</i> <strong>$values</strong></tt>: A <tt>Criteria</tt> or <tt><i>CLASS</i></tt> object, a primary key or an array of primary keys for the object(s) to update in the database.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong></p>
<ul><li><tt><i>int</i></tt>: The number of deleted rows. If an exception occurs a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</li></ul>

<h3><span id="BaseCLASSPeer::doDelete.28.29">Base<i>CLASS</i>Peer::doDelete()</span></h3>
<p>Deletes object(s), sending <tt>DELETE</tt> statements to the database.</p>

<codeblock><i>int</i> <strong>Base<i>CLASS</i>Peer::doDelete</strong>(<i>mixed</i> $values, <i>Connection</i> $con = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>mixed</i> <strong>$values</strong></tt>: A <tt>Criteria</tt> or <tt><i>CLASS</i></tt> object, a primary key or an array of primary keys for the object(s) to delete in the database.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong></p>
<ul><li><tt><i>int</i></tt>: The number of deleted rows. If an exception occurs a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</li></ul>

<h3><span id="BaseCLASSPeer::doDeleteAll.28.29">Base<i>CLASS</i>Peer::doDeleteAll()</span></h3>
<p>Deletes all records in a database table.</p>

<codeblock><i>int</i> <strong>Base<i>CLASS</i>Peer::doDeleteAll</strong>(<i>Connection</i> $con = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong></p>
<ul><li><tt><i>int</i></tt>: The number of deleted rows. If an exception occurs a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</li></ul>

<h3><span id="BaseCLASSPeer::retrieveByPK.28.29">Base<i>CLASS</i>Peer::retrieveByPK()</span></h3>
<p>Retrieve a <tt><i>CLASS</i></tt> object by its primary key. This method only exists if the <tt><i>CLASS</i></tt> has a primary key, which is why the <tt>AppNotes</tt> and <tt>AppHistory</tt> classes do not have this method.</p>

<codeblock><i>object</i> <strong>Base<i>CLASS</i>Peer::retrieveByPK</strong>(<i>mixed</i> $pk, <i>Connection</i> $con = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>mixed</i> <strong>$pk</strong></tt>: The value of the primary key.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong><br>A <tt><i>CLASS</i></tt> object. If an exception occurs, returns <tt>null</tt> and a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</p>

<h3><span id="BaseCLASSPeer::retrieveByPKs.28.29">Base<i>CLASS</i>Peer::retrieveByPKs()</span></h3>
<p>Retrieve multiple <tt><i>CLASS</i></tt> objects by their primary keys. This method only exists if the <tt><i>CLASS</i></tt> has a primary key, which is why the <tt>AppNotes</tt> and <tt>AppHistory</tt> classes do not have this method.</p>

<codeblock><i>array</i> <strong>Base<i>CLASS</i>Peer::retrieveByPKs</strong>(<i>array</i> $pks, <i>Connection</i> $con = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>array</i> <strong>$pks</strong></tt>: An array of primary keys.</li><li><tt><i>Connection</i> <strong>$con</strong></tt>: The connection to use. If set to <tt>null</tt>, then it will automatically create a Propel connection to the default database for the class.</li></ul>
<p><strong>Return Value:</strong><br>An array of <tt><i>CLASS</i></tt> objects. If an exception occurs, returns <tt>null</tt> and a <tt>PropelException</tt> will be thrown. Check <tt>@@__ERROR__</tt> or <tt>$_SESSION['__ERROR__']</tt> for the exception message.</p>

<h3><span id="BaseCLASSPeer::addSelectColumns.28.29">Base<i>CLASS</i>Peer::addSelectColumns()</span></h3>
<p>Adds all the columns to a Criteria object, so that it can be used with one of the doSelect() methods to retrieve <tt><i>CLASS</i></tt> object(s).</p>

<codeblock><i>void</i> <strong>Base<i>CLASS</i>Peer::addSelectColumns</strong>(<i>Criteria</i> $criteria)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>Criteria</i> <strong>$criteria</strong></tt>: A criteria object, which will be configured to retrieve all of the fields in the <tt><i>CLASS</i></tt>.</li></ul>
<p><strong>Return Value:</strong><br>None.</p>

<h2><span id="Calendar_class">Calendar class</span></h2>
<p>The <tt>Calendar</tt> class is defined in <strong><tt>workflow/engine/classes/class.calendar.php</tt></strong> and is used to manipulate <a href="../3.0/Calendars.html" title="3.0/Calendars">calendars</a> in ProcessMaker, which are stored in the <strong><tt>CALENDAR_DEFINITION</tt></strong>,<strong><tt>CALENDAR_BUSINESS_HOURS</tt></strong>, <strong><tt>CALENDAR_HOLIDAYS</tt></strong> and <strong><tt>CALENDAR_ASSIGNMENTS</tt></strong> tables in the database.</p>
<h3><span id="Calendar::getCalendarInfo.28.29">Calendar::getCalendarInfo()</span></h3>
<p><tt>Calendar::getCalendarInfo()</tt> returns information about a task.</p>

<codeblock><i>array</i> <strong>Calendar::getCalendarInfo</strong>(<i>string</i> CalendarUid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>CalendarUid</strong></tt>: The unique ID of a Calendar, which can be found with the <a href="#Calendar::loadByCalendarName.28.29">Calendar::loadByCalendarName()</a> method or by querying the <strong><tt>wf_&lt;WORKSPACE&gt;.CALENDAR_DEFINITION.CALENDAR_UID</tt></strong> field in the database.</li></ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["CALENDAR_UID"]</strong></tt>: Unique ID for the calendar in the <strong><tt>CALENDAR_DEFINITION</tt></strong>        table.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_NAME"]</strong></tt>: The name of the calendar.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_CREATE_DATE"]</strong></tt>: Datetime when the calendar was created in
        <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_UPDATE_DATE"]</strong></tt>: Datetime when the calendar was last updated
        in <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_DESCRIPTION"]</strong></tt>: Description of the calendar.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_STATUS"]</strong></tt>: The calendar's status, which can be <tt>"ACTIVE"</tt>        or <tt>"INACTIVE"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_WORK_DAYS"]</strong></tt>: The calendar's workdays, separated by <tt>"|"</tt>        (vertical bars), where <tt>0</tt> = Sunday, <tt>1</tt> = Monday, <tt>2</tt> = Tuesday, etc. For example:
        <tt>"0|5|2"</tt> (Sunday, Thursday, Tuesday).</dd>
    <dd><tt><i>array</i> <strong>["CALENDAR_WORK_DAYS_A"]</strong></tt>: The calendar's workdays in an array. For example:
        <tt>array("0", "5", "2")</tt></dd>
    <dd><tt><i>array</i> <strong>["BUSINESS_DAY"]</strong></tt>: An array of the business hours for the calendar (which
        are drawn from the <strong><tt>CALENDAR_BUSINESS</tt></strong> table). Note that the counting of the array
        starts from 1, and not from 0 like a normal array.</dd>
    <dd><tt>(</tt>
        <dl>
            <dd><tt><i>array</i> <strong>[1]</strong></tt>: An array with data from each business hour record.</dd>
            <dd><tt>(</tt>
                <dl>
                    <dd><tt><i>string</i> <strong>["CALENDAR_UID"]</strong></tt>: The unique ID of the calendar in
                        the <strong><tt>CALENDAR_DEFINITION</tt></strong> table.</dd>
                    <dd><tt><i>string</i> <strong>["CALENDAR_BUSINESS_DAY"]</strong></tt>: The day of the week, where
                        0 = Sunday, 1 = Monday, 2 = Tuesday, etc. 7 represents all other business days that haven't
                        been otherwise specified.</dd>
                    <dd><tt><i>string</i> <strong>["CALENDAR_BUSINESS_START"]</strong></tt>: The start of the business
                        hours in <tt>"HH:MM"</tt> format.</dd>
                    <dd><tt><i>string</i> <strong>["CALENDAR_BUSINESS_END"]</strong></tt>: The end of the business
                        hours in <tt>"HH:MM"</tt> format.</dd>
                    <dd><tt><i>string</i> <strong>["UPPER(CALENDAR_BUSINESS_HOURS.CALENDAR_BUSINESS_DAY)"]</strong></tt>:
                        The day of the week, where 0 = Sunday, 1 = Monday, 2 = Tuesday, etc. 7 represents all other
                        business days which haven't been otherwise specified.</dd>
                    <dd><tt><i>string</i> <strong>["UPPER(CALENDAR_BUSINESS_HOURS.CALENDAR_BUSINESS_START)"]</strong></tt>:
                        The start of the business hours in <tt>"HH:MM"</tt> format.</dd>
                </dl>
            </dd>
            <dd><tt>)</tt></dd>
            <dd>...</dd>
        </dl>
    </dd>
    <dd><tt>)</tt></dd>
    <dd><tt><i>array</i> <strong>["HOLIDAY"]</strong></tt>: An array of holidays for the calendar, which are drawn
        from the <strong><tt>CALENDAR_HOLIDAYS</tt></strong> table. Note that the counting of the array starts
        from 1, and not from 0 like a normal array.</dd>
    <dd><tt>(</tt>
        <dl>
            <dd><tt><i>array</i> <strong>[1]</strong></tt>: An array of information about each holiday record.</dd>
            <dd><tt>(</tt>
                <dl>
                    <dd><tt><i>string</i> <strong>["CALENDAR_UID"]</strong></tt>: The unique ID of the calendar in
                        the <strong><tt>CALENDAR_DEFINITION</tt></strong> table.</dd>
                    <dd><tt><i>string</i> <strong>["CALENDAR_HOLIDAY_NAME"]</strong></tt>: The name of the holiday.</dd>
                    <dd><tt><i>string</i> <strong>["CALENDAR_HOLIDAY_START"]</strong></tt>: The date when the holiday
                        starts in <tt>"YYYY-MM-DD"</tt> format. Note that years are ignored when determining holidays.</dd>
                    <dd><tt><i>string</i> <strong>["CALENDAR_HOLIDAY_END"]</strong></tt>: The date when the holiday
                        ends in <tt>"YYYY-MM-DD"</tt> format. Note that years are ignored when determining holidays.</dd>
                </dl>
            </dd>
            <dd><tt>)</tt></dd>
            <dd>...</dd>
        </dl>
    </dd>
    <dd><tt>)</tt></dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>Display the holidays in a grid named @@holidayGrid, which has fields named "CALENDAR_HOLIDAY_NAME", "CALENDAR_HOLIDAY_START" and "CALENDAR_HOLIDAY_END":</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'calendar'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Calendar<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getCalendarInfo</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'2509613254f466254cdcf07067330602'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>holidayGrid <span style="color: #339933;">=</span> <span style="color: #000088;">$aInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'HOLIDAY'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Calendar::loadByCalendarName.28.29">Calendar::loadByCalendarName()</span></h3>
<p><tt>Calendar::loadByCalendarName()</tt> looks up a calendar by its name and returns information about it.</p>

<codeblock><i>array</i> <strong>Calendar::loadByCalendarName</strong>(<i>string</i> calendarName)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>calendarName</strong></tt>: The calendar name, which is case sensitive.</li></ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i>(</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["CALENDAR_UID"]</strong></tt>: The unique ID of the calendar.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_NAME"]</strong></tt>: The name of the calendar.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_CREATE_DATE"]</strong></tt>: The datetime when the calendar was created
        in <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_UPDATE_DATE"]</strong></tt>: The datetime when the calendar was last updated
        in <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_DESCRIPTION"]</strong></tt>: The description of the calendar.</dd>
    <dd><tt><i>string</i> <strong>["CALENDAR_STATUS"]</strong></tt>: The status of the calendar, which can be <tt>"ACTIVE"</tt>        or <tt>"INACTIVE"</tt>.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'calendar'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Calendar<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">loadByCalendarName</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'hello'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>


<h2><span id="Cases_class">Cases class</span></h2>
<p>The <tt>Cases</tt> class provides methods for manipulating ProcessMaker cases and is defined in the file <strong><tt>workflow/engine/classes/class.case.php</tt></strong>.</p>
<h3><span id="Cases::loadCase.28.29">Cases::loadCase()</span></h3>
<p><strong><tt>Cases::loadCase()</tt></strong> returns an associative array of information about a specified case, as long as the user current logged-in has privileges to access the case. If the task is specified with the <tt>$iDelIndex</tt> parameter, it also returns information about the task.</p>

<codeblock><i>array</i> <strong>Cases::loadCase</strong>(<i>string</i> $sAppUid, <i>int</i> $iDelIndex = 0)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul>
    <li><tt><i>string</i> <strong>$sAppUid</strong></tt>: The unique ID for a case. Set to <code>@@APPLICATION</code> for the current case or look it up in the <strong><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_UID</tt></strong> field for other cases.</li>
    <li><tt><i>int</i> <strong>$iDelIndex</strong></tt>: Optional. The delegation index, which is a positive integer that counts tasks in a process, starting from 1. If not specified or set to 0 then no task information will be returned. Set to <tt>@%INDEX</tt> for the current task in the current process or look it up in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.DEL_INDEX</tt></strong> field for other cases.</li>
</ul>
<p><strong>Return Value:</strong><br>Returns an associative array of information about a case with the following structure:</p>
<dl>
    <dd><tt><i>array</i> (</tt>
        <dl>
            <dd><tt><i>string</i> <strong>["APP_UID"]</strong>:</tt> The unique ID for the case. Ex: <code>"6654103664dcaee7a15e1e5076744766"</code></dd>
            <dd><tt><i>int</i> <strong>["APP_NUMBER"]</strong>:</tt> The case number. Ex: <code>53</code></dd>
            <dd><tt><i>string</i> <strong>["APP_PARENT"]</strong>:</tt> This value is always <code>''</code> (empty
                string). To find the parent case for a subprocess case, do database search with <code>executeQuery()</code>                in the <tt>wf_<i>WORKSPACE</i>.SUB_APPLICATION.APP_PARENT</tt> field.</dd>
            <dd><tt><i>string</i> <strong>["APP_STATUS"]</strong>:</tt> The status of the case, which can be <tt>"TO_DO"</tt>,
                <tt>"DRAFT"</tt>, <tt>"PAUSED"</tt>, <tt>"CANCELLED"</tt>, <tt>"COMPLETED"</tt> or <tt>"UNASSIGNED"</tt>.</dd>
            <dd><tt><i>string</i> <strong>["PRO_UID"]</strong>:</tt> The unique ID for the process.</dd>
            <dd><tt><i>string</i> <strong>["APP_PROC_STATUS"]</strong>:</tt> Indicates the status of the process, which
                is always <code>''</code>, since new cases can not be started if the process is set to <code>'INACTIVE'</code>.</dd>
            <dd><tt><i>string</i> <strong>["APP_PROC_CODE"]</strong>:</tt> A string to identify the case in the case
                tracker. This value can be set with the <a href="../3.0/ProcessMaker_Functions.html#setCaseTrackerCode.28.29">setCaseTrackerCode()</a>                function.</dd>
            <dd><tt><i>string</i> <strong>["APP_PARALLEL"]</strong>:</tt> Deprecated. Always set to <tt>"N"</tt> (even
                when there are parallel tasks).</dd>
            <dd><tt><i>string</i> <strong>["APP_INIT_USER"]</strong>:</tt> The unique ID of the user who initiated
                the case.</dd>
            <dd><tt><i>string</i> <strong>["APP_CUR_USER"]</strong>:</tt> The unique ID of the user who is currently
                assigned to work on the case. Note that this field may not updated due to this <a href="http://bugs.processmaker.com/view.php?id=3999">bug</a>,
                so use <strong><tt>["CURRENT_USER_UID"]</tt></strong> instead.</dd>
            <dd><tt><i>string</i> <strong>["APP_CREATE_DATE"]</strong>:</tt> The datetime when the case was created
                in the format <tt>"YYYY-MM-DD HH:MM:SS"</tt>. Ex: "2011-04-25 13:08:01"</dd>
            <dd><tt><i>string</i> <strong>["APP_INIT_DATE"]</strong>:</tt> The datetime when the case was initiated
                in the format <tt>"YYYY-MM-DD HH:MM:SS"</tt>. This is always the same as the <strong><tt>["APP_CREATE_DATE"]</tt></strong>.</dd>
            <dd><tt><i>string</i> <strong>["APP_FINISH_DATE"]</strong>:</tt> The datetime when the case finished in
                the format <tt>"YYYY-MM-DD HH:MM:SS"</tt>. If the case hasn't finished yet, then set to <tt>"1902-01-01 00:00:00"</tt>.</dd>
            <dd><tt><i>string</i> <strong>["APP_UPDATE_DATE"]</strong>:</tt> The datetime when the case was last updated
                in the format <tt>"YYYY-MM-DD HH:MM:SS"</tt>.</dd>
            <dd><tt><i>array</i> <strong>["APP_DATA"]</strong>:</tt> An associative array of the system variables and
                case variables for the case when it was last stored, in the following format:
                <dl>
                    <dd><tt><i>string</i> <strong>["SYS_LANG"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["SYS_SKIN"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["SYS_SYS"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["APPLICATION"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["PROCESS"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["TASK"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["INDEX"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["USER_LOGGED"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["USR_USERNAME"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["PIN"]</strong>:</tt> See <a href="../3.0/Triggers.html#System_Variables_in_Triggers"
                            title="Triggers">system variables</a>.</dd>
                    <dd><tt><i>string</i> <strong>["</strong><i>var1</i><strong>"]</strong>:</tt> The first <a href="../3.0/Triggers.html#Case_Variables"
                            title="Triggers">case variable</a> (which is a Dynaform field or defined in a trigger).
                        Note that case variables names are case sensitive.</dd>
                    <dd><tt><i>string</i> <strong>["</strong><i>var2</i><strong>"]</strong>:</tt> The second <a href="../3.0/Triggers.html#Case_Variables"
                            title="Triggers">case variable</a>.</dd>
                    <dd><tt>...</tt></dd>
                </dl>
            </dd>
            <dd><tt><i>string</i> <strong>["APP_PIN"]</strong>:</tt> An MD5 hash of the case PIN, which can be used
                when logging in with the <a href="../3.0/Case_Tracker.html" title="Case Tracker">Case Tracker</a>. For
                the unencrypted PIN, see <strong><tt>['APP_DATA']['PIN']</tt></strong>.</dd>
            <dd><tt><i>string</i> <strong>["APP_TITLE"]</strong>:</tt> The case title. If a custom case title has not
                been set in the task properties, then this will be the case number with "#" prepended. Ex: <tt>"#53"</tt></dd>
            <dd><tt><i>string</i> <strong>["APP_DESCRIPTION"]</strong>:</tt> The case description. If a custom case
                description has not been set in the task properties, then this will be "" (an empty string).</dd>
            <dd><tt><i>string</i> <strong>["STATUS"]</strong>:</tt> The case status, translated into the current system
                language. Check the translations of the <tt>"ID_TO_DO"</tt>, <tt>"ID_DRAFT"</tt>, <tt>"ID_CANCELLED"</tt>,
                <tt>"ID_PAUSED"</tt>, and <tt>"ID_COMPLETED"</tt> messages. In English, they are "To do", "Draft",
                "Canceled", "Paused", and "Completed", respectively.</dd>
            <dd><tt><i>string</i> <strong>["TITLE"]</strong>:</tt> The same as the <tt>["APP_TITLE"]</tt>.</dd>
            <dd><tt><i>string</i> <strong>["CREATOR"]</strong>:</tt> The first and last name of the user who created
                the case. Ex: <tt>"John Doe"</tt></dd>
            <dd><tt><i>string</i> <strong>["CREATE_DATE"]</strong>:</tt> The datetime when the case was created in
                the format <tt>"YYYY-MM-DD HH:MM:SS"</tt>.</dd>
            <dd><tt><i>string</i> <strong>["UPDATE_DATE"]</strong>:</tt> The datetime when the case last updated in
                the format <tt>"YYYY-MM-DD HH:MM:SS"</tt>.</dd>
        </dl>
    </dd>
</dl>
<p>If the task was specified, then the following keys are also created:</p>
<dl>
    <dd>
        <dl>
            <dd><tt><i>string</i> <strong>["TAS_UID"]</strong>:</tt> The unique ID for the task.</dd>
            <dd><tt><i>int</i> <strong>["DEL_INDEX"]</strong>:</tt> The positive integer identifying the order of the
                specified task in the process, which starts counting from 1.</dd>
            <dd><tt><i>int</i> <strong>["DEL_PREVIOUS"]</strong>:</tt> The positive integer identifying the previous
                task in the process, which starts counting from 1.</dd>
            <dd><tt><i>string</i> <strong>["DEL_TYPE"</strong>]:</tt> The type of delegation for the task, which is
                generally <tt>"NORMAL"</tt>.</dd>
            <dd><tt><i>string</i> <strong>["DEL_PRIORITY"]</strong>:</tt> The priority for the task, which can be <tt>"1"</tt>                (VERY HIGH), <tt>"2"</tt> (HIGH), <tt>"3"</tt> (NORMAL), <tt>"4"</tt> (LOW), <tt>"5"</tt> (VERY
                LOW).
            </dd>
            <dd><tt><i>string</i> <strong>["DEL_THREAD_STATUS"]</strong>:</tt> The status of the task's thread, which
                can be <tt>"OPEN"</tt> (if the case is TO DO or DRAFT) or <tt>"CLOSED"</tt> (if the case is CANCELLED,
                PAUSED or COMPLETED).</dd>
            <dd><tt><i>int</i> <strong>["DEL_THREAD"]</strong>:</tt> The positive number for the task's thread, which
                starts counting from 1.</dd>
            <dd><tt><i>string</i> <strong>["DEL_DELEGATE_DATE"]</strong>:</tt> The datetime when the case was routed
                to the specified task in the process, in the format <tt>"YYYY-MM-DD HH:MM:SS"</tt>.</dd>
            <dd><tt><i>string</i> <strong>["DEL_INIT_DATE"]</strong>:</tt> The datetime when the specified task was
                initiated, which is generally the same as the <tt>["DEL_DELEGATE_DATE"]</tt>.</dd>
            <dd><tt><i>string</i> <strong>["DEL_TASK_DUE_DATE"]</strong>:</tt> The datetime when the task is scheduled
                to be completed, according to the settings in the task properties and the calendar (which can be
                determined by the user, task, process or workspace).</dd>
            <dd><tt><i>string</i> <strong>["DEL_FINISH_DATE"]</strong>:</tt> The datetime when the task was completed
                (or canceled). If not yet completed, then set to NULL.</dd>
            <dd><tt><i>string</i> <strong>["CURRENT_USER_UID"]</strong>:</tt> The unique ID of the last user assigned
                to work on the specified task. Note that if the specified task is not the current task in the case,
                then this will not be the current user assigned to the case.</dd>
            <dd><tt><i>string</i> <strong>["CURRENT_USER"]</strong>:</tt> The first and last name of the last user
                assigned to work on the specified task. Note that if the specified task is not the current task
                in the case, then this will not be the current user assigned to the case.</dd>
        </dl>
    </dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>Look up the case title, current user and the case variable "ClientName" for the current case and display this information in a message on the next screen:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aCase</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">loadCase</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Case <span style="color: #006699; font-weight: bold;">{$aCase['APP_TITLE']}</span> is assigned to <span style="color: #006699; font-weight: bold;">{$aCase['CURRENT_USER']}</span> &quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">&quot;and its ClientName is <span style="color: #006699; font-weight: bold;">{$aCase['APP_DATA']['ClientName']}</span>.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;INFO&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Cases::loadCaseInCurrentDelegation.28.29">Cases::loadCaseInCurrentDelegation()</span></h3>
<p>Like <a href="#Cases::loadCase.28.29">Cases::loadCase()</a>, <strong><tt>Cases::loadCaseInCurrentDelegation()</tt></strong> returns an associative array of information about a specified case, but the delegation index doesn't need to be specified, since it automatically selects the current delegation for the case.</p>

<codeblock><i>array</i> <strong>Cases::loadCaseInCurrentDelegation</strong>(<i>string</i> $APP_UID)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$APP_UID</strong></tt>: The unique ID for a case. Set to <code>@@APPLICATION</code> for the current case or look it up in the <strong><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_UID</tt></strong> field for other cases.</li>
</ul>
<p><strong>Return Value:</strong><br>
Returns an associative array with information about the specified case:<br>
<tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["APP_UID"]</strong>:</tt> The case's unique ID.</dd>
    <dd><tt><i>int</i> <strong>["APP_NUMBER"]</strong>:</tt> The case's number (which starts counting cases from the
        number 1).</dd>
    <dd><tt><i>string</i> <strong>["APP_UPDATE_DATE"]</strong>:</tt> The last time the case was updated in <tt>"YYYY-MM-DD HH:MM:SS"</tt>        format.</dd>
    <dd><tt><i>int</i> <strong>["DEL_PRIORITY"]</strong>:</tt> The case's priority which is a number between 1 and
        5 and defaults to 3.</dd>
    <dd><tt><i>string</i> <strong>["DEL_INDEX"]</strong>:</tt> The case's delegation index, which counts the number
        of times a case has been routed to the next task, starting from the number 1.</dd>
    <dd><tt><i>string</i> <strong>["TAS_UID"]</strong>:</tt> The unique ID of the current task for the case.</dd>
    <dd><tt><i>string</i> <strong>["DEL_INIT_DATE"]</strong>:</tt> The datetime when the case's current task initiated
        in <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["DEL_FINISH_DATE"]</strong>:</tt> The datetime when the case's current task finished
        in <tt>"YYYY-MM-DD HH:MM:SS"</tt> format. If it hasn't finished yet, it will be set to <tt>NULL</tt>.</dd>
    <dd><tt><i>string</i> <strong>["USR_UID"]</strong>:</tt> The unique ID of the user designated to work on the case's
        current task.</dd>
    <dd><tt><i>string</i> <strong>["APP_STATUS"]</strong>:</tt> The case's status, which can be: <tt>"TO_DO"</tt>,
        <tt>"DRAFT"</tt>, <tt>"COMPLETED"</tt>, <tt>"CANCELLED"</tt>, <tt>"PAUSED"</tt> or <tt>"UNASSIGNED"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["DEL_TASK_DUE_DATE"]</strong>:</tt> The datetime when the current task is due (i.e.,
        scheduled to be be finished) <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["APP_CURRENT_USER"]</strong>:</tt> The name of the user designated to work on the
        case's current task in the format: last_name + " " + first_name</dd>
    <dd><tt><i>string</i> <strong>["APP_TITLE"]</strong>:</tt> The title for the case. For example: <tt>"#42"</tt></dd>
    <dd><tt><i>string</i> <strong>["APP_PRO_TITLE"]</strong>:</tt> The title of the case's process.</dd>
    <dd><tt><i>string</i> <strong>["APP_TAS_TITLE"]</strong>:</tt> The title of the case's current task.</dd>
    <dd><tt><i>string</i> <strong>["APP_DEL_PREVIOUS_USER"]</strong>:</tt> The name of the user designated to work
        on the case's previous task in the format: last_name + " " + first_name</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>Look up the case title, current user and the case variable "ClientName" for the current case and display this information in a message on the next screen:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aCase</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">loadCase</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Case <span style="color: #006699; font-weight: bold;">{$aCase['APP_TITLE']}</span> is assigned to <span style="color: #006699; font-weight: bold;">{$aCase['CURRENT_USER']}</span> &quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">&quot;and its ClientName is <span style="color: #006699; font-weight: bold;">{$aCase['APP_DATA']['ClientName']}</span>.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;INFO&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<h3><span id="Cases::loadCaseByNumber.28.29">Cases::loadCaseByNumber()</span></h3>
<p><strong><tt>Cases::loadCaseByNumber()</tt></strong> no longer works in ProcessMaker version 3.

<h3><span id="Cases::getUsersParticipatedInCase.28.29">Cases::getUsersParticipatedInCase()</span></h3>
<p><strong><tt>Cases::getUsersParticipatedInCase()</tt></strong> returns a list of all the users who have participated in a specified case.</p>

<codeblock><i>array</i> <strong>getUsersParticipatedInCase</strong>(<i>string</i> $sAppUid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sAppUid</strong></tt>: The unique ID for a case. Set to <code>@@APPLICATION</code> for the current case or look it up in the <b><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_UID</tt></b> field for other cases.</li>
</ul>
<p><strong>Return Value:</strong><br>
Returns an associative array containing a Criteria object to search for the users, and an array of users who have participated in the case:<br>
<tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>object</i> <strong>["criteria"]</strong>:</tt> A <tt>Criteria</tt> object that can be used to do a Propel
        query.
    </dd>
    <dd><tt><i>array</i> <strong>["array"]</strong>:</tt> An associative array of users who have participated in the
        case. The array keys are the users' unique IDs.</dd>
    <dd><tt><i>array</i> <strong>["<i>USER1-UNIQUE-ID</i>"]</strong>:</tt> An associative array of information about
        the first user.
        <dl>
            <dd><tt><i>string</i> <strong>["APP_UID"]</strong>:</tt> The case's unique ID.</dd>
            <dd><tt><i>string</i> <strong>["USR_UID"]</strong>:</tt> The user's unique ID.</dd>
            <dd><tt><i>string</i> <strong>["USR_USERNAME"]</strong>:</tt> The user's username.</dd>
            <dd><tt><i>string</i> <strong>["USR_EMAIL"]</strong>:</tt> The user's email address.</dd>
        </dl>
    </dd>
    <dd><tt><i>array</i> <strong>["<i>USER2-UNIQUE-ID</i>"]</strong>:</tt> An associative array of information about
        the second user.
        <dl>
            <dd><tt>...</tt></dd>
        </dl>
    </dd>
    <dd><tt>...</tt></dd>
</dl>
<p><tt>)</tt></p>

<p><strong>Example:</strong><br>
Email all the users who have participated in the current case:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//G::LoadClass('cases'); //not necessary in triggers</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aUsers</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getUsersParticipatedInCase</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$to</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'array'</span><span style="color: #009900;">&#93;</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$userId</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$userInfo</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$to</span> <span style="color: #339933;">.=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$to</span><span style="color: #009900;">&#41;</span> ? <span style="color: #0000ff;">''</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">', '</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$userInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_EMAIL'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #0000ff;">'boss@example.com'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$to</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Please review case'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'caseReview.html'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Cases::startCase.28.29">Cases::startCase()</span></h3>
<p><tt>Cases::startCase()</tt>, which is defined in <strong><tt>workflow/engine/classes/class.case.php</tt></strong>, starts a new case.</p>

<codeblock><i>array</i> <strong>Cases::startCase</strong>(<i>string</i> $sTasUid, <i>string</i> $sUsrUid, <i>boolean</i> $isSubprocess=false)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sTasUid</strong></tt>: The unique ID for the task where the case will start. This task must be one of the starting tasks in the process. This ID can be found by going to <strong>ADMIN &gt; Web Services Test</strong> and logging in as the user and then using the taskList() web service.</li><li><tt><i>string</i> <strong>$sUsrUid</strong></tt>: The unique ID for the user that will be assigned to the starting task of the case. This user must be one of the assigned users for that task.</li><li><tt><i>boolean</i> <strong>$isSubprocess</strong></tt>: Optional parameter. Set to <tt>true</tt> if the case is run as a subprocess of a master process.</li></ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:</p>

<codeblock>array (
   <i>string</i> <strong>['APPLICATION']</strong>: Unique ID for the new case.
   <i>int</i>    <strong>['INDEX']</strong>:       Positive integer to identify the current task of the new case.
   <i>string</i> <strong>['PROCESS']</strong>:     Unique ID for the process of the new case.
   <i>int</i>    <strong>['CASE_NUMBER']</strong>: Case number, which is a positive integer which counts cases.
)
</codeblock>

<p><strong>Example:</strong><br>Start a new case for the currently logged in user:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$task</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;17946ed3bef9555230f90bd5c253bf2c&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//G::LoadClass('cases'); //not necessary in triggers</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">startCase</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$task</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$newCaseId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APPLICATION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Cases::cancelCase.28.29">Cases::cancelCase()</span></h3>
<p><tt>Cases::cancelCase()</tt> cancels a case, so it can never be reopened and worked upon.</p>

<codeblock><i>void</i> <strong>Cases::cancelCase</strong>(<i>string</i> $sApplicationUID, <i>int</i> $iIndex, <i>string</i> $user_logged)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sApplicationUID</strong></tt>: The unique ID for the case to cancel.</li><li><tt><i>int</i> <strong>$iIndex</strong></tt>: The delegation index for the case to cancel. This should be the index for the current task in the case.</li><li><tt><i>string</i> <strong>$user_logged</strong></tt>: The unique ID for the user who cancels the case. This should be the user who is currently assigned to work on the case.</li></ul>
<p><strong>Example:</strong><br>Cancel the current case:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">cancelCase</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Cases::removeCase.28.29">Cases::removeCase()</span></h3>
<p><tt>Cases::removeCase()</tt> deletes a case and all its associated Input Documents, Output Documents and uploaded files.</p>

<codeblock><i>void</i> <strong>Cases::removeCase</strong>(<i>string</i> $sAppUid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sAppUid</strong></tt>: The unique ID of the case to remove.</li></ul>
<p><strong>Return Value:</strong></p>
<p><tt>Cases::removeCase()</tt> doesn't have a return value. If an exception occurs while executing <tt>Cases::removeCase()</tt>, the trigger will abort at that point and no subsequent code will be executed in the trigger and an exception message will be set in the <tt>@@__ERROR__</tt> system variable (which can be checked in a subsequent trigger). For example, if <tt>$sAppUid</tt> is an invalid case unique ID, <tt>@@__ERROR__</tt> will contain the message: <tt>"The row 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX' in table Application doesn't exist!"</tt></p>
<p><strong>Examples:</strong><br>Delete the current case and redirect back to the cases list. Then, abort with the <a href="http://php.net/manual/en/function.die.php">die()</a> function, so the case will not continue to the next step (which will no longer exist, since the case has been removed from the database).</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//G::LoadClass('cases'); //not necessary in triggers</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">removeCase</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Location: cases_List'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>ProcessMaker slows down with large numbers of cases in the database. If it is not necessary to keep old cases in the system, this trigger code finds all cases that were completed or canceled over one year ago and deletes them.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$process</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'3517322804da74444ad39e9021552340'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//look up ID with processList() web service</span><br />
<span style="color: #000088;">$lastYear</span> <span style="color: #339933;">=</span> <a href="http://php.net/date"><span style="color: #990000;">date</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Y-m-d H:i:s'</span><span style="color: #339933;">,</span> <a href="http://php.net/strtotime"><span style="color: #990000;">strtotime</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'-1 year'</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT * FROM APPLICATION WHERE PRO_UID='<span style="color: #006699; font-weight: bold;">$process</span>' AND APP_FINISH_DATE &gt; <span style="color: #006699; font-weight: bold;">$lastYear</span><br />
&nbsp; &nbsp;AND (APP_STATUS='COMPLETED' OR APP_STATUS='CANCELLED')&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$cases</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$delCases</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$delCasesCnt</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$cases</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$cases</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$cases</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$case</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">removeCase</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$case</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$delCasesCnt</span><span style="color: #339933;">++;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$delCases</span> <span style="color: #339933;">.=</span> <span style="color: #0000ff;">&quot;Deleted Case: UID: <span style="color: #006699; font-weight: bold;">{$case['APP_UID']}</span>, No: <span style="color: #006699; font-weight: bold;">{$case['APP_NUMBER']}</span>, &quot;</span> <span style="color: #339933;">.</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Started: {<span style="color: #006699; font-weight: bold;">$case</span>['APP_CREATE_DATE'], Finished {<span style="color: #006699; font-weight: bold;">$case</span>['APP_FINISH_DATE']&lt;br&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">print</span> <span style="color: #0000ff;">&quot;&lt;b&gt;Deleted <span style="color: #006699; font-weight: bold;">$delCasesCnt</span> cases:&lt;/b&gt;&lt;br&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">print</span> <span style="color: #000088;">$delCases</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Cases::unpauseCase.28.29">Cases::unpauseCase()</span></h3>
<p><tt>Cases::unpauseCase()</tt> unpauses a case (which was previously paused), so it can be worked on again.</p>

<codeblock><i>void</i> <strong>Cases::unpauseCase</strong>(<i>string</i> $sApplicationUID, <i>int</i> $iIndex, <i>string</i> $user_logged)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sApplicationUID</strong></tt>: The unique ID for the case to unpause.</li><li><tt><i>int</i> <strong>$iIndex</strong></tt>: The delegation index for the case to unpause. This should be the index for the current task in the case.</li><li><tt><i>string</i> <strong>$user_logged</strong></tt>: The unique ID for the user who unpauses the case. This should be the user who is currently assigned to work on the case.</li></ul>
<p><strong>Example:</strong><br>Unpause the current case:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//G::LoadClass('cases'); //not necessary in triggers</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">unpauseCase</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Cases::reassignCase.28.29">Cases::reassignCase()</span></h3>
<p><tt>Cases::reassignCase()</tt> reassigns the specified case to another user. Note that the new user must either be in the list of assigned users for the task or in its ad-hoc users.</p>

<codeblock><i>boolean</i> <strong>reassignCase</strong>(<i>string</i> $sApplicationUID, <i>int</i> $iDelegation, <i>string</i> $sUserUID, <i>string</i> $newUserUID, <i>string</i> $sType = 'REASSIGN')
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sApplicationUID</strong></tt>: The unique ID for the case. Note that this ID changes with each new task.</li><li><tt><i>int</i> <strong>$iDelegation</strong></tt>: The current delegation index (which counts tasks starting from 1) for the case.</li><li><tt><i>string</i> <strong>$sUserUID</strong></tt>: The unique ID of the user currently assigned to the task.</li><li><tt><i>string</i> <strong>$newUserUID</strong></tt>: The unique ID of the user who will be assigned to the task.</li><li><tt><i>string</i> <strong>$sType</strong></tt>: Optional. Set the type, which in almost all cases should be the default 'REASSIGN'.</li></ul>
<p><strong>Return Value:</strong><br>If the case was successfully reassigned, <tt>Cases::reassignCase()</tt> returns <strong>true</strong>. If unsuccessful, an exception is thrown and the trigger code stops at that point. An exception message is placed in the @@__ERROR__ system variable (which can be checked in a subsequent trigger).</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> If the task is configured to send an <a href="../3.0/Tasks.html#NOTIFICATIONS" title="Tasks">automatic notification to the next assigned user</a>, <tt>Cases::reassignCase()</tt> will NOT send out that notification. Instead, use <a href="../3.0/ProcessMaker_Functions.html#PMFSendMessage.28.29">PMFSendMessage()</a> to manually notify the user. Likewise, it won't execute any triggers associated with task assignment.</font></p>
<p><strong>Example:</strong><br>When the current user goes on vacation, reassign all their cases to other users who are randomly chosen from the pool of assigned users for the current task in the case.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$currentUser</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//look up all current user's active cases:</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT * FROM APP_DELEGATION WHERE USR_UID='<span style="color: #006699; font-weight: bold;">$currentUser</span>' AND DEL_THREAD_STATUS='OPEN'&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$cases</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$cases</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Error: Query failure:<span style="color: #000099; font-weight: bold;">\n</span><span style="color: #000099; font-weight: bold;">\n</span><span style="color: #006699; font-weight: bold;">$query</span><span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$cases</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$case</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//look up assigned users for the task:</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$taskId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$case</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'TAS_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$assignedUsers</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//empty array to hold the UIDs of the assigned users to the task</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$userQuery</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT USR_UID FROM TASK_USER WHERE TAS_UID='<span style="color: #006699; font-weight: bold;">$taskId</span>' AND TU_RELATION=1 AND USR_UID&lt;&gt;'<span style="color: #006699; font-weight: bold;">$currentUser</span>'&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$users</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$userQuery</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$users</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$user</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$assignedUsers</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #000088;">$groupQuery</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT GU.USR_UID FROM GROUP_USER GU, TASK_USER TU WHERE TU.TAS_UID='<span style="color: #006699; font-weight: bold;">$taskId</span>'<br />
&nbsp; &nbsp; &nbsp; AND TU.TU_RELATION=2 AND TU.USR_UID=GU.GRP_UID AND TU.USR_UID&lt;&gt;'<span style="color: #006699; font-weight: bold;">$currentUser</span>'&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$users</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$groupQuery</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$users</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$user</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$assignedUsers</span><span style="color: #009900;">&#91;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$user</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #000088;">$assignedUsers</span> <span style="color: #339933;">=</span> <a href="http://php.net/array_unique"><span style="color: #990000;">array_unique</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$assignedUsers</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//eliminate any duplicates in array</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$noUser</span> <span style="color: #339933;">=</span> <a href="http://php.net/rand"><span style="color: #990000;">rand</span></a><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$assignedUsers</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//get random number to select the user</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$designatedUser</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$assignedUsers</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$noUser</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">reassignCase</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$case</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$case</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DEL_INDEX'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$case</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$designatedUser</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//stop the current case because it has been reassigned to another user</span></div></div>

<h3><span id="Cases::setCatchUser.28.29">Cases::setCatchUser()</span></h3>
<p>Assigns a user to a case whose current task has a <a href="../3.0/Tasks.html#Self-Service" title="Processes">self-service</a> assignment rule and it is not yet assigned to a user. Note that only a user who in the list of assigned users for the task can be assigned to the case.</p>

<codeblock><i>void</i> <strong>Cases::setCatchUser</strong>(<i>string</i> $sAppUid, <i>int</i> $iDelIndex, <i>string</i> $usrId)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sAppUid</strong></tt>: The unique ID for a case whose current task is self-service and is still unassigned to a user.</li><li><tt><i>int</i> <strong>$iDelIndex</strong></tt>: The delegation index for the case.</li><li><tt><i>string</i> <strong>$usrId</strong></tt>: The unique ID for the user to be assigned to the case.</li></ul>

<p><strong>Example:</strong></p>
<p>If the user who is assigned to the previous task in the process is the "admin" user, then automatically assign him/her to the next task in the process, which is a self-service task. This trigger should be set to execute <i>after routing</i> the task before the self-service task, because at that point, the self-service task has already been created in the <tt>APP_DELEGATION</tt> table in the database. If <code>setCatchUser()</code> is called before the record for the task has been created in the database, then it will fail.</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>USR_USERNAME <span style="color: #339933;">==</span> <span style="color: #0000ff;">'admin'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//increment the current Delegation Index by one for the next task in the process:</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setCatchUser</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Cases::getNextStep.28.29">Cases::getNextStep()</span></h3>
<p><tt>Cases::getNextStep()</tt> returns information about the next step in a task. If no parameters are specified, then it will return information about the next task in the current case.</p>

<codeblock><i>array</i> <strong>Cases::getNextStep</strong>(<i>string</i> $sProUid = '', <i>string</i> $sAppUid = '', <i>int</i> $iDelIndex = 0, <i>int</i> $iPosition = 0)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sProUid</strong></tt>: Optional. The unique ID of the process. If not included, then the current process will be used.</li><li><tt><i>string</i> <strong>$sAppUid</strong></tt>: Optional. The unique ID of the case. If not included, then the current case will be used.</li><li><tt><i>int</i> <strong>$iDelIndex</strong></tt>: Optional. The delegation index of the case, which is a positive integer counting the tasks in a case starting from 1. If not included, then the current task in the current case will be used.</li><li><tt><i>int</i> <strong>$iPosition</strong></tt>: Optional. The step in the case, which is a positive integer counting the steps in a case, starting from 1. If not included, then the current step in the current case will be used.</li></ul>
<p><strong>Return Value:</strong><br>An associative array with information about the next step in the specified case, with the following structure:</p>

<codeblock>array(
   ['TYPE'],
   ['UID'],
   ['POSITION'],
   ['PAGE']
)
</codeblock>

<p>Where:</p>
<ul><li><tt><i>string</i> <strong>['TYPE']</strong></tt>: The type of step, which can be <tt>'DYNAFORM'</tt>, <tt>'OUTPUT_DOCUMENT'</tt>, <tt>'INPUT_DOCUMENT'</tt>, <tt>'EXTERNAL'</tt> or <tt>'MESSAGE'</tt>.</li><li><tt><i>string</i> <strong>['UID']</strong></tt>: The unique ID for the next step.</li><li><tt><i>int</i> <strong>['POSITION']</strong></tt>: The position of the next step, which is a positive integer that counts the steps in a task starting from 1.</li><li><tt><i>string</i> <strong>['PAGE']</strong></tt>: A relative URL that can be used to redirect to the next step with the <a href="#G::header.28.29">G::header()</a> function.</li></ul>
<p>If the specified step is the last step in the task, then this array will return the last step index plus 1, assigning the case to the next user:</p>

<codeblock>array(
   'TYPE' =&gt; 'DERIVATION',
   'UID' =&gt; -1,
   'POSITION' =&gt; ($iLastStep + 1),
   'PAGE' =&gt; 'cases_Step?TYPE=ASSIGN_TASK&amp;UID=-1&amp;POSITION=10000&amp;ACTION=ASSIGN'
)
</codeblock>

<p><strong>Example:</strong><br>To redirect the web browser to the next step in the current case:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//G::LoadClass('cases'); //not necessary in triggers</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aStepInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getNextStep</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aStepInfo</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Location: <span style="color: #006699; font-weight: bold;">{$aStepInfo['PAGE']}</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Location: cases_List'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray">

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aStepInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getNextStep</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
</font></p>
<p>is equivalent to:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aStepInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getNextStep</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'PROCESS'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APPLICATION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$_SESSION</span> <span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'INDEX'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'STEP_POSITION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Cases::getPreviousStep.28.29">Cases::getPreviousStep()</span></h3>
<p><tt>Cases::getPreviousStep()</tt> returns information about the previous step in a specified case. If no parameters are specified, then it will return information about the previous task in the current case.</p>

<codeblock><i>array</i> <strong>Cases::getPreviousStep</strong>(<i>string</i> $sProUid = '', <i>string</i> $sAppUid = '', <i>int</i> $iDelIndex = 0, <i>int</i> $iPosition = 0)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sProUid</strong></tt>: Optional. The unique ID of the process. If not included, then the current process will be used.</li><li><tt><i>string</i> <strong>$sAppUid</strong></tt>: Optional. The unique ID of the case. If not included, then the current case will be used.</li><li><tt><i>int</i> <strong>$iDelIndex</strong></tt>: Optional. The delegation index of the case, which is a positive integer counting the tasks in a case starting from 1. If not included, then the current task in the specified case will be used.</li><li><tt><i>int</i> <strong>$iPosition</strong></tt>: Optional. The step in the case, which is a positive integer counting the steps in a case, starting from 1. If not included, then the current step in the specified case will be used.</li></ul>
<p><strong>Return Value:</strong><br>An associative array with information about the previous step in the specified case, with the following structure:</p>

<codeblock><i>associative array</i>
(
   ['TYPE'],
   ['UID'],
   ['POSITION'],
   ['PAGE']
)
</codeblock>

<p>Where:</p>
<ul><li><tt><i>string</i> <strong>['TYPE']</strong></tt>: The type of step, which can be <tt>'DYNAFORM'</tt>, <tt>'OUTPUT_DOCUMENT'</tt>, <tt>'INPUT_DOCUMENT'</tt>, <tt>'EXTERNAL'</tt> or <tt>'MESSAGE'</tt>.</li><li><tt><i>string</i> <strong>['UID']</strong></tt>: The unique ID for the previous step.</li><li><tt><i>int</i> <strong>['POSITION']</strong></tt>: The position of the previous step, which is a positive integer that counts the steps in a task starting from 1.</li><li><tt><i>string</i> <strong>['PAGE']</strong></tt>: A relative URL that can be used to redirect to the previous step with the <a href="#G::header.28.29">G::header()</a> function.</li></ul>
<p>If there is no previous step available, then a value of <strong>false</strong> will be returned.</p>
<p><strong>Example:</strong><br>To redirect the web browser to the previous step in the current case:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//G::LoadClass('cases'); //not necessary in triggers</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aStepInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPreviousStep</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aStepInfo</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Location: <span style="color: #006699; font-weight: bold;">{$aStepInfo['PAGE']}</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'Location: cases_List'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray">

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aStepInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPreviousStep</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
</font></p>

<p>is equivalent to:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aStepInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPreviousStep</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'PROCESS'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APPLICATION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'INDEX'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'STEP_POSITION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Cases::updateCase.28.29">Cases::updateCase()</span></h3>
<p><tt>Cases::updateCase()</tt> overwrites a case's variables by serializing the variables and storing them in the <strong><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_DATA</tt></strong> field in the database.</p>

<codeblock><i>array</i> <strong>Cases::updateCase</strong>(<i>string</i> $sAppUid, <i>array</i> $Fields = array())
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sAppUid</strong></tt>: The unique ID of the case whose variables will be updated.</li><li><tt><i>array</i> <strong>$Fields</strong></tt>: Optional. An associative array that should contain a key named "APP_DATA", which points to an associative array of the variables. In this associative array, the keys are the names of the variables and the array values are the values of the variables. If the <tt>$Fields</tt> parameter is not included, then the case's variables will be erased. The easiest way to get a correct array structure for the <tt>$Fields</tt> parameter is to use <a href="#Cases::loadCase.28.29">Cases::loadCase()</a> and then use <a href="http://www.php.net/manual/en/function.array-merge.php">array_merge()</a> to update its <tt>['APP_DATA']</tt> member array. See the example below.</li></ul>
<p><strong>Return Value:</strong><br>Returns the <tt>$Fields</tt> parameter.<!--, whose contents have been modified by</p>-->
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> If updating the current case in a trigger, keep in mind that many steps automatically update a case's variables, so your changes will be overwritten. For this reason, it is recommended to use <a href="../3.0/ProcessMaker_Functions.html#PMFSendVariables.28.29" title="ProcessMaker Functions">PMFSendVariables()</a> instead of <a href="#Cases::updateCase.28.29">Cases::updateCase()</a> to update the current case in a trigger.</font></p>
<p><strong>Example:</strong><br>Set the variable "clientAccount" to "2012_FINANCE_Y34" and the variable "clientName" to "Jane Doe" for a case with the unique ID <tt>"8078850464f60dda169adc4033523707"</tt>:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;8078850464f60dda169adc4033523707&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//G::LoadClass('cases'); //not necessary in triggers</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aCase</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">loadCase</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aVars</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">&quot;clientAccount&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;2012_FINANCE_Y34&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">&quot;clientName&quot;</span> &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;Jane Doe&quot;</span><br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aCase</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DATA'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array_merge"><span style="color: #990000;">array_merge</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aCase</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DATA'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aVars</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">updateCase</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aCase</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Content_class">Content class</span></h2>
<p>The text associated with a ProcessMaker object can be looked up using the <tt>Content</tt> class, which is defined in the file <strong><tt>workflow/engine/classes/model/Content.php</tt></strong>. The text for ProcessMaker objects is stored in the <strong><tt>wf_<i>&lt;WORKSPACE&gt;</i>.CONTENT</tt></strong> table in the database.</p>
<h3><span id="Content::load.28.29">Content::load()</span></h3>
<p>The <tt>Load()</tt> method returns the text associated with a specified ProcessMaker object, such as its title, description, comment, etc. In version 2.X, this method can also be used to return the translation for a specified language, but in version 3.X, translations no longer work.</p>

<codeblock><i>string</i> <strong>Content::load</strong>(<i>string</i> $ConCategory, <i>string</i> $ConParent, <i>string</i> $ConId, <i>string</i> $ConLang)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul>
    <li><tt><i>string</i> <strong>$conCategory</strong></tt>: The category of content, such as 'DYN_TITLE', 'APP_DOC_FILENAME'. For a complete list of categories, see <a href="../3.0/Consulting_the_ProcessMaker_databases.html#Finding_ProcessMaker_objects">Finding ProcessMaker Objects</a>.</li>
    <li><tt><i>string</i> <strong>$ConParent</strong></tt>: For all objects, except the files uploaded to Input and Output Documents, this is set to <code>""</code> (an empty string). If the <code>$conCategory</code> is "APP_DOC_FILENAME", "APP_DOC_TITLE" or "APP_DOC_COMMENT" then this parameter is set to the version number of the file, so the first version is <code>"1"</code>, the second version is <code>"2"</code>, etc.</li>
    <li><tt><i>string</i> <strong>$conId</strong></tt>: The unique ID of the ProcessMaker object, which consists of 32 hexadecimal characters, such as <code>"69738725456a802d97e2eb7008185603"</code>.</li>
    <li><tt><i>string</i> <strong>$conLangRecipients</strong></tt>: Set to the ISO code of the language, such as "en" (English), "es" (Spanish), "fr-FR" (French from France), "pt-BR" (Portuguese from Brazil) or "zh-CN" (Chinese from Mainland China). For a list of the available languages see <a href="../3.0/Translating_ProcessMaker.html">Translations</a>. If set to <code>""</code> (an empty string), then it will return the first record found in the <b><tt>CONTENT</tt></b> table regardless of the language. If a record doesn't exist in the <b><tt>CONTENT</tt></b> table for the specified language, then a new record will automatically be added to the <b><tt>CONTENT</tt></b> table for the language. Its content is copied from another record with the same UID, and its text will be returned.<br>
<font color=green><b>Note:</b></font> <font color=dimgrey>In version 3.X, <a href="https://processmaker.atlassian.net/browse/TRI-886">there are no translations</a>, so set it to <code>""</code>.</font></li>
</ul>

<p><b>Return Value:</b><br>
Returns the text for the specified unique ID (which is stored in the <b><tt>CONTENT.CON_VALUE</tt></b> field in the database). If the UID can't be found, then an empty string is returned.

<p><b>Example:</b><br>
Get the title for a Dynaform with the UID "12816611256a0006a028ab7006995270" in English and its Spanish translation:
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$titleEnglish</span> <span style="color: #339933;">=</span> Content<span style="color: #339933;">::</span><span style="color: #004000;">load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'DYN_TITLE'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'12816611256a0006a028ab7006995270'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'en'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$titleSpanish</span> <span style="color: #339933;">=</span> Content<span style="color: #339933;">::</span><span style="color: #004000;">load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'DYN_TITLE'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'12816611256a0006a028ab7006995270'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'es'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Dates_class">Dates class</span></h2>
<p>The <tt>Dates</tt> class is defined in <strong><tt>processmaker/workflow/engine/classes/class.dates.php.</tt></strong> and is used to manipulate the definition of dates.</p>
<h3><span id="dates::calculateDate().28.29">dates::calculateDate()</span></h3>
<p>
<tt>dates::calculateDate()</tt> is used to calculate the due date for a task (or any projected datetime), based on the configured calendar or work days. If $iTypeDay is set to 1. The calendar is selected first based on the user. If there is no selected calendar for the user, then use the selected calendar for the task. If no calendar is selected for the task, then use the selected calendar for the process. If not calendar is selected for the process, then use the default calendar for the workspace.</p>

<codeblock><i>array</i> <strong>calculateDate</strong>(<i>string</i> $sInitDate, <i>integer</i> $iDuration, <i>string</i> $sTimeUnit, <i>integer</i> $iTypeDay, <i>string</i> $UsrUid = null, <i>string</i> $ProUid = null, <i>string</i> $TasUid = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt>
<i>string</i> <b>$sInitDate:</b></tt> Start Date in "YYYY-MM-DD HH:MM:SS" format.</li>
    <li><i><tt>integer</i> <b>$iDuration</b>:</tt> Integer which represents number of time units.
<li><tt><i>string</i> <b>$sTimeUnit:</b></tt> Type units in 'DAYS' or 'HOURS'.</li>
    <li><tt><i>integer</i> <b>$iTypeDay:</b></tt> Set to 1 if calculating work days (Monday-Friday) or 2 for calendar days.</li>
    <li><tt><i>string</i> <b>$UsrUid:</b></tt> Set to the unique ID of the user. If not included or set to null, then don't search for a calendar set for a particular user.</li>
    <li><tt><i>string</i> <b>$ProUid:</b></tt> Set to the unique ID of the process. If not included or set to null, then don't search for a calendar set for a particular process. </li>
    <li><tt><i>string</i> <b>$TasUid:</b></tt> Set to the unique ID of the task. If not included or set to null, then don't search for the calendar set for a particular task.</li>
</ul>

<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["DUE_DATE"]</strong></tt>: End date in "YYYY-MM-DD HH:MM:SS" format.</dd>
    <dd><tt><i>string</i> <strong>["DUE_DATE_SECONDS"]</strong></tt>: Timestamp in seconds for end date.</dd>
    <dd><tt><i>string</i> <strong>["DUE_DATE_LOG"]</strong></tt>: Log to select calendar and calculate date.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>
<p>Calculate the due date for a task depending on its type. The @@typeTask variable must be set in a previous Dynaform and the trigger set to fire either in the task whose due date needs to be set or after routing in the previous task, because at that point, records for the case's task have already been created in the APP_DELEGATION and APP_CACHE_VIEW tables in the database.</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'dates'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> dates<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$startDate</span> <span style="color: #339933;">=</span> <a href="http://php.net/date"><span style="color: #990000;">date</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Y-m-d H:i:s&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//current datetime</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #339933;">@@</span>typeTask<span style="color: #009900;">&#41;</span> and <span style="color: #339933;">@@</span>typeTask <span style="color: #339933;">==</span> <span style="color: #0000ff;">'simple'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$duration</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">10</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$timeUnits</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'HOURS'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$duration</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">2</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$timeUnits</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'DAYS'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000088;">$ret</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">calculateDate</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$startDate</span><span style="color: #339933;">,</span> <span style="color: #000088;">$duration</span><span style="color: #339933;">,</span> <span style="color: #000088;">$timeUnits</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>PROCESS<span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>TASK<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$endDate</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$ret</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DUE_DATE'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$index</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>INDEX<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$sql</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;UPDATE APP_DELEGATION SET DEL_TASK_DUE_DATE='<span style="color: #006699; font-weight: bold;">$endDate</span>' WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DEL_INDEX=<span style="color: #006699; font-weight: bold;">$index</span>&quot;</span><span style="color: #339933;">;</span><br />
executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$sql</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$sql</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;UPDATE APP_CACHE_VIEW SET DEL_TASK_DUE_DATE='<span style="color: #006699; font-weight: bold;">$endDate</span>' WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND DEL_INDEX=<span style="color: #006699; font-weight: bold;">$index</span>&quot;</span><span style="color: #339933;">;</span><br />
executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$sql</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Derivation_class">Derivation class</span></h2>
<p>Class to manipulate the routing (derivation) of cases to the next task(s) in the process and is defined in <strong><tt>workflow/engine/classes/class.derivation.php</tt></strong>.</p>

<h3><span id="Derivation::getAllUsersFromAnyTask.28.29">Derivation::getAllUsersFromAnyTask()</span></h3>
<p><tt>Derivation::getAllUsersFromAnyTask()</tt> returns an array of unique IDs for the users assigned to a task.</p>

<codeblock><i>array</i> <strong>Derivation::getAllUsersFromAnyTask</strong>(<i>string</i> $sTasUid, $flagIncludeAdHocUsers=false);
</codeblock>

<p><strong>Parameters:</strong></p>
<ul>
<li><tt><i>string</i> <strong>$sTasUid</strong>:</tt> The unique ID for a task.</li>
<li><tt><i>boolean</i> <strong>$flagIncludeAdHocUsers</strong>:</tt> Set to <code>true</code> to include users which are assigned Ad Hoc to the task. Default is <code>false</code>.</li>
</ul>
<p><strong>Return Value:</strong><br>An array of unique IDs for users assigned to the task, ordered by the UIDs. Note that the function will also return users who are assigned to the task through groups. Duplicate UIDs will be eliminated.</p>
<p><strong>Example:</strong><br>If the case variable <tt>@@cantHandleCase</tt> is <tt>true</tt>, send an email to all the other users assigned to the current task, asking them to take the case because the currently designated user can't handle it.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>cantHandleCase<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//G::LoadClass('derivation'); //not necessary in triggers</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Derivation<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$users</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getAllUsersFromAnyTask</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>TASK<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$to</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">foreach</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$users</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$user</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aUser</span> <span style="color: #339933;">=</span> userInfo<span style="color: #009900;">&#40;</span><span style="color: #000088;">$user</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$to</span> <span style="color: #339933;">.=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$to</span><span style="color: #009900;">&#41;</span> ? <span style="color: #0000ff;">''</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">', '</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$aUser</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'mail'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aCurUser</span> <span style="color: #339933;">=</span> userInfo<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #000088;">$aCurUser</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'mail'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$to</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp;<span style="color: #0000ff;">&quot;Can you handle this case?&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'unworkableCase.html'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Derivation::getDerivatedCases.28.29">Derivation::getDerivatedCases()</span></h3>
<p><tt>Derivation::getDerivatedCases()</tt> returns information about any subprocess cases that were created after a specified delegation index in a specified case. This function is used to find out which subprocess cases were created by a master case.</p>

<codeblock><i>array</i> <strong>Derivation::getDerivatedCases</strong>(<i>string</i> $sParentUid, <i>int</i> $sDelIndexParent)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sParentUid</strong>:</tt> The unique ID for the parent (master) case.</li><li><tt><i>int</i> <strong>$sDelIndexParent</strong>:</tt> The delegation index for the parent (master) case.</li></ul>
<p><strong>Return Value:</strong><br>An array of associative arrays that contains information about the subprocess case(s) created after a specified delegation index in a master case. If no subprocess cases were created, then returns an empty array.<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt>[0]: <i>array</i> (</tt>
        <dl>
            <dd><tt><i>string</i> <strong>["processId"]</strong>:</tt> The unique ID of the subprocess.</dd>
            <dd><tt><i>string</i> <strong>["processTitle"]</strong>:</tt> The title of the subprocess</dd>
            <dd><tt><i>string</i> <strong>["caseId"]</strong>:</tt> The unique ID of the subprocess case.</dd>
            <dd><tt><i>int</i> <strong>["caseNumber"]</strong>:</tt> The case number of the subprocess case.</dd>
            <dd><tt><i>string</i> <strong>["taskId"]</strong>:</tt> The unique ID of the initial task in the subprocess
                case.
            </dd>
            <dd><tt><i>string</i> <strong>["taskTitle"]</strong>:</tt> The title of the initial task in the subprocess
                case.
            </dd>
            <dd><tt><i>string</i> <strong>["userId"]</strong>:</tt> The unique ID of the user designated to the initial
                task in the subprocess case.</dd>
            <dd><tt><i>string</i> <strong>["userName"]</strong>:</tt> The username of the user designated to the initial
                task in the subprocess case.</dd>
            <dd><tt><i>string</i> <strong>["userFullname"]</strong>:</tt> The first and last name (separated by a space)
                of the user designated to the initial task in the subprocess case.</dd>
        </dl>
    </dd>
    <dd><tt>)</tt></dd>
    <dd><tt>[1]</tt></dd>
    <dd><tt>...</tt></dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>Send an email to the current user of a master case about a subprocess case that was created after the second task in the process.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//G::LoadClass('derivation'); //not necessary in triggers</span><br />
<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Derivation<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aSubcases</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getDerivatedCases</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aData</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'process'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aSubcases</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'processTitle'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'task'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aSubcases</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'taskTitle'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$from</span> <span style="color: #339933;">=</span> userInfo<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'mail'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aUserTo</span> <span style="color: #339933;">=</span> userInfo<span style="color: #009900;">&#40;</span><span style="color: #000088;">$aSubcases</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;userId&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$subject</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'Keep me apprised about case #'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$aSubcases</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'caseNumber'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #000088;">$from</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aUserTo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'mail'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #000088;">$title</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'subcase.html'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aData</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Derivation::setTasLastAssigned.28.29">Derivation::setTasLastAssigned()</span></h3>
<p><tt>Derivation::setTasLastAssigned()</tt> sets the user who was last designated to work on a task, so tasks that use cyclical assignment will select the next user in the list returned by <a href="#Derivation::getAllUsersFromAnyTask.28.29">Derivation::getAllUsersFromAnyTask()</a>. This function writes the user's unique ID to the <strong><tt>wf_&lt;wORKSPACE&gt;.TASK.TAS_LAST_ASSIGNED</tt></strong> field in the database.</p>

<codeblock><i>void</i> <strong>Derivation::setTasLastAssigned</strong>(<i>string</i> $tasUid, <i>string</i> $usrUid)</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$tasUid</strong>:</tt> The unique ID for the task.</li><li><tt><i>int</i> <strong>$usrUid</strong>:</tt> The unique ID for the user who will be set as the last user for the task.</li></ul>
<p><strong>Return Value:</strong><br>None.</p>
<p><strong>Example:</strong><br>The next task in the process uses cyclical assignment, but in some special cases the user working on the current task should also be designated to work on the next task as well, so normal cyclical assignment shouldn't occur. To force the current user to be assigned to the next task, first use Derivation::getAllUsersFromAnyTask() to get a list of the users and find where the current user is in the list. Then, set the user before the current user in the list as the last one to work on the task with Derivation::setTasLastAssigned(). That way PMFDerivateCase() will assign the current user as the next user when it routes the case.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>continueWorkingOnCase<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$nextTask</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'1095301964f75dc9c223865073314383'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to the UID of the next task in the process</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//G::LoadClass('derivation'); //not necessary in triggers</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Derivation<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aUsers</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getAllUsersFromAnyTask</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$nextTask</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$prevUserIndex</span> <span style="color: #339933;">=</span> <a href="http://php.net/array_search"><span style="color: #990000;">array_search</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span> <span style="color: #339933;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//get the user before the current user</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$prevUserIndex</span> <span style="color: #339933;">&lt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #666666; font-style: italic;">//if current user is at the start of the array, then set to user at end of array</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000088;">$prevUserIndex</span> <span style="color: #339933;">=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">-</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//subtract one because arrays start counting from zero</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setTasLastAssigned</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$nextTask</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$prevUserIndex</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;PMFDerivateCase<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h2><span id="Department_class">Department class</span></h2>
<p>The <tt>Department</tt> class is defined in <strong><tt>workflow/engine/classes/model/Department.php</tt></strong> and is used to manipulate <a href="../3.0/Managing_Users.html#Departments_and_Sub-Departments">departments</a> in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.DEPARTMENT</tt></strong> table in the database.</p>
<h3><span id="Department::Load.28.29">Department::Load()</span></h3>
<p><tt>Department::Load()</tt> returns information about a department.</p>

<codeblock><i>array</i> <strong>Department::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of a department, which can be found in the following ways:
<ul><li>Use the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#taskList.28.29" title="3.0/ProcessMaker WSDL Web Services">departmentList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.DEPARTMENT.DEP_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='DEPO_TITLE'</tt></li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["DEP_UID"]</strong></tt>: The unique ID of the department.</dd>
    <dd><tt><i>string</i> <strong>["DEP_PARENT"]</strong></tt>: The unique ID of the parent department. If no parent,
        then set to <tt>""</tt> (an empty string).</dd>
    <dd><tt><i>string</i> <strong>["DEP_MANAGER"]</strong></tt>: The unique ID of the user who is the manager/supervisor
        of the department.</dd>
    <dd><tt><i>int</i> <strong>["DEP_LOCATION"]</strong></tt>: Always set to <tt>0</tt>.</dd>
    <dd><tt><i>string</i> <strong>["DEP_STATUS"]</strong></tt>: The department's status, which can be <tt>"ACTIVE"</tt>        or <tt>"INACTIVE"</tt>. If <tt>"INACTIVE"</tt>, then no additional users can be assigned to the department
        and "reports to" designation rules don't work with the department.</dd>
    <dd><tt><i>string</i> <strong>["DEP_REF_CODE"]</strong></tt>: Generally set to <tt>""</tt> (empty string).</dd>
    <dd><tt><i>string</i> <strong>["DEP_LDAP_DN"]</strong></tt>: The distinguished name of the department, if the department
        was imported from an <a href="../index.php/2.0/External_Authentication.html" title="External User Authentication">external authentication source</a>,
        which is an option with the <a href="../3.0/ProcessMaker_-_AdvancedLDAP.html" title="ProcessMaker - AdvancedLDAP">AdvancedLDAP</a>        plugin.</dd>
    <dd><tt><i>string</i> <strong>["DEPO_TITLE"]</strong></tt>: The title of the department.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/Department.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Department<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'8101511234f49104398ac93051053581'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>depoTitle <span style="color: #339933;">=</span> <span style="color: #000088;">$aInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;DEPO_TITLE&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Department::getDepartmentsForUser.28.29">Department::getDepartmentsForUser()</span></h3>

<codeblock><strong>Department::getDepartmentsForUser</strong>(<i>string</i> $userUid)
</codeblock>

<h3><span id="Department::getAllDepartmentsByUser.28.29">Department::getAllDepartmentsByUser()</span></h3>

<codeblock><strong>getAllDepartmentsByUser</strong>()
</codeblock>

<h3><span id="Department::removeUserFromDepartment.28.29">Department::removeUserFromDepartment()</span></h3>

<codeblock><strong>removeUserFromDepartment</strong>(<i>string</i> $DepUid, <i>string</i> $UsrUid)
</codeblock>

<h3><span id="Department::addUserToDepartment.28.29">Department::addUserToDepartment()</span></h3>
<p><tt>Department::addUserToDepartment()</tt> adds a user to a department, with an option to sync all about manager info</p>

<codeblock><strong>addUserToDepartment</strong>(<i>string</i> $depId, <i>string</i> $userId, <i>string</i> $manager, <i>boolean</i> $updateManager = false)
</codeblock>

<h3><span id="Department::updateDepartmentManager.28.29">Department::updateDepartmentManager()</span></h3>

<codeblock><strong>updateDepartmentManager</strong>()
</codeblock>

<h2><span id="Dynaform_class">Dynaform class</span></h2>
<p>The <tt>Dynaform</tt> class is defined in <strong><tt>workflow/engine/classes/model/Dynaform.php</tt></strong> and is used to manipulate <a href="../3.0/DynaForms-2.html" title="DynaForms">Dynaforms</a> in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.DYNAFORM</tt></strong> table in the database.</p>
<h3><span id="Dynaform::Load.28.29">Dynaform::Load()</span></h3>
<p><tt>Dynaform::Load()</tt> returns information about a task.</p>

<codeblock><i>array</i> <strong>Dynaform::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of a Dynaform, which can be found in the following ways:
<ul><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.DYNAFORM.DYN_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='DYN_TITLE'</tt></li></ul>
</li>
</ul>

<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i>(</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["DYN_UID"]</strong></tt>: The unique ID of the Dynaform.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID of the process that contains the Dynaform.</dd>
    <dd><tt><i>string</i> <strong>["DYN_TYPE"]</strong></tt>: The Dynaform type, which is <tt>"grid"</tt> or <tt>"xmlform"</tt>        (for a master form).</dd>
    <dd><tt><i>string</i> <strong>["DYN_FILENAME"]</strong></tt>: The filename (without the extension) where the XML
        code and HTML code is stored in the file system. The filename consists of the process UID and Dynaform
        UID separted by a <tt>"/"</tt> (forward slash). For example: <tt>"7766592404f358fb90dcdc9043579725/6876293754f358fcb61d704036851199"</tt></dd>
    <dd><tt><i>string</i> <strong>["DYN_TITLE"]</strong></tt>: The title of the Dynaform</dd>
    <dd><tt><i>string</i> <strong>["DYN_DESCRIPTION"]</strong></tt>: The description of the Dynaform.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Dynaform<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'6876293754f358fcb61d704036851199'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>dynaTitle <span style="color: #339933;">=</span> <span style="color: #000088;">$aInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;DYN_TITLE&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>


<h2><span id="Event_class">Event class</span></h2>
<p>The <tt>Event</tt> class is defined in <strong><tt>workflow/engine/classes/model/Event.php</tt></strong> and is used to manipulate event definitions in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.EVENT</tt></strong> table in the database.</p>
<h3><span id="Event::Load.28.29">Event::Load()</span></h3>
<p><tt><i>array</i>(</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["EVN_UID"]</strong></tt>: The unique ID of the event.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID of the process.</dd>
    <dd><tt><i>string</i> <strong>["EVN_STATUS"]</strong></tt>: The event's status, which can be <tt>"ACTIVE"</tt>        or <tt>"INACTIVE"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["EVN_WHEN_OCCURS"]</strong></tt>: When the event is timed to occur, which can be
        <tt>"SINGLE"</tt>, <tt>"AFTER_TIME"</tt>, or <tt>"TASK_STARTED"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["EVN_RELATED_TO"]</strong></tt>: Set to <tt>"SINGLE"</tt> if the event timing is
        based on a single task or <tt>"MULTIPLE"</tt> if based on multiple tasks.</dd>
    <dd><tt><i>string</i> <strong>["TAS_UID"]</strong></tt>: If <tt>EVN_RELATED_TO</tt> is <tt>"SINGLE"</tt>, then
        TAS_UID is the unique ID of the task where the event timing starts.</dd>
    <dd><tt><i>string</i> <strong>["EVN_TAS_UID_FROM"]</strong></tt>: If <tt>EVN_RELATED_TO</tt> is <tt>"MULTIPLE"</tt>,
        then EVN_TAS_UID_FROM is the unique ID of the task where the event timing starts.</dd>
    <dd><tt><i>string</i> <strong>["EVN_TAS_UID_TO"]</strong></tt>: If <tt>EVN_RELATED_TO</tt> is <tt>"MULTIPLE"</tt>,
        then EVN_TAS_UID_TO is the unique ID of the task where the event timing stops.</dd>
    <dd><tt><i>float</i> <strong>["EVN_TAS_ESTIMATED_DURATION"]</strong></tt>: The estimated duration of the task in
        days.
    </dd>
    <dd><tt><i>float</i> <strong>["EVN_WHEN"]</strong></tt>: The time in days when the event will fire.</dd>
    <dd><tt><i>int</i> <strong>["EVN_MAX_ATTEMPTS"]</strong></tt>: The number of maximum attempts permitted to fire
        the event. This is 3 by default.</dd>
    <dd><tt><i>string</i> <strong>["EVN_ACTION"]</strong></tt>: The event action, which can be <tt>"SEND_MESSAGE"</tt>or
        <tt>"EXECUTE_CONDITIONAL_TRIGGER"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["EVN_CONDITIONS"]</strong></tt>: The text of a condition. The event will only fire
        if it evaluates to <tt>true</tt>.</dd>
    <dd><tt><i>string</i> <strong>["EVN_ACTION_PARAMETERS"]</strong></tt>: Additional information. If a message event,
        it will contain a <tt>stdClass</tt> object to define the message:</dd>
    <dd><tt><i>object stdClass</i> {</tt>
        <dl>
            <dd><tt><i>string</i> <strong>["hash"]</strong></tt>: An MD5 hash of the text in the message's template.</dd>
            <dd><tt><i>string</i> <strong>["SUBJECT"]</strong></tt>: The subject line of the message.</dd>
            <dd><tt><i>array</i> <strong>["TO"]</strong></tt>: <tt>(</tt>
                <dl>
                    <dd><tt><i>string</i> [0]</tt>: First recipient. Ex: <tt>"usr|-1"</tt></dd>
                    <dd><tt>...</tt></dd>
                    <dd><tt>)</tt></dd>
                </dl>
            </dd>
            <dd><tt><i>array</i> <strong>["CC"]</strong></tt>: <tt>(</tt>
                <dl>
                    <dd><tt><i>string</i> [0]</tt>: First recipient. Ex: <tt>"usr|-1"</tt></dd>
                    <dd><tt>...</tt></dd>
                    <dd><tt>)</tt></dd>
                </dl>
            </dd>
            <dd><tt><i>array</i> <strong>["BCC"]</strong></tt>: <tt>(</tt>
                <dl>
                    <dd><tt><i>string</i> [0]</tt>: First recipient. Ex: <tt>"usr|-1"</tt></dd>
                    <dd><tt>...</tt></dd>
                    <dd><tt>)</tt></dd>
                </dl>
            </dd>
            <dd><tt><i>string</i> <strong>["TEMPLATE"]</strong></tt>: The filename of the template, which should be
                located in the <a href="../3.0/Process_Files_Manager.html" title="Process Files Manager">Process Files Manager</a>'s
                public directory.</dd>
        </dl>
    </dd>
    <dd><tt>}</tt></dd>
    <dd><tt><i>string</i> <strong>["TRI_UID"]</strong></tt>: Unique ID of trigger fired by the event.</dd>
    <dd><tt><i>string</i> <strong>["EVN_POSX"]</strong></tt>: The X position of the event, which is always set to 0.</dd>
    <dd><tt><i>string</i> <strong>["EVN_POSY"]</strong></tt>: The Y position of the event, which is always set to 0.</dd>
    <dd><tt><i>string</i> <strong>["EVN_TYPE"]</strong></tt>: The event type.</dd>
    <dd><tt><i>string</i> <strong>["TAS_EVN_UID"]</strong></tt>: The unique ID of the task.</dd>
    <dd><tt><i>string</i> <strong>["EVN_DESCRIPTION"]</strong></tt>: Event description.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'classes/model/Event.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$m</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Event<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$e</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'8986670624f4a4942c59228059263437'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>


<h2><span id="Groups_class">Groups class</span></h2>
<p>The <tt>Groups</tt> class is defined in <strong><tt>workflow/engine/classes/class.groups.php</tt></strong> and is used to manipulate groups in ProcessMaker.</p>
<h3><span id="Groups::getUsersOfGroup.28.29">Groups::getUsersOfGroup()</span></h3>
<p>Get the assigned users of a group.</p>

<codeblock><i>array</i> <strong>Groups::getUsersOfGroup</strong>(<i>string</i> $sGroupUID)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sGroupUID</strong></tt>: The unique ID of a group, which can be found in the following ways:
<ul><li>Use the <a href="../3.0/ProcessMaker_Functions.html#PMFGroupList.28.29">PMFGroupList()</a> or <a href="../index.php/Simple_Trigger_Web_Services.html#WSGroupList" title="Simple Trigger Web Services">WSGroupList()</a> functions or the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#groupList.28.29" title="3.0/ProcessMaker WSDL Web Services">groupList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.GROUPWF.GRP_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='GRP_TITLE'</tt></li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An array of associative arrays with information about each user in the group:<br><tt><i>array</i>(</tt></p>
<dl>
    <dd><tt><i>int</i> [0]: <i>array</i>(</tt>
        <dl>
            <dd><tt><i>string</i> <strong>["USR_UID"]</strong></tt>: The user's unique ID.</dd>
            <dd><tt><i>string</i> <strong>["USR_USERNAME"]</strong></tt>: The user's username, which must be unique
                and is case insensitive.</dd>
            <dd><tt><i>string</i> <strong>["USR_PASSWORD"]</strong></tt>: An MD5 hash of the user's password,</dd>
            <dd><tt><i>string</i> <strong>["USR_FIRSTNAME"]</strong></tt>: The user's first name. Up to 50 characters
                long.
            </dd>
            <dd><tt><i>string</i> <strong>["USR_LASTNAME"]</strong></tt>: The user's last name. Up to 50 characters
                long.
            </dd>
            <dd><tt><i>string</i> <strong>["USR_EMAIL"]</strong></tt>: The user's email address. Up to 100 characters
                long.
            </dd>
            <dd><tt><i>string</i> <strong>["USR_DUE_DATE"]</strong></tt>: The date when the user's account is set to
                expire in the <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
            <dd><tt><i>string</i> <strong>["USR_CREATE_DATE"]</strong></tt>: The datetime when the user's profile was
                first created in the <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
            <dd><tt><i>string</i> <strong>["USR_UPDATE_DATE"]</strong></tt>: The datetime when the user's profile was
                last updated in the <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
            <dd><tt><i>string</i> <strong>["USR_STATUS"]</strong></tt>: The user's status, which can be: <tt>"ACTIVE"</tt>,
                <tt>"INACTIVE"</tt> or <tt>"ON_VACATION"</tt>. Only users with <tt>"ACTIVE"</tt> status can login
                to the system.</dd>
            <dd><tt><i>string</i> <strong>["USR_COUNTRY"]</strong></tt>: A 2 character code to identify the user's
                country. To find the full name of the country, do a search in the <strong><tt>wf_&lt;WORKSPACE&gt;.ISO_COUNTRY</tt></strong>                table.</dd>
            <dd><tt><i>string</i> <strong>["USR_CITY"]</strong></tt>: This element (which is misnamed), is a 1-3 character
                code for the region or state. To find the full name of the region or state, do a search in the
                <strong><tt>wf_&lt;WORKSPACE&gt;.ISO_SUBDIVISION</tt></strong> table.</dd>
            <dd><tt><i>string</i> <strong>["USR_LOCATION"]</strong></tt>: A 3 character code for the location (which
                is generally a city or county). To find the full name of the location, do a search in the <strong><tt>wf_&lt;WORKSPACE&gt;.ISO_LOCATION</tt></strong>                table.</dd>
            <dd><tt><i>string</i> <strong>["USR_ADDRESS"]</strong></tt>: The address. Up to 255 characters long.</dd>
            <dd><tt><i>string</i> <strong>["USR_PHONE"]</strong></tt>: The telephone number. Up to 24 characters long.</dd>
            <dd><tt><i>string</i> <strong>["USR_FAX"]</strong></tt>: The fax number. Up to 24 characters long.</dd>
            <dd><tt><i>string</i> <strong>["USR_CELLULAR"]</strong></tt>: The cellular telephone number. Up to 24 characters
                long.
            </dd>
            <dd><tt><i>string</i> <strong>["USR_ZIP_CODE"]</strong></tt>: The postal code or zip code. Up to 16 characters
                long.
            </dd>
            <dd><tt><i>string</i> <strong>["DEP_UID"]</strong></tt>: The unique ID for the user's department.</dd>
            <dd><tt><i>string</i> <strong>["USR_POSITION"]</strong></tt>: The user's position. Up to 100 characters
                long.
            </dd>
            <dd><tt><i>string</i> <strong>["USR_RESUME"]</strong></tt>: No longer used in version 3. In ProcessMaker
                2, some versions allow uploading a resume file, of which the first 100 characters are displayed.</dd>
            <dd><tt><i>string</i> <strong>["USR_BIRTHDAY"]</strong></tt>: The date of the user's birthday in the <tt>"YYYY-MM-DD"</tt>                format.</dd>
            <dd><tt><i>string</i> <strong>["USR_ROLE"]</strong></tt>: The name of the role.</dd>
            <dd><tt><i>string</i> <strong>["USR_REPORTS_TO"]</strong></tt>: The unique ID for the user who the user
                reports to, i.e., the user's department manager.</dd>
            <dd><tt><i>string</i> <strong>["USR_REPLACED_BY"]</strong></tt>: The unique ID for the user who replaces
                this user when going on vacation or leave.</dd>
            <dd><tt><i>string</i> <strong>["USR_UX"]</strong></tt>: The <a href="../3.0/Skins.html#User_Experience_Skin" title="3.0/User Experience">User Experience</a>                interface for the user, which can be: <tt>"NORMAL"</tt>, <tt>"SIMPLIFIED"</tt> or <tt>"SWITCHABLE"</tt>.
                The simplified interface is designed for smartphones and mobile devices, which use less screen
                space and use finger touches and no right clicks.</dd>
        </dl>
    </dd>
    <dd><tt>)</tt></dd>
    <dd><tt><i>int</i> [1]: array (</tt>
        <dl>
            <dd><tt>...</tt></dd>
        </dl>
    </dd>
    <dd><tt>)</tt></dd>
    <dd><tt>...</tt></dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>Send an email to all members of a group.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;groups&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groups<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aUsers</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getUsersOfGroup</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'2509613254f466254cdcf07067330602'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$to</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$to</span> <span style="color: #339933;">.=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$to</span><span style="color: #009900;">&#41;</span> ? <span style="color: #0000ff;">''</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">', '</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$aUsers</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_EMAIL'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #0000ff;">'boss@example.com'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$to</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'Upcoming Project Meeting'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'meetingTemplate.html'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Groups::getActiveGroupsForAnUser.28.29">Groups::getActiveGroupsForAnUser()</span></h3>
<p><tt>Groups::getActiveGroupsForAnUser()</tt> returns a list of the groups to which a specified user is assigned. It only returns groups that have an <i>active</i> status.</p>

<codeblock><i>array</i> <strong>Groups::getActiveGroupsForAnUser</strong>(<i>string</i> $sUserUID)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sUserUID</strong></tt>: The unique ID of a user.</li></ul>
<p><strong>Return Value:</strong><br>An array of group unique IDs.</p>
<p><strong>Example:</strong><br>Display a list of groups for the current user in a Dynaform grid named "groupsGrid", which contains the fields "uid" and "groupName".</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;groups&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">&quot;classes/model/Groupwf.php&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groups<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aGroups</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getActiveGroupsForAnUser</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>groupsGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aGroups</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$oGroupwf</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groupwf<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aGroupwf</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$oGroupwf</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aGroups</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//add 1 because grids start counting from 1, not 0</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>groupsGrid<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;uid&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aGroups</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;groupName&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aGroupwf</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'GRP_TITLE'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Groups::getGroupsForUser.28.29">Groups::getGroupsForUser()</span></h3>
<p><tt>Groups::getGroupsForUser()</tt> returns a list of groups to which a specified user is assigned. It is like <tt>Groups::getActiveGroupsForAnUser()</tt>, but it returns an associative array of information about the group. Note that is only returns groups that have an <i>active</i> status.</p>

<codeblock><i>array</i> <strong>Groups::getActiveGroupsForAnUser</strong>(<i>string</i> $usrUid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$usrUid</strong></tt>: The unique ID of a user.</li></ul>
<p><strong>Return Value:</strong><br>An associative array of associative arrays with information about the groups. The outer associative array has keys which group unique IDs.<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["<i>GROUP-UID-1</i>"]</strong>:</tt> The unique ID of the first group.
        <dl>
            <dd><tt><i>array</i> (</tt>
                <dl>
                    <dd><tt><i>string</i> <strong>["GRP_UID"]</strong>:</tt> The group's unique ID.</dd>
                    <dd><tt><i>string</i> <strong>["GRP_STATUS"]</strong>:</tt> The group's status, which can only
                        be "ACTIVE", since searching for "ACTIVE" groups.</dd>
                    <dd><tt><i>string</i> <strong>["CON_VALUE"]</strong>:</tt> The group's title, which is looked up
                        in the <strong><tt>wf_&lt;WORKSPACE&gt;.CONTENT.CON_VALUE</tt></strong> table.</dd>
                </dl>
            </dd>
            <dd><tt>)</tt></dd>
        </dl>
    </dd>
    <dd><tt><i>string</i> <strong>["<i>GROUP-UID-2</i>"]</strong>:</tt> The unique ID of the second group.</dd>
    <dd><tt>...</tt></dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>Display a list of groups for the current user in a Dynaform grid named "groupsGrid", which contains the fields "uid" and "groupName".</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;groups&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groups<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aGroups</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getGroupsForUser</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@=</span>groupsGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$cnt</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aGroups</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$groupUid</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aGroup</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>groupsGrid<span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;uid&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$groupUid</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;groupName&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aGroup</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CON_VALUE'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$cnt</span><span style="color: #339933;">++;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Groups::verifyUserToGroup.28.29">Groups::verifyUserToGroup()</span></h3>
<p><tt>Groups::verifyUsertoGroup()</tt> verifies whether a specified user is a member of a specified group.</p>

<codeblock><i>int</i> <strong>Groups::verifyUsertoGroup</strong>(<i>string</i> $GrpUid, <i>string</i> $UsrUid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$GrpUid</strong>:</tt> The unique ID of a group.</li><li><tt><i>string</i> <strong>$UsrUID</strong>:</tt> The unique ID of a user.</li></ul>
<p><strong>Return Value:</strong><br>Returns <tt>1</tt> if the user is a member of the group. Otherwise returns <tt>0</tt>.</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> This method does not check whether the group and user have active status, so there is no guarantee that the user or group can be used after the user is added to it.</font></p>
<p><strong>Example:</strong><br>If the current user is a member of a group named "Employees", then set @@canHandleTask to "yes", which is a variable used in a subsequent condition in an evaluation routing rule. Look up the unique ID for the "Employees" group in the <strong><tt>wf_&lt;WORKSPACE&gt;.CONTENT</tt></strong> table.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>canHandleTask <span style="color: #339933;">=</span> <span style="color: #0000ff;">'no'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$groupName</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Employees&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT CON_ID FROM CONTENT WHERE CON_VALUE='<span style="color: #006699; font-weight: bold;">$groupName</span>' AND CON_CATEGORY='GRP_TITLE'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$groupUID</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CON_ID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;groups&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groups<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">verifyUserToGroup</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$groupUID</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #339933;">@@</span>canHandleTask <span style="color: #339933;">=</span> <span style="color: #0000ff;">'yes'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Groups::addUserToGroup.28.29">Groups::addUserToGroup()</span></h3>
<p><tt>Groups::addUserToGroup()</tt> adds a user to a group.</p>

<codeblock><i>void</i> <strong>Groups::addUserToGroup</strong>(<i>string</i> $GrpUid, <i>string</i> $UsrUid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$GrpUid</strong>:</tt> The unique ID of a group.</li><li><tt><i>string</i> <strong>$sUserUID</strong>:</tt> The unique ID of the user who will be added to the group.</li></ul>
<p><strong>Return Value:</strong><br>None.</p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> This method does not check whether the group and user have <i>active</i> status, so there is no guarantee that the user or group can be used after the user is added to it.</font></p>
<p><strong>Example:</strong><br>Add the current user to a group named "Employees"; the group's unique ID can be looked up in the wf_&lt;WORKSPACE&gt;.CONTENT table.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$groupName</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Employees&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT CON_ID FROM CONTENT WHERE CON_VALUE='<span style="color: #006699; font-weight: bold;">$groupName</span>' AND CON_CATEGORY='GRP_TITLE'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$groupUID</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CON_ID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;groups&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groups<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addUserToGroup</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$groupUID</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Groups::removeUserOfGroup.28.29">Groups::removeUserOfGroup()</span></h3>
<p><tt>Groups::removeUserOfGroup()</tt> deletes a specified user from a specified group.</p>

<codeblock><i>void</i> <strong>Groups::removeUserOfAllGroups</strong>(<i>string</i> $GrpUid, <i>string</i> $UsrUid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$GrpUid</strong>:</tt> The unique ID of a group.</li><li><tt><i>string</i> <strong>$UsrUid</strong>:</tt> The unique ID of the user who will be removed from the group.</li></ul>
<p><strong>Return Value:</strong><br>None.</p>
<p><strong>Example:</strong><br>Remove the current user to a group named "Employees"; the group's unique ID can be looked up in the wf_&lt;WORKSPACE&gt;.CONTENT table.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$groupName</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Employees&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT CON_ID FROM CONTENT WHERE CON_VALUE='<span style="color: #006699; font-weight: bold;">$groupName</span>' AND CON_CATEGORY='GRP_TITLE'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$result</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$groupUID</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CON_ID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;groups&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groups<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">removeUserOfGroup</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$groupUID</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h3><span id="Groups::removeUserOfAllGroups.28.29">Groups::removeUserOfAllGroups()</span></h3>
<p><tt>Groups::removeUserOfAllGroups()</tt> deletes a specified user from all groups.</p>

<codeblock><i>void</i> <strong>Groups::removeUserOfAllGroups</strong>(<i>string</i> $sUserUID = <i>)</i>
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sUserUID</strong>:</tt> The unique ID of the user who will be removed from all groups.</li></ul>
<p><strong>Return Value:</strong><br>None.</p>
<p><strong>Example:</strong><br>Remove the current user from all the groups that the user is assigned to.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;groups&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groups<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">removeUserOfAllGroups</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Groupwf_class">Groupwf class</span></h2>
<p>The <tt>Groupwf</tt> class is defined in <strong><tt>workflow/engine/classes/model/Groupwf.php</tt></strong> and is used to manipulate groups in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.GROUPWF</tt></strong> table in the database.</p>
<h3><span id="Groupwf::Load.28.29">Groupwf::Load()</span></h3>
<p><tt>Groupwf::Load()</tt> returns information about a group.</p>

<codeblock><i>array</i> <strong>Groupwf::Load</strong>(<i>string</i> $GrpUid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>GrpUid</strong></tt>: The unique ID of a group, which can be found in the following ways:
<ul><li>Use the <a href="../3.0/ProcessMaker_Functions.html#PMFGroupList.28.29">PMFGroupList()</a> or <a href="../index.php/Simple_Trigger_Web_Services.html#WSGroupList" title="Simple Trigger Web Services">WSGroupList()</a> functions or the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#groupList.28.29" title="3.0/ProcessMaker WSDL Web Services">groupList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.GROUPWF.GRP_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='GRP_TITLE'</tt></li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["GRP_UID"]</strong></tt>: The unique ID of the group.</dd>
    <dd><tt><i>string</i> <strong>["GRP_STATUS"]</strong></tt>: The group's status, which can be <tt>"ACTIVE"</tt>        or <tt>"INACTIVE"</tt>. If <tt>"INACTIVE"</tt>, then no additional users can be assigned to the group and
        <a href="../3.0/Tasks.html#Assignment_Rules" title="3.0/Tasks">designation rules</a> don't work with the group.</dd>
    <dd><tt><i>string</i> <strong>["GRP_LDAP_DN"]</strong></tt>: The distinguished name of the group, if the group
        was imported from an <a href="../index.php/2.0/External_Authentication.html" title="External User Authentication">external authentication source</a>,
        which is an option with the <a href="../3.0/ProcessMaker_-_AdvancedLDAP.html" title="ProcessMaker - AdvancedLDAP">AdvancedLDAP</a>        plugin.</dd>
    <dd><tt><i>string</i> <strong>["GRP_UX"]</strong></tt>: The <a href="../3.0/Skins.html#User_Experience_Skin" title="3.0/User Experience">User Experience</a>        interface for the group, which can be: <tt>"NORMAL"</tt>, <tt>"SIMPLIFIED"</tt> or <tt>"SWITCHABLE"</tt>.
        The simplified interface is designed for smartphones and mobile devices, which use less screen space and
        use finger touches and no right clicks.</dd>
    <dd><tt><i>string</i> <strong>["GRP_TITLE"]</strong></tt>: The group's title.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">&quot;classes/model/Groupwf.php&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groupwf<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'8573568094f490cfa536733095924612'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>grpLdapDN <span style="color: #339933;">=</span> <span style="color: #000088;">$aInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'GRP_LDAP_DN'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Gulliver_Functions">Gulliver Functions</span></h2>
<p>Functions and objects defined in Gulliver (the PHP development framework used internally by ProcessMaker) can be called from within triggers by prepending <strong><tt>G::</tt></strong> to the function or class name. Most of Gulliver's functions are defined in the file <strong><tt>gulliver/system/class.g.php</tt></strong>.</p>

<h3><span id="G::LoadClass.28.29">G::LoadClass()</span></h3>
<p><tt>G::LoadClass()</tt> includes (<i>i.e.</i>, imports into the code using the <a href="http://www.php.net/manual/en/function.require-once.php">require_once()</a> function) a class definition file that is stored in the location <strong><tt>workflow/engine/classes/class.<i>CLASS-NAME</i>.php</tt></strong>. The code file will only be included if it hasn't already been included.</p>

<codeblock><i>variant</i> <strong>G::LoadClass</strong>(<i>string</i> $strClass)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$strClass</strong></tt>: The <strong><tt><i>CLASS-NAME</i></tt></strong> of the code file found at <strong><tt>workflow/engine/classes/class.<i>CLASS-NAME</i>.php</tt></strong>. Note that the <strong><tt><i>CLASS-NAME</i></tt></strong> is case sensitive and almost always starts in lowercase.</li></ul>

<p><strong>Return Value:</strong><br>If able to find or open the file, then it returns <tt>false</tt>. If the code file was successfully included and it doesn't have a <tt>return</tt> statement, then it returns 1. Otherwise, it returns the value of the <tt>return</tt> statement.</p>
<p><strong>Example:</strong><br>Import the <strong><tt>workflow/engine/classes/class.groups.php</tt></strong> code file. Then instantiate the <tt>Groups</tt> class found in that code file and call its <tt>Groups::getUsersOfGroup()</tt> method:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;groups&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Groups<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aMembers</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getUsersOfGroup</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'7829908124f71e129efde71096416574'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="G::LoadSystem.28.29">G::LoadSystem()</span></h3>
<p><tt>G::LoadSystem()</tt> includes (<i>i.e.</i>, imports into the code using the <a href="http://www.php.net/manual/en/function.require-once.php">require_once()</a> function) a Gulliver class definition file that is stored in the location <strong><tt>gulliver/system/class.<i>CLASS-NAME</i>.php</tt></strong>. The code file will only be included if it hasn't already been included.</p>

<codeblock><i>variant</i> <strong>G::LoadSystem</strong>(<i>string</i> $strClass)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$strClass</strong></tt>: The <strong><tt><i>CLASS-NAME</i></tt></strong> of the code file found at <strong><tt>gulliver/system/class.<i>CLASS-NAME</i>.php</tt></strong>. Note that the <strong><tt><i>CLASS-NAME</i></tt></strong> is case sensitive and almost always starts in lowercase.</li></ul>
<p><strong>Return Value:</strong><br>If able to find or open the file, then it returns <tt>false</tt>. If the code file was successfully included and it doesn't have a <tt>return</tt> statement, then it returns 1. Otherwise, it returns the value of the <tt>return</tt> statement.</p>
<p><strong>Example:</strong><br>Include the file <strong><tt>/gulliver/system/class.xmlform.php</tt></strong>:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadSystem</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'xmlform'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">//use a class from the imported file:</span><br />
<span style="color: #000088;">$oField</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> XmlForm_Field<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="G::header.28.29">G::header()</span></h3>
<p><tt>G::header()</tt> is a wrapper for PHP's <tt><a href="http://www.php.net/manual/en/function.header.php">header()</a></tt>  function, which sends raw HTTP headers. It can be used to redirect the browser to a different web page in ProcessMaker. Note that the G::header() function redirects to the current frame. To redirect to the top frame, see <a href="../3.0/Triggers.html#Browser_Redirection" title="Triggers">Browser Redirection</a>. If redirecting to a case or an element in a case such as Input Document, remember that the current logged-in user must have the proper permissions to access the <a href="../3.0/Cases.html">case</a> and its elements. A user can obtain write-access to a case and/or its elements if designated to work on a current task in the case or if a <a href="../3.0/Process_Supervisors.html">Process Supervisor</a>. A user can obtain read-access if given <a href="../3.0/Process_Permissions.html">Process Permissions</a>.

<codeblock><i>void</i> <strong>G::header</strong>(<i>string</i> $string)
</codeblock>

<p><strong>Parameters:</strong></p>
<p>
<ul>
<li>
<tt><i>string</i> <strong>string</strong></tt>: The header string. To do redirection to a different web page, use the string <tt>"Location: <i>&lt;URL&gt;</i>"</tt>. The URL can be a complete address such as <tt>"http://www.processmaker.com"</tt> or a relative address such as:</li></ul>

<dl>
<dd><tt>"Location: ../cases/cases_List"</tt>
	<dl><dd>Opens the case list for the user currently logged-in.</dd></dl>
</dd>
<dd><tt>"Location: ../cases/casesListExtJs"</tt>
	<dl><dd>Opens the case list using the new ExtJS interface (available in ProcessMaker v.2.0) for the currently logged-in user.</dd></dl>
</dd>
<dd><tt>"Location: ../cases/casesListExtJsRedirector"</tt>
	<dl><dd>Opens the case list using the new ExtJS interface in the parent frame of ProcessMaker v.2.0.</dd></dl>
</dd>
<dd><tt>"Location: ../cases/cases_New"</tt>
	<dl><dd>Opens the screen to select the process in which to start a new case.</dd></dl>
</dd>

<dd><tt>"Location: ../cases/cases_Open?APP_UID=<i><strong>&lt;CASE-UID&gt;</strong></i>&amp;DEL_INDEX=<i><strong>&lt;INDEX&gt;</strong></i>"</tt>
	<dl><dd>Opens a case in the task specified by the delegation index, as long as the current logged-in user has the proper privileges to open that case. The case is opened without the top-level menu bar or the cases sidebar, so the user is only able to see the specified case. Remember that a user must either be the user currently designated to work on the case or have <a href="../3.0/Process_Permissions.html" title="Process Permissions">Process Permissions</a> for read-only access to the case. (For write access, make the user a <a href="../3.0/Process_Supervisors.html" title="Process Supervisors">Process Supervisor</a>.) The <tt>APP_UID</tt> is the case unique ID and the <tt>DEL_INDEX</tt> is the delegation index, which is an positive integer counting the tasks in a process, starting from 1. Use the <tt>@@APPLICATION</tt> and <tt>@%INDEX</tt> system variables to get the case UID and delegation index for the current case. For other cases, these values can be looked up using the <a href="../3.0/ProcessMaker_Functions.html#PMFCaseList.28.29">PMFCaseList()</a> function,
the <tt><a href="../3.0/ProcessMaker_WSDL_Web_Services.html#caseList.28.29" title="ProcessMaker WSDL Web Services">caseList()</a></tt>
web service or <a href="../3.0/ProcessMaker_Functions.html#executeQuery.28.29" title="ProcessMaker Functions">querying</a> the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.APP_UID</tt></strong> and <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.DEL_INDEX</tt></strong> fields in the database.</dd></dl>
</dd>
<dd><tt>"Location: ../cases/cases_Open?APP_UID=<i><strong>&lt;CASE-UID&gt;</strong></i>&amp;DEL_INDEX=<i><strong>&lt;INDEX&gt;</strong></i>&amp;action=<i><strong>&lt;ACTION&gt;</strong></i>"</tt>
	<dl><dd>Just like the previous URL, this URL opens a case, but the URL includes the optional <tt>action</tt> GET variable. If <tt>action=sent</tt>, then it only displays a summary about the case. If <tt>action=search</tt>, then it searches for the case. If <tt>action=draft</tt>, then the case is opened to be worked on.</dd></dl>
</dd>
<dd><tt>"Location: ../cases/opencase/<i><strong>&lt;CASE-UID&gt;</strong></i>"</tt>
	<dl><dd><i>Available in version 3.0.1.8 and later.</i> Like the previous URL, this URL open an existing case, but it includes the top-level menu and cases sidebar. This URL does not allow the delegation index to be specified, so it opens the last open task or the case summary if the case is completed or cancelled.</dd></dl>
</dd>

<dd><tt>"Location: ../designer?prj_uid=<i><strong>&lt;PROCESS-UID&gt;</strong></i>&prj_readonly=true&app_uid=<i><strong>&lt;CASE-UID&gt;</strong></i>"</tt>
	<dl><dd>Add link to the process map.</dd></dl>
</dd>
</dl>
</p>


<p>After calling <tt>G::header()</tt> to redirect to a different web page, it is a good idea to call the <a href="http://www.php.net/manual/en/function.die.php">die()</a> function to terminate the trigger and prevent the next step in the task from being executed.</p>
<p><strong>Examples:</strong><br>To redirect to the case list for the user currently logged-in:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;location: cases_List&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>To redirect back to the first task in the current case:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;location: cases_Open?APP_UID=<span style="color: #006699; font-weight: bold;">$caseId</span>&amp;DEL_INDEX=1&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>This example opens the overdue case assigned to the logged-in user in the current process. If there are no overdue cases, then redirect back to the cases list:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$curDateTime</span> <span style="color: #339933;">=</span> getCurrentDate<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' '</span> <span style="color: #339933;">.</span> getCurrentTime<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$user</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$process</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>PROCESS<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT * FROM APP_DELEGATION WHERE USR_UID='<span style="color: #006699; font-weight: bold;">$user</span>' AND PRO_UID='<span style="color: #006699; font-weight: bold;">$process</span>' AND<br />
&nbsp; &nbsp;DEL_THREAD_STATUS='OPEN' AND DEL_TASK_DUE_DATE&gt;='<span style="color: #006699; font-weight: bold;">$curDateTime</span>'&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$res</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$res</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$res</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;=</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$case</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span>res<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$index</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#91;</span>res<span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DEL_INDEX'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;location: cases_Open?APP_UID=<span style="color: #006699; font-weight: bold;">$case</span>&amp;DEL_INDEX=<span style="color: #006699; font-weight: bold;">$index</span>&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;G<span style="color: #339933;">::</span><a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;location: cases_List&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="G::SendMessageText.28.29">G::SendMessageText()</span></h3>
<p><tt>G::SendMessageText()</tt> displays a message to the user on the next screen. The message will flash twice and then stay on the screen until the user continues onto the next screen. It will be displayed at the top of the frame in a color that depends on the type of message.</p>

<codeblock><i>void</i> <strong>G::SendMessageText</strong>(<i>string</i> $message, <i>string</i> $messageType)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$message</strong></tt>: The text to display to the user. The text can contain HTML markup, such as <tt>&lt;font color="green"&gt;...&lt;/font&gt;</tt> and <tt>&lt;br&gt;</tt> (line break).</li><li><tt><i>string</i> <strong>$messageType</strong></tt>: The type of message, which can be <tt>"ERROR"</tt>, <tt>"INFO"</tt> or <tt>"WARNING"</tt>. Any other value will be displayed as a warning. The words "ERROR: ", "Info: " or "WARNING: " will be prepended to the message text.
<ul><li>Error messages will be white text on a red background. Their style is determined by <tt>temporalMessageERROR</tt> in <strong><tt>style.css</tt></strong>.</li><li>Warnings messages will be black text on a yellow background. Their style is determined by <tt>temporalMessageWARNING</tt> in <strong><tt>style.css</tt></strong>.</li><li>Information messages will be black text on a grey background. Their style is determined by <tt>temporalMessageINFO</tt> in <strong><tt>style.css</tt></strong>.</li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>None.</p>
<p style="margin-left:25px"><strong><font color="green">Note 1:</font></strong><font color="dimgray"> Only one message can be displayed per frame, so don't try calling this function multiple times before a page is displayed.</font></p>
<p style="margin-left:25px"><strong><font color="green">Note 2:</font></strong><font color="dimgray"> If the next screen gets completely overwritten, then the message may not be displayed to the user. This may happen if calling <tt>G::SendMessageText()</tt> in a Trigger after a step. To be absolutely sure that the user will see a message, use PHP <a href="http://www.php.net/print">print</a> statements followed by <a href="http://php.net/die">die()</a> to stop ProcessMaker.</font></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;This case needs to be completed within the next 24 hours.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;WARNING&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="G::SendTemporalMessage.28.29">G::SendTemporalMessage()</span></h3>
<p><tt>G::SendTemporalMessage()</tt> displays a message to the user on the next screen. This method is similar to <a href="#G::SendMessageText.28.29">G::SendMessageText()</a>, but offers more options.</p>

<codeblock><i>void</i> <strong>SendTemporalMessage</strong>(<i>string</i> $msgID, <i>string</i> $strType, <i>string</i> $sType='LABEL', <i>int</i> $time=null, <i>variant</i> $width=null, <i>array</i> $customLabels=null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$msgID</strong></tt>: The content of the message. Either a custom string to display to the user (if <tt>$sType</tt> is set to <tt>"STRING"</tt>) or the message ID (if <tt>$sType</tt> is set to <tt>"LABEL"</tt> or <tt>"LABELS"</tt>). If a message ID that will be displayed in the current system language (if a translation is available). To see all the available message IDs, go to <strong>ADMIN &gt; Settings &gt; Language</strong>, select a language in the list and click on <strong>Export</strong>. Then open the PO translation file with a bare text editor. For more information, see <a href="../3.0/Translating_ProcessMaker.html" title="Translating ProcessMaker">Translating ProcessMaker</a> and <a href="../index.php/Customizing_Interface_Strings.html" title="Customizing Interface Strings">Customizing Interface Strings</a>. If a custom string, then it can contain HTML markup, such as <tt>&lt;font color="green"&gt;...&lt;/font&gt;</tt> and <tt>&lt;br&gt;</tt> (line break). Note that all new lines (<tt>"\n"</tt>) will automatically be replaced by HTML line breaks (<tt>&lt;br&gt;</tt>).</li><li><tt><i>string</i> <strong>$strType</strong></tt>: The type of message, which is case insensitive and can be one of the following options:
<ul><li><tt>"ERROR"</tt>: Prepends the word <tt>"ERROR: "</tt> to the message and appears as white text on a red background. Its style is determined by <tt>temporalMessageERROR</tt> in <strong><tt>style.css</tt></strong>.</li><li><tt>"TMP-ERROR"</tt>: The same as <tt>"ERROR"</tt>, but the message disappears from the screen after a certain amount of time.</li><li><tt>"WARNING"</tt>: Prepends the word <tt>"WARNING: "</tt> to the message and appears as black text on a yellow background. Its style is determined by <tt>temporalMessageWARNING</tt> in <strong><tt>style.css</tt></strong>.</li><li><tt>"TMP-WARNING"</tt>: The same as <tt>"WARNING"</tt>, but the message disappears from the screen after a certain amount of time.</li><li><tt>"INFO"</tt>: Prepends the word <tt>"Info: "</tt> to the message and appears as black text on a grey background. Its style is determined by <tt>temporalMessageINFO</tt> in <strong><tt>style.css</tt></strong>.</li><li><tt>"TMP-INFO"</tt>: The same as <tt>"TMP-INFO"</tt>, but the message disappears from the screen after a certain amount of time.</li></ul>
</li>
</ul>
<dl>
    <dd>Any other value will prepend the word <tt>"Info: "</tt> to the message, but will display with the <tt>temporalMessageWARNING</tt>        style. To customize how messages are handled, edit the files <strong><tt>workflow/engine/templates/publish.php</tt></strong>        and <strong><tt>workflow/engine/templates/publishBlank.php</tt></strong>.</dd>
</dl>
<ul><li><tt><i>string</i> <strong>$sType</strong></tt>: Set to <tt>"LABEL"</tt> or <tt>"LABELS"</tt> if the first parameter is a message ID which will be displayed in the current system language. Set to <tt>"STRING"</tt> if the first parameter is a custom string. This parameter is case insensitive and defaults to <tt>"LABEL"</tt> if not included.</li><li><tt><i>int</i> <strong>$time</strong></tt>: The amount of time in seconds that the message will be displayed to the user if <tt>$strType</tt> is set to <tt>"TMP-ERROR"</tt>, <tt>"TMP-WARNING"</tt> or <tt>"TMP-INFO"</tt>. If set to <tt>NULL</tt> or <tt>""</tt> (empty string), then the message will be displayed for the default 5 seconds.</li><li><tt><i>variant</i> <strong>$width</strong></tt>: The width of the message box as a percentage of the frame width. Can either be an integer such as <tt>70</tt> or a string such as <tt>"70%"</tt>. If not included or set to <tt>NULL</tt>, then set to 65% of the frame by default.</li><li><tt><i>array</i> <strong>$customLabels</strong></tt>: An associative array of custom labels to insert into the message. If the array key appears in the message as <tt>"{<i>array-key</i>}"</tt>, then it will be replaced by the value for that key. See the example below.</li></ul>
<p><strong>Return Value:</strong><br>None.</p>
<p style="margin-left:25px"><strong><font color="green">Note 1:</font></strong><font color="dimgray"> Only one message can be displayed per frame, so don't try calling this function multiple times before a page is displayed.</font></p>
<p style="margin-left:25px"><strong><font color="green">Note 2:</font></strong><font color="dimgray"> If the next screen gets completely overwritten, then the message may not be displayed to the user. This may happen if calling <tt>G::SendMessageText()</tt> in a Trigger after a step. To be absolutely sure that the user will see a message, use PHP <a href="http://www.php.net/print">print</a> statements followed by <a href="http://php.net/die">die()</a> to stop ProcessMaker.</font></p>
<p><strong>Example:</strong></p>
<ul><li>Display an information message in a trigger fired before a Dynaform step:</li></ul>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">SendTemporalMessage</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'ID_USER_HAVENT_RIGHTS_SYSTEM'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'info'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<ul><li>Display a custom error message for 3 seconds with the width set to "100%". Insert the variables in the custom message using the <tt>$customLabels</tt> parameter:</li></ul>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$msg</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;The user {username} can &lt;b&gt;not&lt;/b&gt; access case #{caseNumber}!&lt;br&gt;Ask for new Process Permissions.&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$c</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$c</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">loadCase</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aData</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;username&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>USR_USERNAME<span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;caseNumber&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_NUMBER'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
G<span style="color: #339933;">::</span><span style="color: #004000;">SendTemporalMessage</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$msg</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'tmp-error'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'string'</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">3</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'100%'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aData</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="G::LoadTranslation.28.29">G::LoadTranslation()</span></h3>
<p>Returns the translation for a message ID in the specified language, which is useful if designing triggers that can work in multi-lingual processes. See <a href="../index.php/Customizing_Interface_Strings.html" title="Customizing Interface Strings">Customizing Interface Strings</a>.</p>

<codeblock><i>string</i> <strong>G::LoadTranslation</strong>(<i>string</i> $msgID, <i>string</i> $lang = SYS_LANG, <i>array</i> $data = null)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$msgID</strong></tt>: A message ID to look up it's translation. Message IDs and their translations are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.TRANSLATION</tt></strong> database.</li></ul>
<dl>
    <dd>To see all the messages used by ProcessMaker, in the web browser go to:
        <dl>
            <dd><tt>http://&lt;IP-ADDRESS:PORT&gt;/sys&lt;WORKSPACE&gt;/en/&lt;SKIN&gt;/tools/updateTranslation</tt></dd>
        </dl>
    </dd>
    <dd>For example:
        <dl>
            <dd><span class="geshifilter"><code class="text geshifilter-text">http://192.168.1.100/sysworkflow/en/classic/tools/updateTranslation</code></span></dd>
        </dl>
    </dd>
</dl>
<ul><li><tt><i>string</i> <strong>$lang</strong></tt>: Optional. Specify the language code for the translation, such as "en" (English), "es" (Spanish) or "zh-TW" (Chinese from Taiwan). If not specified, it will be the current ProcessMaker language (which can be found in the @@SYS_LANG system variable).</li><li><tt><i>array</i><strong>$data</strong></tt>: Optional. If the message contains text in the form "... {<i><strong>LABEL-ID</strong></i>} ...", then an associative array of keys and values can be used to replace the "{<i><strong>LABEL-ID</strong></i>}".</li></ul>
<p><strong>Return Value:</strong><br>A string translated into the specified language.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$msg</span> <span style="color: #339933;">=</span> G<span style="color: #339933;">::</span><span style="color: #004000;">LoadTranslation</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'ID_PROCESSMAP_WORKFLOW_DELETE_PATTERNS'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$msg</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'INFO'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="G::generateUniqueID.28.29">G::generateUniqueID()</span></h3>
<p><tt>G::generateUniqueID()</tt> returns a hexadecimal string that is 32 characters long to uniquely identify objects such as cases, input documents, output documents, etc., in ProcessMaker. If manually creating new objects in ProcessMaker, use this function to generate the unique ID for that object.</p>

<codeblock><i>string</i> <strong>G::generateUniqueID</strong>(<i>void</i>)
</codeblock>

<p><strong>Parameters:</strong><br>None.</p>
<p><strong>Return Value:</strong><br>A hexadecimal string 32 characters long.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$newId</span> <span style="color: #339933;">=</span> G<span style="color: #339933;">::</span><span style="color: #004000;">generateUniqueID</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="G::RenderPage.28.29">G::RenderPage()</span></h3>
<p><tt>G::RenderPage()</tt> sets the values of the global variables <tt>$G_TEMPLATE</tt>, <tt>$G_SKIN</tt> and <tt>$G_CONTENT</tt>, so that the content of a web page can be rendered and displayed to the user.</p>

<codeblock><i>void</i> <strong>G::RenderPage</strong>(<i>string</i> $strTemplate = "default", <i>string</i> $strSkin = SYS_SKIN, <i>object</i> $objContent = NULL)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$strTemplate</strong>:</tt> Optional. The name of the template file to use, which is defined in the <strong><tt>workflow/engine/templates/</tt></strong> directory. Available ProcessMaker templates include:
<ul><li><tt>"publish":</tt> Blank page with a header.</li><li><tt>"publish-raw":</tt> Blank page which doesn't load any Javascript libraries and has no header.</li><li><tt>"publishBlank":</tt> Blank page which does load the JavaScript libraries, but it doesn't have a header.</li><li><tt>"publish-treeview":</tt> Page with a small sidebar and a larger content area (created with HTML <tt>DIVs</tt>).</li><li><tt>"publish-twocolumns":</tt> Page with two content areas of the same size (created with HTML <tt>DIVs</tt>).</li></ul>
</li><li><tt><i>string</i> <strong>$strSkin</strong>:</tt> Optional. The name of the <a href="../3.0/Skins.html" title="3.0/ProcessMaker Skins">skin</a> that replaces the existing skin when rendering the page. If this parameter is not included, then the current skin will be used by default. If specifying this parameter, either use a custom skin or one of the following skins included in ProcessMaker:
<ul><li><tt>"classic":</tt> Default skin in ProcessMaker 2.X.</li><li><tt>"green":</tt> Default skin in ProcessMaker 1.X.</li><li><tt>"blank":</tt> Skin that does not include a header at the top of the screen (which is useful for conserving space).</li><li><tt>"raw":</tt> Skin that doesn't load any of ProcessMaker's JavaScript libraries. This skin will prevent cases from running correctly since cases need the JavaScript libraries.</li><li><tt>"extJs":</tt> Skin for displaying Ext JS content in ProcessMaker 2.X.</li><li><tt>"green-submenu":</tt> Skin for displaying the content of a submenu in ProcessMaker 1.X.</li></ul>
</li><li><tt><i>object</i> <strong>$objContent</strong>:</tt> This parameter is almost never used. It is recommended to use the <a href="#Publisher::AddContent.28.29">Publisher::AddContent()</a> method to set the content of the page.</li></ul>
<p><strong>Return Value:</strong><br>None.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$G_PUBLISH</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Publisher<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$G_PUBLISH</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">AddContent</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'xmlform'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'xmlform'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'roles/roles_New'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
G<span style="color: #339933;">::</span><span style="color: #004000;">RenderPage</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'publish'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'raw'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="G::getPathFromUID.28.29">G::getPathFromUID()</span></h3>
<p><font color=dimgrey><i>Available in version <font color=green><b>2.5.1</b></font> and later.</i></font><br>
<code>G::getPathFromUID()</code> checks whether the ProcessMaker server is using the <a href="../3.0/Managing_32K_Folders.html">option to store files for cases in a series of 3 subdirectories</a> generated from the case's ID and returns the correct path from a given case ID to access the files. By default, ProcessMaker stores the uploaded files for a case in the following path:<br>
 &nbsp; &nbsp; <tt>{INSTALL-DIRECTORY}/shared/sites/{WORKSPACE}/files/{CASE-ID}/{CASE-DOC-ID}_{VERSION-NO}.{FILE-EXTENSION}</tt><br>
For example:<br>
 &nbsp; &nbsp; <tt>/opt/processmaker/shared/sites/workflow/files/42316826755cbb5e0751cd5037067960/69609740455cbbde4ef5d70008261343_1.png</tt><br>
To get around the limitation in Linux's ext3 file system, which limits directories to a maximum of 32K files, ProcessMaker 2.5.1 and later has an option to break the case ID into 3 subdirectories, such as:<br>
 &nbsp; &nbsp; <tt>/opt/processmaker/shared/sites/workflow/files/423/168/267/55cbb5e0751cd5037067960/69609740455cbbde4ef5d70008261343_1.png</tt><br>
 The <code>G::getPathFromUID()</code> method can be used to transform the case ID from "42316826755cbb5e0751cd5037067960" to "423/168/267/55cbb5e0751cd5037067960" if the system requires it.</p>

<codeblock><i>string</i> <strong>G::getPathFromUID(</strong><i>string</i> $url, <i>int</i> $splitSize = 3, <i>int</i> $pieces = 3)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul>
    <li><tt><i>string</i> <strong>$url</strong>:</tt> A unique ID, which will be broken into 3 subdirectories if the 32K workaround option is activated </li>
    <li><tt><i>int</i> <strong>$splitSize</strong>:</tt> Optional. The number of characters in the name of each subdirectory. It is strongly recommended to always use the default 3.</li>
    <li><tt><i>int</i> <strong>$pieces</strong>:</tt> Optional. The number of subdirectories to be created from the unique ID. It is strongly recommended to always use the default 3.</li>
</ul>
<p><strong>Return Value:</strong><br>The path created from the unique ID.</p>
<p><strong>Example:</strong></p>
<p>Get the path to access an uploaded text file for the current case and search for "Client No: XXXXXXXX" in the file to extract the client's number and assign it to a case variable:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseId</span> &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$caseDocId</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;69609740455cbbde4ef5d70008261343&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$filePath</span> &nbsp;<span style="color: #339933;">=</span> PATH_DOCUMENT <span style="color: #339933;">.</span> <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getPathFromUID</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$caseId</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> PATH_SEP <span style="color: #339933;">.</span> <span style="color: #000088;">$caseDocId</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">&quot;_1.txt&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$contents</span> <span style="color: #339933;">=</span> <a href="http://php.net/file_get_contents"><span style="color: #990000;">file_get_contents</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$filePath</span><span style="color: #009900;">&#41;</span> or <a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;File <span style="color: #006699; font-weight: bold;">$filePath</span> does not exist&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//if the client number is found, then assign it to a case variable:</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/preg_match"><span style="color: #990000;">preg_match</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'/Client No: ([A-Z0-9]{8})/'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$contents</span><span style="color: #339933;">,</span> <span style="color: #000088;">$match</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>ClientNo <span style="color: #339933;">=</span> <span style="color: #000088;">$match</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">else</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>ClientNo <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span></div></div>


<h2><span id="headPublisher_class">headPublisher class</span></h2>
<p>The <tt>headPublisher</tt> class is used by the Gulliver framework to display web pages. It is defined at <strong><tt>gulliver/system/class.headPublisher.php</tt></strong>. It is similar to the <a href="#Publisher_class">Publisher</a> class, but it has more member functions and has been updated to deal with Ext JS. If working with Ext JS, it is recommended to use this class instead of the <tt>Publisher</tt> class.</p>
<h3><span id="headPublisher::AddContent.28.29">headPublisher::AddContent()</span></h3>
<p>The <tt>headPublisher::AddContent()</tt> method adds Ext JS content to a page, but it only adds an HTML template file to the private <tt>extJsContent[]</tt> array, which is a list of Ext JS files which will later be rendered when <a href="#G::RenderPage.28.29">G::RenderPage()</a> is called.</p>

<codeblock><i>void</i> <strong>headPublisher::AddContent</strong>(<i>string</i> $templateHtml)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$templateHtml</strong>:</tt> The filename of the HTML template file to add to the forthcoming page that will be rendered. If the file has the extension <tt>".html"</tt>, then the extension does not need to be included. The HTML file should be located in the <strong><tt>workflow/engine/templates/</tt></strong> or the <strong><tt>workflow/engine/plugins/</tt></strong> directory. For example, the file <strong><tt>workflow/engine/templates/groups/groupsList.html</tt></strong> would be <tt>"groups/groupsList"</tt> and the file <strong><tt>workflow/engine/plugins/deleteCases/deleteCasesApplication1.html</tt></strong> would be <tt>"deleteCases/deleteCasesApplication1"</tt>.</li></ul>
<p><strong>Return value:</strong><br>None.</p>

<h3><span id="headPublisher::renderExtJs.28.29">headPublisher::renderExtJs()</span></h3>
<p>The <tt>headPublisher::renderExtJs()</tt> method renders all the Ext JS HTML template files that have been added to the <tt>extJsContent[]</tt> array, so they can later be displayed in the web browser with G::RenderPage(). These files should have an extension of ".html". See <a href="#headPublisher::AddContent.28.29">headPublisher::AddContent()</a>.</p>

<codeblock><i>string</i> <strong>headPublisher::RenderExtJs</strong>()
</codeblock>

<p><strong>Parameters:</strong><br>None.</p>
<p><strong>Return value:</strong><br>The body of the HTML page, which has been created from the files in the the <tt>extJsContent[]</tt> array.</p>
<h3><span id="headPublisher::addExtJsScript.28.29">headPublisher::addExtJsScript()</span></h3>
<p>The <tt>headPublisher::addExtJsScript()</tt> method adds a Ext JS code file, so it will be executed when the forthcoming page is rendered. The file must have an extension of ".js" and will be added to the <tt>extJsScript[]</tt> array, which is a list of Ext JS code files that will later be executed when the next page is rendered.</p>

<codeblock><i>void</i> <strong>headPublisher::addExtJsScript</strong>(<i>string</i> $filename, <i>boolean</i> $debug = false, <i>boolean</i> $isExternal = false)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$filename</strong>:</tt> The filename of the Ext JS code file to add to the forthcoming page that will be rendered. The file must have an extension of ".js", but do not include that extension in the filename. If the <tt>$isExternal</tt> parameter is set to <tt>false</tt> (which the default), then the Ext JS file should be found in the <strong><tt>workflow/engine/templates/</tt></strong> or <strong><tt>workflow/engine/plugins/</tt></strong> directories. For example, the file <strong><tt>workflow/engine/templates/groups/groupsList.js</tt></strong> would be <tt>"groups/groupsList"</tt> and the file <strong><tt>workflow/engine/plugins/deleteCases/deleteCasesApplication1.js</tt></strong> file would be <tt>"deleteCases/deleteCasesApplication1"</tt>.</li><li><tt><i>boolean</i> <strong>$debug</strong>:</tt> Set to <tt>true</tt> to display debug messages.</li><li><tt><i>boolean</i> <strong>$isExternal</strong>:</tt> Set to <tt>true</tt> if the file is not found in the standard locations of <strong><tt>workflow/engine/templates/</tt></strong> or <strong><tt>workflow/engine/plugins/</tt></strong>. Make sure to include the full path to the Ext JS file in the <tt>$filename</tt>.</li></ul>
<p><strong>Return value:</strong><br>None.</p>
<h3><span id="headPublisher::Assign.28.29">headPublisher::Assign()</span></h3>
<p>The <tt>headPublisher::Assign()</tt> method is used to pass a string variable from a PHP file to JavaScript. This variable will be added to the <tt>extVariable[]</tt> array. This method is often used to pass field labels and values to an Ext JS form.</p>

<codeblock><i>void</i> <strong>headPublisher::Assign</strong>(<i>string</i> $variable, <i>string</i> $value)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$variable</strong>:</tt> The name of the variable to pass to JavaScript.</li><li><tt><i>string</i> <strong>$value</strong>:</tt> The value of the variable to pass to JavaScript. Note that this value should be a string.</li></ul>
<p><strong>Return value:</strong><br>None.</p>
<h3><span id="headPublisher::AssignVar.28.29">headPublisher::AssignVar()</span></h3>
<p>The <tt>headPublisher::Assign()</tt> method is used to pass a string variable from a PHP file to JavaScript. This variable will be added to the <tt>vars[]</tt> array. This method is often used to pass field labels and values to a form. Unlike the <tt>headPublisher::Assign()</tt> method, this method can be used to pass any type of variable.</p>

<codeblock><i>void</i> <strong>headPublisher::AssignVar</strong>(<i>string</i> $name, <i>string</i> $value)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$variable</strong>:</tt> The name of the variable to pass to JavaScript.</li><li><tt><i>string</i> <strong>$value</strong>:</tt> The value of the variable to pass to JavaScript. This value can be any variable type.</li></ul>
<p><strong>Return value:</strong><br>None.</p>
<h3><span id="headPublisher::clearScripts.28.29">headPublisher::clearScripts()</span></h3>
<p>The <tt>headPublisher::clearScripts()</tt> method deletes all JavaScript files that have been added to the Ext JS content in a page, but only adds an HTML template file to the private <tt>extJsContent[]</tt> array, which is a list of Ext JS files that will later be rendered when <a href="#G::RenderPage.28.29">G::RenderPage()</a> is called.</p>

<codeblock><i>void</i> <strong>headPublisher::AddContent</strong>(<i>string</i> $templateHtml)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$templateHtml</strong>:</tt> The filename of the HTML template file to add to the forthcoming page that will be rendered. If the file has the extension <tt>".html"</tt>, then the extension does not need to be included. The HTML file should be found in the <strong><tt>workflow/engine/templates/</tt></strong> directory or the <strong><tt>workflow/engine/plugins/<i>plugin-name</i>/</tt></strong> directory. For example, the <strong><tt>workflow/engine/templates/groups/groupsList.html</tt></strong> file would be <tt>"groups/groupsList"</tt> and the <strong><tt>workflow/engine/plugins/deleteCases/deleteCasesApplication1.html</tt></strong> file would be <tt>"deleteCasesApplication1"</tt>.</li></ul>
<p><strong>Return value:</strong><br>None.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
try <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$Fields</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000088;">$oHeadPublisher</span> <span style="color: #339933;">=</span> <span style="color: #339933;">&amp;</span>headPublisher<span style="color: #339933;">::</span><span style="color: #004000;">getSingleton</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; <span style="color: #666666; font-style: italic;">//SYS_SYS &nbsp; &nbsp; //Workspace name</span><br />
&nbsp; <span style="color: #666666; font-style: italic;">//PROCESS &nbsp; &nbsp; //Process UID</span><br />
&nbsp; <span style="color: #666666; font-style: italic;">//APPLICATION //Case UID</span><br />
&nbsp; <span style="color: #666666; font-style: italic;">//INDEX &nbsp; &nbsp; &nbsp; //Number delegation</span><br />
<br />
&nbsp; <span style="color: #000088;">$config</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000088;">$config</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;previousStep&quot;</span><span style="color: #009900;">&#93;</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #000088;">$Fields</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;APP_DATA&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;__DYNAFORM_OPTIONS&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;PREVIOUS_STEP&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000088;">$config</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;previousStepLabel&quot;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$Fields</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;APP_DATA&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;__DYNAFORM_OPTIONS&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;PREVIOUS_STEP_LABEL&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000088;">$config</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;nextStep&quot;</span><span style="color: #009900;">&#93;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #000088;">$Fields</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;APP_DATA&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;__DYNAFORM_OPTIONS&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;NEXT_STEP&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000088;">$config</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;nextStepLabel&quot;</span><span style="color: #009900;">&#93;</span> &nbsp; &nbsp; <span style="color: #339933;">=</span> <span style="color: #000088;">$Fields</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;APP_DATA&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;__DYNAFORM_OPTIONS&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;NEXT_STEP_LABEL&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; <span style="color: #000088;">$oHeadPublisher</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addContent</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;extstep/stepextstepApplication&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//Adding a html file .html.</span><br />
&nbsp; <span style="color: #000088;">$oHeadPublisher</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">addExtJsScript</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;extstep/stepextstepApplication&quot;</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//Adding a javascript file .js</span><br />
&nbsp; <span style="color: #000088;">$oHeadPublisher</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">assign</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;CONFIG&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$config</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; G<span style="color: #339933;">::</span><span style="color: #004000;">RenderPage</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;publish&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;extJs&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span> catch <span style="color: #009900;">&#40;</span>Exception <span style="color: #000088;">$e</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #000088;">$e</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">getMessage</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <a href="http://php.net/exit"><span style="color: #990000;">exit</span></a><span style="color: #009900;">&#40;</span><span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>



<h2><span id="InputDocument_class">InputDocument class</span></h2>
<p>The <tt>InputDocument</tt> class is defined in <strong><tt>workflow/engine/classes/model/InputDocument.php</tt></strong> and is used to manipulate the definition of Input Documents, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.INPUT_DOCUMENT</tt></strong> table in the database.</p>
<h3><span id="InputDocument::Load.28.29">InputDocument::Load()</span></h3>
<p><tt>InputDocument::Load()</tt> returns information about the definition of an <a href="../3.0/Input_Documents.html" title="Input Documents">Input Document</a>.</p>

<codeblock><i>array</i> <strong>InputDocument::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of an Input Document, which can be found in the following ways:
<ul><li>Open a process, go to <strong>Input Documents</strong> and click on the <strong>UID</strong> button in the list.</li><li>Use the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#inputDocumentProcessList.28.29" title="3.0/ProcessMaker WSDL Web Services">inputDocumentProcessList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.INPUT_DOCUMENT.INP_DOC_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='INP_DOC_TITLE'</tt></li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["INP_DOC_UID"]</strong></tt>: The unique ID of the Input Document.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID of the process that contains the Input Document.</dd>
    <dd><tt><i>string</i> <strong>["INP_DOC_FORM_NEEDED"]</strong></tt>: The document type, which can be: <tt>"REAL"</tt>        (Printed), <tt>"VIRTUAL"</tt> (Digital) or <tt>"VREAL"</tt> (Digital/Printed).</dd>
    <dd><tt><i>string</i> <strong>["INP_DOC_ORIGINAL"]</strong></tt>: If the <tt>INP_DOC_FORM_NEEDED</tt> is <tt>"REAL"</tt>        or <tt>"VREAL"</tt>), the format of that original document can be <tt>"ORIGINAL"</tt>, <tt>"COPY"</tt>        or <tt>"COPYLEGAL"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["INP_DOC_PUBLISHED"]</strong></tt>: Always set to <tt>"PRIVATE"</tt>.</dd>
    <dd><tt><i>int</i> <strong>["INP_DOC_VERSIONING"]</strong></tt>: Set to <tt>1</tt> if versioning is enabled. Otherwise,
        set to <tt>0</tt>.</dd>
    <dd><tt><i>string</i> <strong>["INP_DOC_DESTINATION_PATH"]</strong></tt>: The destination path, which is a directory
        or a path of directories where the Input Document files will be found under <strong>HOME &gt; Documents</strong>.</dd>
    <dd><tt><i>string</i> <strong>["INP_DOC_TAGS"]</strong></tt>: Tags to easily identify and find the Input Document
        files. If there are multiple tags, separate them with commas.</dd>
    <dd><tt><i>string</i> <strong>["INP_DOC_TITLE"]</strong></tt>: The title of the Input Document.</dd>
    <dd><tt><i>string</i> <strong>["INP_DOC_DESCRIPTION"]</strong></tt>: The description of the Input Document.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> InputDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$i</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'1565194984f490ade7727b6065039420'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Menus">Menu class</span></h2>
<p>Menus in ProcessMaker are created with the <tt>Menu</tt> class, which is defined in <strong><tt>gulliver/system/class.menu.php</tt></strong>. Menu files are found in the <strong><tt>workflow/engine/menus/</tt></strong> directory.</p>
<p>ProcessMaker uses the following global variables to reference its menus:</p>
<ul><li><strong><tt>$G_MAIN_MENU</tt></strong>: This variable defines the top-level menu. ProcessMaker uses the following top level menus:</li></ul>
<dl>
    <dd>
        <dl>
            <dd><tt>"processmaker"</tt>: The main ProcessMaker menu. Generally this will be the only menu used by plugins.</dd>
            <dd><tt>"caseTracker"</tt>: The <a href="../3.0/Case_Tracker.html" title="Case Tracker">Case Tracker</a> menu.</dd>
            <dd><tt>"tools"</tt>: Used to <a href="../index.php/Customizing_Interface_Strings.html" title="Customizing Interface Strings">update interface strings</a>.</dd>
            <dd><tt>"workflow"</tt>: Used to add new <a href="../3.0/Workspaces.html" title="Workspaces">Workspaces</a>.</dd>
            <dd><tt>"rbac"</tt>: Used for administering users.</dd>
        </dl>
    </dd>
</dl>
<ul><li><strong><tt>$G_SUB_MENU</tt></strong>: This variable defines the submenu, which is the secondary menu below the top-level menu. ProcessMaker 2.X uses sidebars with options instead of submenus, although submenus can still be created with plugins in ProcessMaker 2.X. Common submenus in ProcessMaker 1.X include:</li></ul>
<dl>
    <dd>
        <dl>
            <dd><tt>"cases"</tt>: The <strong>CASES</strong> menu in ProcessMaker 1.X.</dd>
            <dd><tt>"processes"</tt>: The <strong>PROCESSES</strong> menu in ProcessMaker 1.X.</dd>
            <dd><tt>"users"</tt>: The <strong>USERS</strong> menu in ProcessMaker 1.X.</dd>
            <dd><tt>"setup"</tt>: The <strong>ADMIN</strong> menu in ProcessMaker 1.X</dd>
        </dl>
    </dd>
    <dd>Other available submenus in ProcessMaker 1.X include:
        <dl>
            <dd><tt>"processCategory"</tt>, <tt>"caseOptions"</tt>, <tt>"appFolder"</tt>, <tt>"dashboard"</tt>, <tt>"toolsTranslations"</tt>,
                <tt>"rbac.appView"</tt>, <tt>"rbac.appEdit"</tt>, <tt>"rbac.authSource"</tt>, <tt>"rbac.role"</tt>,
                <tt>"rbac.user"</tt>,<tt>"rbac.userView"</tt>, <tt>"rbac.userEdit"</tt>, <tt>"welcome"</tt>, <tt>"cancel"</tt>,
                <tt>"rbac.authentication"</tt>, <tt>"rbac.application"</tt>.</dd>
        </dl>
    </dd>
</dl>
<ul><li><tt><strong>$G_MENU_SELECTED</strong></tt>: This variable is an integer that defines which option in the top-level menu is currently selected. A value of 0 is the first option, 1 is the second option, 2 is the third option, etc. Set to -1 or "" (empty string) to not select any option.</li></ul>
<dl>
    <dd>Note that the number of options displayed depends upon the role of the user logged in and the present plugins,
        so don't rely on any option having a fixed number.</dd>
</dl>
<ul><li><tt><strong>$G_SUB_MENU_SELECTED</strong></tt>: This variable is an integer that identifies which option in the submenu is currently selected.</li><li><tt><strong>$G_ID_MENU_SELECTED</strong></tt>: This variable defines which top-level menu option is currently selected, using the ID strings for the menus.<br>New menu ID strings can be created, but by default the principal ProcessMaker menu includes the following menu options:<ul><li><tt>"PROCESSES"</tt>: The <strong>PROCESSES</strong> menu option in version 1.X. The <strong>DESIGNER</strong> menu option in version 2.X.</li><li><tt>"SETUP"</tt>: The <strong>ADMIN</strong> menu option.</li><li><tt>"CASES"</tt>: The <strong>CASES</strong> menu option in version 1.X. The <strong>HOME</strong> menu option in version 2.X.</li><li><tt>"DASHBOARD"</tt>: The <strong>DASHBOARD</strong> menu option in versions 1.X and 2.0.34+.</li></ul>
</li><li><strong><tt>$G_ID_SUB_MENU_SELECTED</tt></strong>: This variable defines which submenu option is currently selected, using the ID strings for the menus.</li><li><strong><tt>$G_TMP_MENU</tt></strong>: A temporary menu option that is not displayed to the user, but is often used before adding to a normal menu.</li></ul>
<p><strong>Example:</strong><br>To use the main ProcessMaker menu and the processes submenu, select the <strong>PROCESSES</strong> option in the main menu and the <strong>DYNAFORMS</strong> option in the submenu:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$G_MAIN_MENU</span><span style="color: #339933;">,</span> <span style="color: #000088;">$G_SUB_MENU</span><span style="color: #339933;">,</span> <span style="color: #000088;">$G_ID_MENU_SELECTED</span><span style="color: #339933;">,</span> <span style="color: #000088;">$G_ID_SUB_MENU_SELECTED</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$G_MAIN_MENU</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=</span> <span style="color: #0000ff;">'processmaker'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$G_SUB_MENU</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #339933;">=</span> <span style="color: #0000ff;">'processes'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$G_ID_MENU_SELECTED</span> &nbsp; &nbsp; <span style="color: #339933;">=</span> <span style="color: #0000ff;">'PROCESSES'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$G_ID_SUB_MENU_SELECTED</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'DYNAFORMS'</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Menu::AddIdRawOption.28.29">Menu::AddIdRawOption()</span></h3>
<p>The <tt>Menu::AddIdRawOption()</tt> method adds an option to a menu using an ID string. The option will be added to the end of the list of existing options. .</p>

<codeblock><i>void</i> Menu::AddIdRawOption(<i>variant</i> $strId, <i>string</i> $strURL = "", <i>string</i> $label = "", <i>string</i> $icon = "",
                          <i>string</i> $js = "", <i>string</i> $strType = "plugins", <i>string</i> $elementClass = "")
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>variant</i> <strong>$strId:</strong></tt> Sets the unique string to identify the menu. It is recommended to use a ID in upper case like <tt>"MYMENU"</tt>. This parameter can either be a string with the ID or an array that also sets both the ID and a class for the ID. For example: <tt>array("MYMENU", "MyMenuClass")</tt></li><li><tt><i>string</i> <strong>$strURL:</strong></tt> Optional. A URL (which is generally a relative path) to the code file that should be executed when the menu option is clicked.</li><li><tt><i>string</i> <strong>$label:</strong></tt> Optional. A text label for the menu.</li><li><tt><i>string</i> <strong>$icon:</strong></tt> Optional. A URL (which is generally a relative path) to the icon image that is displayed next to the text label in the menu.</li><li><tt><i>string</i> <strong>$js:</strong></tt> Optional. A bit of JavaScript to be executed when the user clicks on the menu option, such as: <tt>'showDbConnectionsList(Pm.options.uid); return false;'</tt></li><li><tt><i>string</i> <strong>$strType:</strong></tt> Optional. Identifies the type of the menu option. Possible Values: <tt>'settings', 'users', 'plugins'</tt></li><li><tt><i>string</i> <strong>$elementClass:</strong></tt> Optional. The name of an ExtJS class associated with the menu option, such as: <tt>'blockHeader', 'blockHeaderNoChild', 'ss_sprite ss_arrow_switch', 'ss_sprite ss_calendar_view_day', 'ss_sprite ss_page_white_put', 'ss_sprite ss_page_white_get', 'ss_sprite ss_application_form', 'ss_sprite ss_database_connect', 'ss_sprite ss_arrow_switch', 'ss_sprite ss_cog'</tt></li></ul>
<p><strong>Return Value:</strong><br><i>none</i></p>
<p><strong>Example:</strong><br>Use the <tt>$G_TMP_MENU</tt> global variable, which is an instance of the <tt>Menu</tt> class, to add the "Inbox" option to the temporary menu:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$G_TMP_MENU</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$G_TMP_MENU</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">AddIdRawOption</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'CASES_INBOX'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'casesListExtJs?action=todo'</span><span style="color: #339933;">,</span> G<span style="color: #339933;">::</span><span style="color: #004000;">LoadTranslation</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'ID_INBOX'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'icon-cases-inbox.png'</span> <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="OutputDocument_class">OutputDocument class</span></h2>
<p>The <tt>OutputDocument</tt> class is defined in <strong><tt>workflow/engine/classes/model/OutputDocument.php</tt></strong> and is used to manipulate the definition of Output Documents, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.OUTPUT_DOCUMENT</tt></strong> table in the database.</p>
<h3><span id="OutputDocument::Load.28.29">OutputDocument::Load()</span></h3>
<p><tt>OutputDocument::Load()</tt> returns information about an <a href="../3.0/Output_Documents.html" title="Output Documents">Output Document</a>.</p>

<codeblock><i>array</i> <strong>OutputDocument::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of an Output Document, which can be found in the following ways:
<ul><li>Open a process, go to <strong>Output Documents</strong> and click on the <strong>UID</strong> button in the list.</li><li>Use the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#outputDocumentList.28.29" title="3.0/ProcessMaker WSDL Web Services">outputDocumentList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.OUTPUT_DOCUMENT.OUT_DOC_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='OUT_DOC_TITLE'</tt></li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["OUT_DOC_UID"]</strong></tt>: The unique ID of the Output Document.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID of the Process.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_LANDSCAPE"]</strong></tt>: Set to 1 if the layout is landscape (horizontal);
        otherwise, set to 0 for portrait (vertical) layout.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_MEDIA"]</strong></tt>: Size of media, such as "Letter".</dd>
    <dd><tt><i>int</i> <strong>["OUT_DOC_LEFT_MARGIN"]</strong></tt>: Left margin of paper in mm.</dd>
    <dd><tt><i>int</i> <strong>["OUT_DOC_RIGHT_MARGIN"]</strong></tt>: Right margin of paper in mm.</dd>
    <dd><tt><i>int</i> <strong>["OUT_DOC_TOP_MARGIN"]</strong></tt>: Top margin of paper in mm.</dd>
    <dd><tt><i>int</i> <strong>["OUT_DOC_BOTTOM_MARGIN"]</strong></tt>: Bottom margin of paper in mm.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_GENERATE"]</strong></tt>: Type of document to generate, which can be: <tt>"PDF"</tt>,
        <tt>"DOC"</tt> or <tt>"BOTH"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_TYPE"]</strong></tt>: Type of template, which the interface only allows
        to be <tt>"HTML"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_CURRENT_REVISION"]</strong></tt>: Not used. Always set to 0.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_FIELD_MAPPING"]</strong></tt>: Not used. Always set to <tt>NULL</tt>.</dd>
    <dd><tt><i>int</i> <strong>["OUT_DOC_VERSIONING"]</strong></tt>: If versioning is enabled, set to 1. Otherwise,
        set to 0.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_DESTINATION_PATH"]</strong></tt>: The destination path, which is a directory
        or a path of directories where the generated Output Documents will be found under under <strong>HOME &gt; Documents</strong>.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_TAGS"]</strong></tt>: Tags to easily identify and find the generated Output
        Documents. If there are multiple tags, separate them with commas.</dd>
    <dd><tt><i>int</i> <strong>["OUT_DOC_PDF_SECURITY_ENABLED"]</strong></tt>: If PDF security is enabled, set to 1.
        Otherwise, set to 0.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_PDF_SECURITY_OPEN_PASSWORD"]</strong></tt>: The encrypted password to open
        the PDF.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_PDF_SECURITY_OWNER_PASSWORD"]</strong></tt>: The encrypted PDF owner password.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_PDF_SECURITY_PERMISSIONS"]</strong></tt>: The PDF security permissions
        concatenated: <tt>"print"</tt>, <tt>"|modify"</tt>, <tt>"|copy"</tt> and/or <tt>"|annot-forms"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_TITLE"]</strong></tt>: Title of the Output Document.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_DESCRIPTION"]</strong></tt>: Description of the Output Document.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_FILENAME"]</strong></tt>: Filename of the Output Document.</dd>
    <dd><tt><i>string</i> <strong>["OUT_DOC_TEMPLATE"]</strong></tt>: Text of the Output Document template.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$od</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> OutputDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$od</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'1098782284f47daac2e05f2006881286'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>



<h2><span id="PMPlugin_class">PMPlugin class</span></h2>
<p>The <tt>PMPlugin</tt> class, which is defined in the file <strong><tt>workflow/engine/classes/class.plugin.php</tt></strong>, provides methods to define plugins and register and manipulate elements of the plugin.</p>
<h3><span id="PMPlugin::registerMenu.28.29">PMPlugin::registerMenu()</span></h3>
<p><tt>PMPlugin::registerMenu()</tt> registers the ID for a menu bar or a menu option and its code file, so it can be used by the plugin. This function passes its parameters onto <a href="#PMPluginRegistry::registerMenu.28.29">PMPluginRegistry::registerMenu()</a> to do the registration.</p>

<codeblock><i>void</i> PMPlugin::registerMenu(<i>string</i> $menuId, <i>string</i> $menuFilename)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$menuId</strong></tt>: Name to identify the menu.</li><li><tt><i>string</i> <strong>$menuFilename</strong></tt>: Name of the PHP file that defines the menu, which should be located in the <strong><tt>workflow/engine/plugins/<i>plugin-name</i>/</tt></strong> directory.</li></ul>

<h2><span id="PMPluginRegistry_class">PMPluginRegistry class</span></h2>
<p>The <tt>PMPluginRegistry</tt> class, which is defined in the file <strong><tt>workflow/engine/classes/class.pluginRegistry.php</tt></strong>, is used to register the elements of a plugin.</p>
<h3><span id="PMPluginRegistry::registerMenu.28.29">PMPluginRegistry::registerMenu()</span></h3>
<p><tt>PMPluginRegistry::registerMenu()</tt> registers a menu option used by a plugin.</p>

<codeblock><i>void</i> <strong>PMPluginRegistry::registerMenu</strong>(<i>string</i> $sNamespace, <i>string</i> $sMenuId, <i>string</i> $sFilename)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$sNamespace</strong></tt>: Name of the Gulliver application, which will be "processmaker" if building a plugin for ProcessMaker.</li><li><tt><i>string</i> <strong>$sMenuId</strong></tt>: Name of the file that defines the menu.</li><li><tt><i>string</i> <strong>$sFilename</strong></tt>: Name of the file that defines the menu, which should be located in the plugins/plugin-name/plugin-name/ directory.</li></ul>
<h2><span id="Process_class">Process class</span></h2>
<p>The <tt>Process</tt> class is defined in <strong><tt>workflow/engine/classes/model/Process.php</tt></strong> and is used to manipulate ProcessMaker <a href="../3.0/Processes.html" title="Processes">processes</a>.</p>

<h3><span id="Process::Load.28.29">Process::Load()</span></h3>
<p><tt>Process::Load()</tt> returns information about a process.</p>

<codeblock><i>array</i> <strong>Process::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of a process, which can be found in the following ways:
<ul><li>Use the <tt>@@PROCESS</tt> system variable for the current process.</li><li>Use the <a href="../3.0/ProcessMaker_Functions.html#PMFProcessList.28.29">PMFProcessList()</a> or <a href="../index.php/Simple_Trigger_Web_Services.html#WSProcessList" title="Simple Trigger Web Services">WSProcessList()</a> functions or the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#processList.28.29" title="3.0/ProcessMaker WSDL Web Services">processList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.PROCESS.PRO_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='PRO_TITLE'</tt></li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i>(</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: Unique ID of the process.</dd>
    <dd><tt><i>string</i> <strong>["PRO_PARENT"]</strong></tt>: If a subprocess, then the unique ID of the parent process.
        Otherwise, the same unique ID as the <tt>PRO_UID</tt>.</dd>
    <dd><tt><i>float</i> <strong>["PRO_TIME"]</strong></tt>: By default set to 0.</dd>
    <dd><tt><i>string</i> <strong>["PRO_TIMEUNIT"]</strong></tt>: Unit of time used by <tt>PRO_TIME</tt>, which is
        generally <tt>"DAYS"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["PRO_STATUS"]</strong></tt>: Status of process, which is either <tt>"ACTIVE"</tt>        or <tt>"INACTIVE"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["PRO_TYPE_DAY"]</strong></tt>: Type of day. By default set to <tt>""</tt> (empty
        string).
    </dd>
    <dd><tt><i>string</i> <strong>["PRO_TYPE"]</strong></tt>: The process type, which is generally <tt>"NORMAL"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["PRO_ASSIGNMENT"]</strong></tt>: The process assignment, which is generally <tt>"FALSE"</tt>.</dd>
    <dd><tt><i>int</i> <strong>["PRO_SHOW_MAP"]</strong></tt>: Set to 1 if showing the process map, otherwise 0 if
        not showing it.</dd>
    <dd><tt><i>int</i> <strong>["PRO_SHOW_MESSAGE"]</strong></tt>: Set to 1 if showing case messages, otherwise 0 if
        not showing it.</dd>
    <dd><tt><i>int</i> <strong>["PRO_SHOW_DELEGATE"]</strong></tt>: Set to 1 if showing task delegations, otherwise
        0 if not showing it.</dd>
    <dd><tt><i>int</i> <strong>["PRO_SHOW_DYNAFORM"]</strong></tt>: Set to 1 if showing list of Dynaforms, otherwise
        0 if not showing it.</dd>
    <dd><tt><i>string</i> <strong>["PRO_CATEGORY"]</strong></tt>: Unique ID of the process category. Set to <tt>""</tt>        (empty string) if no process category was selected.</dd>
    <dd><tt><i>string</i> <strong>["PRO_SUB_CATEGORY"]</strong></tt>: Unique ID of the process subcategory. This feature
        is not supported and is always set to <tt>""</tt> (empty string).</dd>
    <dd><tt><i>int</i> <strong>["PRO_INDUSTRY"]</strong></tt>: The process' industry, which is no longer used and is
        always set to 0.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UPDATE_DATE"]</strong></tt>: The datetime when the process was last updated.
        This doesn't work and is always set to <tt>NULL</tt>.</dd>
    <dd><tt><i>string</i> <strong>["PRO_CREATE_DATE"]</strong></tt>: The datetime when the process was first created
        in the <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["PRO_CREATE_USER"]</strong></tt>: Unique ID of the user who first created the process.</dd>
    <dd><tt><i>int</i> <strong>["PRO_HEIGHT"]</strong></tt>: Height of the process map.</dd>
    <dd><tt><i>int</i> <strong>["PRO_WIDTH"]</strong></tt>: Width of the process map.</dd>
    <dd><tt><i>int</i> <strong>["PRO_TITLE_X"]</strong></tt>: X position of the process title in the process map. By
        default set to 0.</dd>
    <dd><tt><i>int</i> <strong>["PRO_TITLE_Y"]</strong></tt>: Y position of the process title in the process map. By
        default set to 0.</dd>
    <dd><tt><i>int</i> <strong>["PRO_DEBUG"]</strong></tt>: Set to 1 if the process debugger is enabled or 0 if disabled.</dd>
    <dd><tt><i>boolean</i> <strong>["PRO_DYNAFORMS"]</strong></tt>: Generally set to false.</dd>
    <dd><tt><i>string</i> <strong>["PRO_DESCRIPTION"]</strong></tt>: Description of the process.</dd>
    <dd><tt><i>string</i> <strong>["PRO_TITLE"]</strong></tt>: Title of the process.</dd>
    <dd><tt><i>string</i> <strong>["PRO_CATEGORY_LABEL"]</strong></tt>: The label for the process' category. If no
        category was selected then set to <tt>"No Category"</tt>.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>
Get the category for the current process and assign it to a case variable named "processCategory", which will be displayed in a subsequent Dynaform.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//G::LoadClass('process'); //not necessary in triggers</span><br />
<span style="color: #000088;">$p</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Process<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>processCategory <span style="color: #339933;">=</span> <span style="color: #000088;">$p</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>PROCESS<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'PRO_CATEGORY_LABEL'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Publisher_class">Publisher class</span></h2>
<p>The <tt>Publisher</tt> class is used by the Gulliver framework to display web pages. It is defined at <strong><tt>gulliver/system/class.publisher.php</tt></strong>.</p>

<h3><span id="Publisher::AddContent.28.29">Publisher::AddContent()</span></h3>
<p><tt>Publisher::AddContent()</tt> adds content to a page before it is displayed (with the <a href="#G::RenderPage.28.29">G::RenderPage()</a> method). This function can be called multiple times to continue adding content to a page before displaying it. The content is inserted in the <tt>$parts</tt> array, which is a member variable of the <tt>Publisher</tt> class.</p>

<codeblock><i>void</i> <strong>Publisher::AddContent</strong>(<i>string</i> $strType = "form", <i>string</i> $strLayout = "form", <i>string</i>  $strName = "", <i>string</i> $strContent = "", <i>array</i>  $arrData = NULL, <i>string</i> $strTarget = "", <i>string</i> $ajaxServer = "", <i>string</i> $mode = "", <i>boolean</i> $bAbsolutePath = false)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>$strType</strong></tt>: The type of content to be added. This parameter determines how the content will be added by the <tt>Publisher::RenderContent0()</tt> method. Available content types include:
<ul><li><tt>"view"</tt>: Content is rendered with a template found in the <strong><tt>gulliver/templates/</tt></strong> or <strong><tt>/workflow/engine/plugins/&lt;PLUGIN-NAME&gt;/</tt></strong> directories.</li><li><tt>"content"</tt>: Same as "view".</li><li><tt>"xmlform"</tt>: Content is defined by XML code and its file is found in the <strong><tt>workflow/engine/xmlform/</tt></strong> or <strong><tt>/workflow/engine/plugins/&lt;PLUGIN-NAME&gt;/</tt></strong> directories. See the XML code for Dynaforms to understand the format.</li><li><tt>"dynaform"</tt>: A Dynaform defined for a process, whose file is found in the <strong><tt>shared/sites/&lt;WORKSPACE&gt;/xmlForms/&lt;PROCESS-UID&gt;/</tt></strong> directory. It is processed the same as "xmlform".</li><li><tt>"pagedtable"</tt>: A table of data that is displayed with button controls to navigate pages of data. The table's fields are defined in an XML file found in the <strong><tt>workflow/engine/xmlform/</tt></strong> or <strong><tt>/workflow/engine/plugins/&lt;PLUGIN-NAME&gt;/</tt></strong> directories.</li><li><tt>"propeltable"</tt>: Like "pagedTable", but content data drawn from a database query.</li><li><tt>"smarty"</tt>: Content in the $parts-&gt;dataArray is rendered with an HTML Smarty template found in the <strong><tt>gulliver/templates/</tt></strong> or <strong><tt>/workflow/engine/plugins/&lt;PLUGIN-NAME&gt;/</tt></strong> directories.</li><li><tt>"template"</tt>:</li><li><tt>"blank"</tt>: Adds a blank space to the content.</li><li><tt>"panel-init"</tt>: Starts a panel.</li><li><tt>"panel-tab"</tt>: Adds a tab to a panel.</li><li><tt>"panel-close"</tt>: Ends a panel.</li><li><tt>"externalContent"</tt>: Adds external content with an external template. The content is loaded by <tt>G::LoadContent()</tt> and the template is loaded by <tt>G::LoadTemplateExternal()</tt>.</li><li><tt>"image"</tt>: Content is an image file.</li><li><tt>"appForm"</tt>:</li><li><tt>"menu"</tt>:</li><li><tt>"varform"</tt>:</li><li><tt>"table"</tt>:</li><li><tt>"graphLayout"</tt>:</li></ul>
</li><li><tt><i>string</i> <strong>$strLayout</strong></tt>: A template (without the extension) that is found in <strong><tt>workflow/engine/templates/</tt></strong> (or one of its subdirectories). The most common templates are:
<ul><li><tt>"xmlform"</tt>: Its file uses XML to define its fields, which are laid out vertically.</li><li><tt>"paged-table"</tt>: Its file also uses XML to define its fields, but displays its data in columns and rows and has paging control buttons.</li></ul>
</li><li><tt><i>string</i> <strong>$strName </strong></tt>: The name of the file that defines the fields (but not the content or data). The file is found in the <strong><tt>workflow/engine/xmlform/</tt></strong> or <strong><tt>/workflow/engine/plugins/&lt;PLUGIN-NAME&gt;/</tt></strong> directory.</li><li><tt><i>string</i> <strong>$strContent</strong></tt>: In most cases, set this to an empty string, but if <tt>$strType</tt> is <tt>"propelTable"</tt>, then enter the criteria for the database query. The results of the query will be displayed in the table.</li><li><tt><i>array</i> <strong>$arrData</strong></tt>: An associative array of data to include in the fields, where the keys are the field names and the values are the field values.</li><li><tt><i>string</i> <strong>$strTarget</strong></tt>: The file that will process the content, located in the <strong><tt>workflow/engine/methods/</tt></strong> or <strong><tt>/workflow/engine/plugins/&lt;PLUGIN-NAME&gt;/</tt></strong> directory.</li><li><tt><i>string</i> <strong>$ajaxServer</strong></tt>: The code file that will handle AJAX calls for the content, located in the <strong><tt>workflow/engine/methods/</tt></strong> or <strong><tt>/workflow/engine/plugins/&lt;PLUGIN-NAME&gt;/</tt></strong> directory.</li><li><tt><i>string</i> <strong>$mode</strong></tt>: Set to "edit" if the content contains fields whose content can be edited by the user. Set to "" or "view" if the fields can't be edited.</li><li><tt><i>boolean</i> <strong>$bAbsolutePath</strong></tt>: Set to <tt>true</tt> if the files have their complete path, rather than a relative path inside the default locations. If files are indicated with relative paths, then set to <tt>false</tt>.</li></ul>
<p><strong>Return value:</strong><br>None.</p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">G<span style="color: #339933;">::</span><span style="color: #004000;">LoadClass</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'case'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$oCase</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Cases<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aCriteria</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$oCases</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">prepareCriteriaForToDo</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USER_LOGGED'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$xmlfile</span> &nbsp;<span style="color: #339933;">=</span> <span style="color: #0000ff;">'cases/cases_ListTodoNew'</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">/* Render page */</span><br />
<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$G_PUBLISH</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$G_PUBLISH</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Publisher<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$G_PUBLISH</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">ROWS_PER_PAGE</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">12</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$aData</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'PROCESS_FILTER'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'PRO_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">'APP_STATUS_FILTER'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'0'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$G_PUBLISH</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">AddContent</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'propeltable'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'paged-table'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$xmlfile</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aCriteria</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aData</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
G<span style="color: #339933;">::</span><span style="color: #004000;">RenderPage</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'publish'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'blank'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>



<h2><span id="Route_class">Route class</span></h2>
<p>The <tt>Route</tt> class is defined in <strong><tt>workflow/engine/classes/model/Route.php</tt></strong> and is used to manipulate <a href="../3.0/Processes.html" title="Processes">routing rules</a> in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.ROUTE</tt></strong> table in the database.</p>
<h3><span id="Route::Load.28.29">Route::Load()</span></h3>
<p><tt>Route::Load()</tt> returns information about a routing rule.</p>

<codeblock><i>array</i> <strong>Route::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of a routing rule, which can be found in the <strong><tt>wf_&lt;WORKSPACE&gt;.ROUTE.ROU_UID</tt></strong> field in the database.</li></ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i>(</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["ROU_UID"]</strong></tt>: The unique ID of the routing rule.</dd>
    <dd><tt><i>string</i> <strong>["ROU_PARENT"]</strong></tt>: The unique ID of the parent routing rule. If there
        is no parent, then set to <tt>"0"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID of the process.</dd>
    <dd><tt><i>string</i> <strong>["TAS_UID"]</strong></tt>: The unique ID of the task before the routing rule. Set
        to "-1" if the routing rule belongs to a converging gateway.</dd>
    <dd><tt><i>string</i> <strong>["ROU_NEXT_TASK"]</strong></tt>: The unique ID of the task after the routing rule.</dd>
    <dd><tt><i>int</i> <strong>["ROU_CASE"]</strong></tt>: Set to 1 if the routing rule can route the case. Otherwise,
        set to 0.</dd>
    <dd><tt><i>string</i> <strong>["ROU_TYPE"]</strong></tt>: The type of routing rule, which can be: <tt>"SEQUENTIAL"</tt>,
        <tt>"SELECT"</tt>, <tt>"EVALUATE"</tt>, <tt>"PARALLEL"</tt>, <tt>"PARALLEL-BY-EVALUATION"</tt>, <tt>"SEC-JOIN"</tt>        (parallel join), or <tt>"DISCRIMINATOR"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["ROU_CONDITION"]</strong></tt>: The text of the condition (if an evaluation or parallel
        by evaluation routing rule).</dd>
    <dd><tt><i>string</i> <strong>["ROU_TO_LAST_USER"]</strong></tt>: To route to the last user, set to "TRUE". The
        ProcessMaker interface will always set this to "FALSE", but it can be changed to "TRUE" with Route class
        methods.
    </dd>
    <dd><tt><i>string</i> <strong>["ROU_OPTIONAL"]</strong></tt>: Set to "TRUE" if the routing rule is optional. Always
        set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["ROU_SEND_EMAIL"]</strong></tt>: Set to "TRUE" if a notification should be set to
        the user designated to work on the next task. Otherwise, set to "FALSE".</dd>
    <dd><tt><i>int</i> <strong>["ROU_SOURCEANCHOR"]</strong></tt>: Always set to 1.</dd>
    <dd><tt><i>int</i> <strong>["ROU_TARGETANCHOR"]</strong></tt>: Always set to 0.</dd>
    <dd><tt><i>int</i> <strong>["ROU_TO_PORT"]</strong></tt>: Always set to 1.</dd>
    <dd><tt><i>int</i> <strong>["ROU_FROM_PORT"]</strong></tt>: Always set to 2.</dd>
    <dd><tt><i>string</i> <strong>["ROU_EVN_UID"]</strong></tt>: Generally set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["GAT_UID"]</strong></tt>: Unique ID of the routing rule's gateway. All routing rules,
        except sequencial, use gateways to determine the X and Y position of the routing rule lines on the process
        map.
    </dd>
</dl>
<p><tt>)</tt></p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> Separate routing rules are created for each parallel task.</font></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$r</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Route<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$r</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'4820325894f3e6ed0602631092169420'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;ROU_PARENT&quot;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">!=</span> <span style="color: #0000ff;">&quot;0&quot;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;PMFRedirectToStep<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #339933;">,</span> <span style="color: #0000ff;">'DYNAFORM'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'67172619648d67d3d5db8f8066114860'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<h2><span id="Step_class">Step class</span></h2>
<p>The <tt>Step</tt> class is defined in <strong><tt>workflow/engine/classes/model/Steps.php</tt></strong> and is used to manipulate <a href="../3.0/Processes.html" title="Processes">steps</a> in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.STEP</tt></strong> table in the database.</p>
<h3><span id="Step::Load.28.29">Step::Load()</span></h3>
<p><tt>Step::Load()</tt> returns information about a step.</p>

<codeblock><i>array</i> <strong>Step::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of a step, which can be found in the <strong><tt>wf_&lt;WORKSPACE&gt;.STEP.STEP_UID</tt></strong> field in the database.</li></ul>
<p>Return Value:<br>An associative array with the following elements:<br><tt><i>array</i>(</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["STEP_UID"]</strong></tt>: The unique ID for the step.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID for the task where the step occurs.</dd>
    <dd><tt><i>string</i> <strong>["TAS_UID"]</strong></tt>: The unique ID for the task's process.</dd>
    <dd><tt><i>string</i> <strong>["STEP_TYPE_OBJ"]</strong></tt>: The type of object executed by the task, which can
        be: <tt>"DYNAFORM"</tt>, <tt>"INPUT_DOCUMENT"</tt>, <tt>"OUTPUT_DOCUMENT"</tt> or <tt>"EXTERNAL"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["STEP_UID_OBJ"]</strong></tt>: The unique ID of the object that is executed by the
        step.
    </dd>
    <dd><tt><i>string</i> <strong>["STEP_CONDITION"]</strong></tt>: The text of the condition for the step to execute.
        If "" (an empty string), then the step will always execute.</dd>
    <dd><tt><i>int</i> <strong>["STEP_POSITION"]</strong></tt>: The step's position, which indicates the order that
        steps execute in a task. Counting starts from 1.</dd>
    <dd><tt><i>string</i> <strong>["STEP_MODE"]</strong></tt>: The mode of the fields in a Dynaform, which can be:
        <tt>"EDIT"</tt> (all fields are editable), <tt>"VIEW"</tt> (all fields are read-only) or <tt>""</tt> (determined
        by the Mode property of each individual field).</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//require_once 'classes/model/Steps.php'; //not necessary in Triggers</span><br />
<span style="color: #000088;">$s</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Step<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$s</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'9923333094f3c5c503b59a2093144371'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$aInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'STEP_MODE'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">==</span> <span style="color: #0000ff;">'VIEW'</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>readIt <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;yes&quot;</span><span style="color: #339933;">;</span></div></div>
<h2><span id="Task_class">Task class</span></h2>
<p>The <tt>Task</tt> class is defined in <strong><tt>workflow/engine/classes/model/Task.php</tt></strong> and is used to manipulate ProcessMaker tasks.</p>

<h3><span id="Task::Load.28.29">Task::Load()</span></h3>
<p><tt>Task::Load()</tt> returns an array with information about a task.</p>

<codeblock><i>array</i> <strong>Task::Load</strong>(<i>string</i> $uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of a task, which can be found in the following ways:
<ul><li>Use the <tt>@@TASK</tt> system variable or <tt>$_SESSION['TASK']</tt> for the current task.</li><li>Use the <a href="../3.0/ProcessMaker_Functions.html#PMFTaskList.28.29">PMFTaskList()</a> or <a href="../index.php/Simple_Trigger_Web_Services.html#WSTaskList" title="Simple Trigger Web Services">WSTaskList()</a> functions or the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#taskList.28.29" title="3.0/ProcessMaker WSDL Web Services">taskList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.TASK.TAS_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='TAS_TITLE'</tt></li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i>(</tt></p>

<dl>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID of the process for this task.</dd>
    <dd><tt><i>string</i> <strong>["TAS_UID"]</strong></tt>: The unique ID of the task.</dd>
    <dd><tt><i>string</i> <strong>["TAS_TYPE"]</strong></tt>: The type of task, which is either <tt>"NORMAL"</tt> or
        <tt>"SUBPROCESS"</tt> for a task that is a subprocess.</dd>
    <dd><tt><i>float</i> <strong>["TAS_DURATION"]</strong></tt>: The expected duration of the task.</dd>
    <dd><tt><i>string</i> <strong>["TAS_DELAY_TYPE"]</strong></tt>: by default set to <tt>""</tt> (empty string).</dd>
    <dd><tt><i>float</i> <strong>["TAS_TEMPORIZER"]</strong></tt>: by default set to 0.</dd>
    <dd><tt><i>string</i> <strong>["TAS_TYPE_DAY"]</strong></tt>: by default set to <tt>""</tt> (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_TIMEUNIT"]</strong></tt>: by default set to <tt>"DAYS"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["TAS_ALERT"]</strong></tt>: by default set to <tt>"FALSE"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["TAS_PRIORITY_VARIABLE"]</strong></tt>: Variable that determines the priority of
        the task, which by default is <tt>"@@SYS_CASE_PRIORITY"</tt>. This variable should contain a value between
        1 and 5.</dd>
    <dd><tt><i>string</i> <strong>["TAS_ASSIGN_TYPE"]</strong></tt>: The type of assignment, which is <tt>"BALANCED"</tt>        or <tt>"EVALUATE"</tt> (if using Value Based Assignment and not using the default <tt>@@SYS_NEXT_USER_TO_BE_ASSIGNED</tt>        variable).</dd>
    <dd><tt><i>string</i> <strong>["TAS_ASSIGN_VARIABLE"]</strong></tt>: The variable that determines the next designated
        user to work on the task if using Value Based Assignment. By default, set to <tt>"@@SYS_NEXT_USER_TO_BE_ASSIGNED"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["TAS_MI_INSTANCE_VARIABLE"]</strong></tt>: The variable that determines the total
        number of instances if using the discriminator. By default set to "@@SYS_VAR_TOTAL_INSTANCE". This field
        is no longer used.</dd>
    <dd><tt><i>string</i> <strong>["TAS_MI_COMPLETE_VARIABLE"]</strong></tt>: The variable that determines the total
        number of instances that need to be completed by the discriminator. By default set to "@@SYS_VAR_TOTAL_INSTANCES_COMPLETE".
        This field is no longer used.</dd>
    <dd><tt><i>string</i> <strong>["TAS_ASSIGN_LOCATION"]</strong></tt>: By default set to "FALSE"</dd>
    <dd><tt><i>string</i> <strong>["TAS_ASSIGN_LOCATION_ADHOC"]</strong></tt>: By default set to "FALSE"</dd>
    <dd><tt><i>string</i> <strong>["TAS_TRANSFER_FLY"]</strong></tt>: By default set to "FALSE"</dd>
    <dd><tt><i>string</i> <strong>["TAS_LAST_ASSIGNED"]</strong></tt>: The unique ID of the last user designated to
        work on this task. If a user has never been designated then set to "0".</dd>
    <dd><tt><i>string</i> <strong>["TAS_USER"]</strong></tt>: By default set to "0".</dd>
    <dd><tt><i>string</i> <strong>["TAS_CAN_UPLOAD"]</strong></tt>: By default set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_VIEW_UPLOAD"]</strong></tt>: By default set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_VIEW_ADDITIONAL_DOCUMENTATION"]</strong></tt>: By default set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_CAN_CANCEL"]</strong></tt>: By default set to "FALSE"</dd>
    <dd><tt><i>string</i> <strong>["TAS_OWNER_APP"]</strong></tt>: By default set to "FALSE"</dd>
    <dd><tt><i>string</i> <strong>["STG_UID"]</strong></tt>: By default set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_CAN_PAUSE"]</strong></tt>: Set to "TRUE" if the task can be paused; otherwise,
        set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_CAN_SEND_MESSAGE"]</strong></tt>: Set to "TRUE" if the task can send out email
        notifications; otherwise, set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_CAN_DELETE_DOCS"]</strong></tt>: By default set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_SELF_SERVICE"]</strong></tt>: Set to "TRUE" if the task has a Self Service
        designation rule. Otherwise, set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_START"]</strong></tt>: Set to "TRUE" if the task is an initial task that can
        start a case. Otherwise, set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_TO_LAST_USER"]</strong></tt>: By default set to "FALSE".</dd>
    <dd><tt><i>string</i> <strong>["TAS_SEND_LAST_EMAIL"]</strong></tt>: If set to "TRUE", then an email notification
        is sent to the next assigned user(s) when the case arrives at this task. If set to "FALSE", then no email
        notification is sent for this task.</dd>
    <dd><tt><i>string</i> <strong>["TAS_DERIVATION"]</strong></tt>: The type of route, which is always "NORMAL".</dd>
    <dd><tt><i>int</i> <strong>["TAS_POSX"]</strong></tt>: The X position of the task in pixels in the process map.</dd>
    <dd><tt><i>int</i> <strong>["TAS_POSY"]</strong></tt>: The Y position of the task in pixels in the process map.</dd>
    <dd><tt><i>int</i> <strong>["TAS_WIDTH"]</strong></tt>: The width in pixels of the task graphic in the process
        map. By default set to 165.</dd>
    <dd><tt><i>int</i> <strong>["TAS_HEIGHT"]</strong></tt>: The height in pixels of the task graphic in the process
        map. By default set to 40.</dd>
    <dd><tt><i>string</i> <strong>["TAS_COLOR"]</strong></tt>: The color of the task in the process map. By default
        set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_EVN_UID"]</strong></tt>: By default set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_BOUNDARY"]</strong></tt>: By default set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_DEF_DESCRIPTION"]</strong></tt>: By default set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_DEF_MESSAGE"]</strong></tt>: By default set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_DEF_PROC_CODE"]</strong></tt>: By default set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_DEF_SUBJECT_MESSAGE"]</strong></tt>: By default set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_DEF_TITLE"]</strong></tt>: By default set to "" (empty string).</dd>
    <dd><tt><i>string</i> <strong>["TAS_DESCRIPTION"]</strong></tt>: The description of the task.</dd>
    <dd><tt><i>string</i> <strong>["TAS_TITLE"]</strong></tt>: The title of the task.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong><br>Get the title and description of the current task to display in Dynaform fields named "taskTitle" and "taskDescription":</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$t</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Task<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aTask</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$t</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>TASK<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>taskTitle <span style="color: #339933;">=</span> <span style="color: #000088;">$aTask</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;TAS_TITLE&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>taskDescription <span style="color: #339933;">=</span> <span style="color: #000088;">$aTask</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;TAS_DESCRIPTION&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Triggers_class">Triggers class</span></h2>
<p>The <tt>Triggers</tt> class is defined in <strong><tt>workflow/engine/classes/model/Triggers.php</tt></strong> and is used to manipulate the definition of Triggers, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.TRIGGERS</tt></strong> table in the database.</p>
<h3><span id="Trigger::Load.28.29">Trigger::Load()</span></h3>
<p><tt>Trigger::Load()</tt> returns information about a trigger.</p>

<codeblock><i>array</i> <strong>Trigger::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of a trigger, which can be found in the following ways:
<ul><li>Use the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#triggerList.28.29" title="3.0/ProcessMaker WSDL Web Services">triggerList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.TRIGGERS.TRI_UID</tt></strong> field in the database.</li><li>Use the query: <tt>SELECT CON_VALUE, CON_ID FROM CONTENT WHERE CON_CATEGORY='TRI_TITLE'</tt></li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i> (</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["TRI_UID"]</strong></tt>: The unique ID of the trigger.</dd>
    <dd><tt><i>string</i> <strong>["PRO_UID"]</strong></tt>: The unique ID of the process.</dd>
    <dd><tt><i>string</i> <strong>["TRI_TYPE"]</strong></tt>: The trigger type, which is always <tt>"SCRIPT"</tt>.</dd>
    <dd><tt><i>string</i> <strong>["TRI_WEBBOT"]</strong></tt>: The trigger code, which comes from a mediumtext field
        in MySQL</dd>
    <dd><tt><i>string</i> <strong>["TRI_PARAM"]</strong></tt>: Trigger parameters. If the trigger was created with
        a wizard, this field contains a serialized array with the trigger code created by the wizard and an MD5
        hash of that code. If the contents of TRI_WEBBOT do not hash to the same value, then ProcessMaker knows
        that the trigger code has been edited and will display the code in text editing window, rather than displaying
        it in the wizard.</dd>
    <dd><tt><i>string</i> <strong>["TRI_TITLE"]</strong></tt>: The trigger title.</dd>
    <dd><tt><i>string</i> <strong>["TRI_DESCRIPTION"]</strong></tt>: The trigger description.</dd>
</dl>
<p><tt>)</tt></p>
<p><strong>Example:</strong></p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$t</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Triggers<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aTrigInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$t</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'4294481154f3acef9040162095190758'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Executed Trigger <span style="color: #006699; font-weight: bold;">{$aTrigInfo['TRI_TITLE']}</span>.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;INFO&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h2><span id="Users_class">Users class</span></h2>
<p>The <tt>Users</tt> class is defined in <strong><tt>workflow/engine/classes/model/Users.php</tt></strong> and is used to manipulate users in ProcessMaker, which are stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.USERS</tt></strong> table in the database.</p>
<h3><span id="Users::Load.28.29">Users::Load()</span></h3>
<p><tt>Users::Load()</tt> returns information about a user.</p>

<codeblock><i>array</i> <strong>Users::Load</strong>(<i>string</i> uid)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><tt><i>string</i> <strong>uid</strong></tt>: The unique ID of a user, which can be found in the following ways:
<ul><li>Use the <tt>@@USER_LOGGED</tt> system variable for the user currently logged-in.</li><li>Use the <a href="../3.0/ProcessMaker_Functions.html#PMFUserList.28.29">PMFUserList()</a> or <a href="../index.php/Simple_Trigger_Web_Services.html#WSUserList" title="Simple Trigger Web Services">WSUserList()</a> functions or the <a href="../3.0/ProcessMaker_WSDL_Web_Services.html#userList.28.29" title="3.0/ProcessMaker WSDL Web Services">userList()</a> web service.</li><li>Query the <strong><tt>wf_&lt;WORKSPACE&gt;.USERS.USR_UID</tt></strong> field in the database.</li></ul>
</li>
</ul>
<p><strong>Return Value:</strong><br>An associative array with the following elements:<br><tt><i>array</i>(</tt></p>
<dl>
    <dd><tt><i>string</i> <strong>["USR_UID"]</strong></tt>: The user's unique ID.</dd>
    <dd><tt><i>string</i> <strong>["USR_USERNAME"]</strong></tt>: The user's username, which must be unique and is
        case insensitive.</dd>
    <dd><tt><i>string</i> <strong>["USR_PASSWORD"]</strong></tt>: An MD5 hash of the user's password,</dd>
    <dd><tt><i>string</i> <strong>["USR_FIRSTNAME"]</strong></tt>: The user's first name. Up to 50 characters long.</dd>
    <dd><tt><i>string</i> <strong>["USR_LASTNAME"]</strong></tt>: The user's last name. Up to 50 characters long.</dd>
    <dd><tt><i>string</i> <strong>["USR_EMAIL"]</strong></tt>: The user's email address. Up to 100 characters long.</dd>
    <dd><tt><i>string</i> <strong>["USR_DUE_DATE"]</strong></tt>: The date when the user's account is set to expire
        in the<tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["USR_CREATE_DATE"]</strong></tt>: The datetime when the user's profile was first
        created in the <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["USR_UPDATE_DATE"]</strong></tt>: The datetime when the user's profile was last
        updated in the <tt>"YYYY-MM-DD HH:MM:SS"</tt> format.</dd>
    <dd><tt><i>string</i> <strong>["USR_STATUS"]</strong></tt>: The user's status, which can be: <tt>"ACTIVE"</tt>,
        <tt>"INACTIVE"</tt> or <tt>"ON_VACATION"</tt>. Only users with <tt>"ACTIVE"</tt> status can login to the
        system.
    </dd>
    <dd><tt><i>string</i> <strong>["USR_COUNTRY"]</strong></tt>: A 2 character code to identify the user's country.
        To find the full name of the country, do a search in the <strong><tt>wf_&lt;WORKSPACE&gt;.ISO_COUNTRY</tt></strong>        table.</dd>
    <dd><tt><i>string</i> <strong>["USR_CITY"]</strong></tt>: This element (which is misnamed), is a 1-3 character
        code for the region or state. To find the full name of the region or state, do a search in the <strong><tt>wf_&lt;WORKSPACE&gt;.ISO_SUBDIVISION</tt></strong>        table.</dd>
    <dd><tt><i>string</i> <strong>["USR_LOCATION"]</strong></tt>: A 3 character code for the location (which is generally
        a city or county). To find the full name of the location, do a search in the <strong><tt>wf_&lt;WORKSPACE&gt;.ISO_LOCATION</tt></strong>        table.</dd>
    <dd><tt><i>string</i> <strong>["USR_ADDRESS"]</strong></tt>: The address. Up to 255 characters long.</dd>
    <dd><tt><i>string</i> <strong>["USR_PHONE"]</strong></tt>: The telephone number. Up to 24 characters long.</dd>
    <dd><tt><i>string</i> <strong>["USR_FAX"]</strong></tt>: The fax number. Up to 24 characters long.</dd>
    <dd><tt><i>string</i> <strong>["USR_CELLULAR"]</strong></tt>: The cellular telephone number. Up to 24 characters
        long.
    </dd>
    <dd><tt><i>string</i> <strong>["USR_ZIP_CODE"]</strong></tt>: The postal code or zip code. Up to 16 characters
        long.
    </dd>
    <dd><tt><i>string</i> <strong>["DEP_UID"]</strong></tt>: The unique ID for the user's department.</dd>
    <dd><tt><i>string</i> <strong>["USR_POSITION"]</strong></tt>: The user's position. Up to 100 characters long.</dd>
    <dd><tt><i>string</i> <strong>["USR_RESUME"]</strong></tt>: No longer used in version 3. In ProcessMaker 2, some
        versions allow uploading a resume file, of which the first 100 characters are displayed.</dd>
    <dd><tt><i>string</i> <strong>["USR_BIRTHDAY"]</strong></tt>: The date of the user's birthday in the <tt>"YYYY-MM-DD"</tt>        format.</dd>
    <dd><tt><i>string</i> <strong>["USR_ROLE"]</strong></tt>: The name of the role.</dd>
    <dd><tt><i>string</i> <strong>["USR_REPORTS_TO"]</strong></tt>: The unique ID for the user who the user reports
        to, i.e., the user's department manager.</dd>
    <dd><tt><i>string</i> <strong>["USR_REPLACED_BY"]</strong></tt>: The unique ID for the user who replaces this user
        when going on vacation or leave.</dd>
    <dd><tt><i>string</i> <strong>["USR_UX"]</strong></tt>: The <a href="../3.0/Skins.html#User_Experience_Skin" title="3.0/User Experience">User Experience</a>        interface for the user, which can be: <tt>"NORMAL"</tt>, <tt>"SIMPLIFIED"</tt> or <tt>"SWITCHABLE"</tt>.
        The simplified interface is designed for smartphones and mobile devices, which use less screen space and
        use finger touches and no right clicks.</dd>
</dl>
<p><tt>)</tt></p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong><font color="dimgray"> In most situations, it is recommended to use <a href="../3.0/ProcessMaker_Functions.html#userInfo.28.29" title="ProcessMaker Functions">userInfo()</a> to obtain user information, but <a href="#Users::Load.28.29">Users::Load()</a> can be used when extra information is needed.</font></p>
<p><strong>Example:</strong><br>Send an email from the current user's supervisor to the current user. Get the position of the current user, so that it will be inserted into the body of an email which contains the variable <tt>@#userPosition</tt>:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #666666; font-style: italic;">//G::LoadClass(&quot;users&quot;); //necessary if not in a trigger</span><br />
<span style="color: #000088;">$u</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Users<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aUserInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$u</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Load</span><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$supervisorEmail</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;boss@example.com&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">!</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUserInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;USR_REPORTS_TO&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aSupervisorInfo</span> <span style="color: #339933;">=</span> userInfo<span style="color: #009900;">&#40;</span><span style="color: #000088;">$aUserInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;USR_REPORTS_TO&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$supervisorEmail</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aSupervisorInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'mail'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #000088;">$supervisorEmail</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aUserInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_EMAIL'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;Send me a case report&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'reportOnCase.html'</span><span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'userPosition'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aUserInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'POSITION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="Users::userExists.28.29">Users::userExists()</span></h3>

<codeblock><i>int</i> <strong>Users::userExists</strong>(<i>string</i> $UsrUid)
</codeblock>

<h3><span id="Users::getAllInformation.28.29">Users::getAllInformation()</span></h3>

<codeblock><i>array</i> <strong>Users::getAllInformation</strong>(<i>string</i> $UsrUid)
</codeblock>

<h3><span id="Users::getAll.28.29">Users::getAll()</span></h3>

<codeblock> <i>array</i> <strong>Users::getAll</strong>(<i>int</i> $start=null, <i>int</i> $limit=null, $search=null)
</codeblock>
</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&amp;mt=8" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com/">
		<img src="../themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&amp;gid=3970335&amp;trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>

<!-- Mirrored from wiki.processmaker.com/node/480 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:29:37 GMT -->
</html>
