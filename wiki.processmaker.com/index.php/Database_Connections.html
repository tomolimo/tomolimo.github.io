<!DOCTYPE html>

<!-- Mirrored from wiki.processmaker.com/index.php/Database_Connections by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:12:53 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="../themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="Database_Connections.html" />
<link rel="shortlink" href="../node/133.html" />
<title>2.x - Database Connections | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("../modules/system/system.base2af9.css?s743n7");
@import url("../modules/system/system.menus2af9.css?s743n7");
@import url("../modules/system/system.messages2af9.css?s743n7");
@import url("../modules/system/system.theme2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../modules/aggregator/aggregator2af9.css?s743n7");
@import url("../modules/comment/comment2af9.css?s743n7");
@import url("../modules/field/theme/field2af9.css?s743n7");
@import url("../modules/node/node2af9.css?s743n7");
@import url("../modules/search/search2af9.css?s743n7");
@import url("../modules/toc_filter/toc_filter2af9.css?s743n7");
@import url("../modules/user/user2af9.css?s743n7");
@import url("../modules/views/css/views2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../sites/all/modules/colorbox/styles/default/colorbox_style2af9.css?s743n7");
@import url("../modules/ctools/css/ctools2af9.css?s743n7");
@import url("../sites/all/modules/geshifilter/geshifilter2af9.css?s743n7");
@import url("../modules/panels/css/panels2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus_default2af9.css?s743n7");
@import url("../modules/fivestar/css/fivestar2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../themes/thecompany_responsive_theme/css/style2af9.css?s743n7");
@import url("../themes/thecompany_responsive_theme/css/media2af9.css?s743n7");
</style>
<script type="text/javascript" src="../modules/jquery_update/replace/jquery/1.9/jquery.min4b17.js?v=1.9.1"></script>
<script type="text/javascript" src="../misc/jquery.once7839.js?v=1.2"></script>
<script type="text/javascript" src="../misc/drupal2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.bgiframef195.js?v=2.1"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.hoverIntent1f6b.js?v=0.5"></script>
<script type="text/javascript" src="../modules/nice_menus/js/superfish099d.js?v=1.4.8"></script>
<script type="text/javascript" src="../modules/nice_menus/js/nice_menusc619.js?v=1.0"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/ui/external/jquery.cookie1683.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/misc/jquery.form.min97e5.js?v=2.69"></script>
<script type="text/javascript" src="../misc/ajax2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/jquery_update/js/jquery_update241d.js?v=0.0.1"></script>
<script type="text/javascript" src="../modules/toc_filter/toc_filter2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../misc/progress2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar.ajax2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-1.10.2.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/custom2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"rTQJSSC0XQzb6xkGE57yqETCdGsCwcqZIWdh_V40Ofg","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','../../connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-133 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                            <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="https://wiki.processmaker.com/index.php/Database_Connections" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-0vBK4Q7Vj-UjejOIcGLjxXGpkhHfIXII2Z2ELuP1RtU" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">2.x - Database Connections</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a href="../3.2/Database_Connections.html" class="">3.8</a></li><li><a href="../3.2/Database_Connections.html" class="">3.7</a></li><li><a href="../3.2/Database_Connections.html" class="">3.6</a></li><li><a href="../3.2/Database_Connections.html" class="">3.5</a></li><li><a href="../3.2/Database_Connections.html" class="">3.4</a></li><li><a href="../3.2/Database_Connections.html" class="">3.3</a></li><li><a href="../3.2/Database_Connections.html" class="">3.2</a></li><li><a href="../3.0/Database_Connections.html" class="">3.1</a></li><li><a href="../3.0/Database_Connections.html" class="">3.0</a></li><li><a  class="active-version">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="2.x - Database Connections" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="https://wiki.processmaker.com/index.php/Database_Connections" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 2.x - Database Connections 1/5</option><option value="40">Give 2.x - Database Connections 2/5</option><option value="60" selected="selected">Give 2.x - Database Connections 3/5</option><option value="80">Give 2.x - Database Connections 4/5</option><option value="100">Give 2.x - Database Connections 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2.3</span></span> <span class="total-votes">(<span >3</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-btzlJowQKH3mxK3u9fyp8AiyGPZTPNftkYt2ikQo7PM" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="#Overview">Overview</a></li>
<li class="toc"><a href="#Prerequisites">Prerequisites</a></li>
<li class="toc"><a href="#Creating_a_New_Database_Connection">Creating a New Database Connection</a></li>
<ol class="toc">
<li class="toc"><a href="#ConfiguringTNS">Configuring the TNS </a></li>
</ol>
<li class="toc"><a href="#MySQL">MySQL</a></li>
<li class="toc"><a href="#PostgreSQL">PostgreSQL</a></li>
<ol class="toc">
<li class="toc"><a href="#Windows">Windows</a></li>
<li class="toc"><a href="#GNU.2FLinux_or_UNIX">GNU/Linux or UNIX</a></li>
</ol>
<li class="toc"><a href="#Microsoft_SQL_Server">Microsoft SQL Server</a></li>
<ol class="toc">
<li class="toc"><a href="#Windows_2">Windows</a></li>
<ol class="toc">
<li class="toc"><a href="#Setup_a_UTF-8_Connection_to_a_MSSQL_database">Setup a UTF-8 Connection to a MSSQL database</a></li>
</ol>
<li class="toc"><a href="#Linux.2FUNIX">Linux/UNIX</a></li>
<ol class="toc">
<li class="toc"><a href="#Red_Hat.2FCentOS.2FFedora">Red Hat/CentOS/Fedora</a></li>
<li class="toc"><a href="#Debian.2FUbuntu">Debian/Ubuntu</a></li>
<li class="toc"><a href="#SUSE.2FopenSUSE">SUSE/openSUSE</a></li>
</ol>
<li class="toc"><a href="#If_the_SQL_Server_database_does_not_use_UTF-8_encoding">If the SQL Server database does not use UTF-8 encoding</a></li>
<ol class="toc">
<li class="toc"><a href="#Solving_issues_with_UTF-8_characters">Solving issues with UTF-8 characters</a></li>
</ol>
<li class="toc"><a href="#Setup_FREETDS_in_Linux.2FUNIX">Setup FREETDS in Linux/UNIX</a></li>
<ol class="toc">
<li class="toc"><a href="#Change_MSSQLResultSet.php">Change <tt>MSSQLResultSet.php</tt></a></li>
</ol>
<li class="toc"><a href="#Collation_Database_Configuration">Collation Database Configuration</a></li>
</ol>
<li class="toc"><a href="#Oracle">Oracle</a></li>
<ol class="toc">
<li class="toc"><a href="#Windows_3">Windows</a></li>
<ol class="toc">
<li class="toc"><a href="#Oracle_versions_8_-_10">Oracle versions 8 - 10</a></li>
<li class="toc"><a href="#Oracle_11g">Oracle 11g</a></li>
<li class="toc"><a href="#Oracle_12c">Oracle 12c</a></li>
<li class="toc"><a href="#Restart_Windows_to_Enable_Extension">Restart Windows to Enable Extension</a></li>
</ol>
<li class="toc"><a href="#Red_Hat.2FCent_OS.2FFedora">Red Hat/Cent OS/Fedora</a></li>
<ol class="toc">
<li class="toc"><a href="#Install_Instant_Client">Install Instant Client</a></li>
<li class="toc"><a href="#Install_PDO_OCI">Install PDO_OCI</a></li>
<li class="toc"><a href="#Install_OCI8">Install OCI8</a></li>
</ol>
<li class="toc"><a href="#Debian.2FUbuntu_2">Debian/Ubuntu</a></li>
<ol class="toc">
<li class="toc"><a href="#Install_Instant_Client_2">Install Instant Client</a></li>
<li class="toc"><a href="#Install_PDO_OCI_2">Install PDO_OCI</a></li>
<li class="toc"><a href="#Install_OCI8_2">Install OCI8</a></li>
</ol>
<li class="toc"><a href="#Checking_the_Oracle_installation">Checking the Oracle installation</a></li>
<li class="toc"><a href="#Oracle_Troubleshooting">Oracle Troubleshooting</a></li>
<li class="toc"><a href="#Converting_UTF_8">Converting Oracle to UTF-8</a></li>
</ol>
<li class="toc"><a href="#Other_Types_of_Databases">Other Types of Databases</a></li>
<ol class="toc">
<li class="toc"><a href="#ODBC">ODBC</a></li>
<ol class="toc">
<li class="toc"><a href="#Installing_ODBC">Installing ODBC</a></li>
<li class="toc"><a href="#Using_ODBC_in_Triggers">Using ODBC in Triggers</a></li>
<li class="toc"><a href="#Populating_a_Textbox">Populating a Textbox</a></li>
<li class="toc"><a href="#Populating_a_Dropdown_Box">Populating a Dropdown Box</a></li>
<li class="toc"><a href="#Populating_a_Grid">Populating a Grid</a></li>
</ol>
</ol>
<li class="toc"><a href="#Discovering_Ports_and_Debugging">Discovering Ports and Debugging</a></li>
</ol>
</div></div>


<h2><span id="Overview">Overview</span></h2>

<p>Each ProcessMaker <a href="Workspaces.html" title="Workspaces">workspace</a>  maintains <a href="ProcessMaker_Database_Model.html" title="ProcessMaker Database Model">3 MySQL databases</a>  to store internal information about processes, user permissions and reports.
  Nonetheless, ProcessMaker can also be configured to connect to external
  databases, allowing an organization to integrate ProcessMaker with other
  DBMS and business applications which utilize databases.</p>

<p>ProcessMaker uses <a href="http://en.wikipedia.org/wiki/Propel_(PHP)">Propel</a>  library to map between ProcessMaker's PHP classes and databases. Propel
  allows access to the following DBMS <a href="http://en.wikipedia.org/wiki/MySQL">MySql</a>,
  <a href="http://www.microsoft.com/sql/default.mspx">Microsoft SQL Server</a>,
  <a href="http://en.wikipedia.org/wiki/Postgres">PostgreSQL</a>, and
  <a
    href="http://en.wikipedia.org/wiki/Oracle_database">Oracle</a>.</p>

<p>ProcessMaker automatically detects which database modules for PHP are installed
  on the server. For example if the <tt>php-pgsql</tt> module is installed
  on the ProcessMaker server, ProcessMaker will offer the option to connect
  to PostgreSQL databases.</p>

    <h2><span id="Prerequisites">Prerequisites</span></h2>    
<p>An Internet connection is required to access external databases and to download third-party components not supported by ProcessMaker that you may not have installed.</p>

<h2><span id="Creating_a_New_Database_Connection">Creating a New Database Connection</span></h2>

<p>To create a new database connection, open a process by going to <strong>DESIGN</strong>  tab and then go to <strong>DATABASE CONNECTION</strong>, the <i>Databases Source List</i>  will display as the image below.</p>

<p><img alt="" src="../sites/default/files/DatabaseConnectionCreationOption.png"></p>

<p>At the top of the list of existing database connections, click the "New"
  link to define a new database connection.</p>

<p><img alt="" src="../sites/default/files/DatabaseConnectionCreationWindow.png"></p>

<p>Fill in the following information:</p>
<ul>
    <li><strong>Engine</strong>: Select the type of database, which can be MySql, PostgreSQL, Microsoft SQL Server,
        or Oracle. ProcessMaker will only offer databases in the dropdown list which have PHP extensions installed
        on your server. See the documentation below to install the required PHP extensions for each type of database.
        After installing one of the extensions, remember to restart the Apache server for the new extension to
        be loaded in PHP.
        <ul>
            <li><strong>Encode</strong>: If MySQL or PosgreSQL is selected in ProcessMaker version 1.2-2425 and later,
                the option <strong>Encode</strong> will appear below <strong>Engine</strong> to allow the character
                encoding of the database to be selected. Look up the encoding of your external database.</li>
            <li><strong>Select Connection Type</strong>: If Oracle is selected, then a field will appear to select
                whether to connect to the database normally or to use <strong>TNS</strong> (<a href="http://docs.oracle.com/cd/B28359_01/network.111/b28316/glossary.htm#BGBCJBBD">Transparent Network Substrate</a>),
                which is Oracle's proprietary networking protocol.</li>
        </ul>
    </li>
</ul>

<dl>
    <dd>

        <p><img alt="" src="../sites/default/files/OracleDBSelectConnectionType.png"></p>
    </dd>
</dl>

<ul>
    <li><strong>Server</strong>: IP address or domain name where the database source is installed.</li>
    <li><strong>Database Name</strong>: The name of the database to use.</li>
    <li><strong>Username</strong>: The username to log into the external database.</li>
    <li><strong>Password</strong>: The password to log into the external database.</li>
</ul>

<!--<dl><dd><dl><dd><span style="color: green; font-size: 8pt;"><strong>Warning:</strong></span> <span style="color: grey; font-size: 8pt;"><i><strong>The password for the Database Connection is stored as normal text in the </strong><tt>wf_&lt;WORKSPACE&gt;.DB_SOURCE.DBS_PASSWORD</tt><strong> field in the MySQL database, so make sure to restrict access to your database.</strong></i></span></dd></dl></dd></dl>-->

<ul>
    <li><strong>Port</strong>: The port used by the external database. If this field is left empty, the routine will
        use the default port, which is 3306 for MySQL, 5432 for PostgreSQL, 1521 for Oracle, and 1433 for SQL Server.
        If unsure which port is being used by a database see
        <a href="Database_Connections.html#Discovering_Ports_and_Debugging">Discovering Ports and Debugging</a>        below.</li>
</ul>
<ul>
    <li><strong>Description</strong>: Add any additional information about the external database.</li>
</ul>

<p>Once you have filled out this information, you need to test the connection
  by clicking on the <strong>Test Connection</strong> button. The test
  routine verifies hostname, port, service, the user access, and the existence
  of the database, as shown in this illustration:</p>

<p><img alt="" src="../sites/default/files/TestingServerDatabaseConnection.png"></p>

<p>If the test is successful, then click <strong>Create</strong> to set up
  the connection. After that the database connection will be available
  for the current process. It can be used in <a href="2.0/Common_Field_Properties.html#SQL">SQL SELECT statements</a>in
  DynaForms fields and with the <a href="ProcessMaker_Functions.html#executeQuery.28.29">executeQuery()</a>  function in triggers.</p>

<h3><span id="ConfiguringTNS">Configuring the TNS </span></h3>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong>
  <font color="dimgray">
  Use this configuration if using ProcessMaker v. 2.8 or later. </font>
</p>

<p>In order to configure the TNS the tnsnames.ora file must be edited, create
  this If this file does not exist. This file is located at:</p>

<span class="geshifilter"><code class="text geshifilter-text">/usr/lib/oracle/11.2/client64/lib/network/admin/tnsnames.ora</code></span>

<p>This location will depend on the Linux distribution used.</p> Then, modify the file with the following content:

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">TEST1 =<br />
&nbsp; &nbsp; (DESCRIPTION =<br />
&nbsp; &nbsp; &nbsp; &nbsp; (ADDRESS_LIST =<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.11.92)(PORT = 1521))<br />
&nbsp; &nbsp; &nbsp; &nbsp; )<br />
&nbsp; &nbsp; &nbsp; &nbsp; (CONNECT_DATA =<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (SERVICE_NAME = TEST)<br />
&nbsp; &nbsp; &nbsp; &nbsp; )<br />
&nbsp; &nbsp; &nbsp;)</div></div>
<h2><span id="MySQL">MySQL</span></h2>

<p>All the necessary modules should already be installed in order to use an
  external MySQL database, since those same modules are needed to use the
  internal databases used by ProcessMaker.</p>

<p>By default MySQL servers are set up to only receive local connections from
  the localhost. If ProcessMaker is trying to connect to a MySQL server
  on another machine, then that server will have to be configured to allow
  external connections. Edit the <tt>my.cnf</tt> file of the MySQL server
  and comment out the line:</p>

<codeblock># bind-address  = 127.0.0.1</codeblock>

<p>Then reload or restart the MySQL server. To check whether MySQL is listening
  for external connections, in Windows issue the command:</p>

<codeblock>netstat -an</codeblock>

<p>You should see a line such as:</p>

<codeblock>TCP      127.0.0.1:3306       0.0.0.0:0       LISTENING</codeblock>

<p>In Linux/UNIX, use the command:</p>

<codeblock>netstat -tanp</codeblock>

<p>You should see a line such as:</p>

<codeblock>tcp      0      0 0.0.0.0:3306       0.0.0.0:*       LISTEN    2270/mysqld</codeblock>

<p>When setting up a Database Connection to an external MySQL database, it
  is necessary to select the <a href="http://dev.mysql.com/doc/refman/5.0/en/charset-connection.html">character encoding</a>,
  such as Latin-1 and UTF-8. To find out the character encoding used by
  a MySQL database, log into MySQL and change to the database and issue
  the <tt>status</tt> command:</p>

<codeblock>
<strong>mysql -u root -p</strong>
mysql&gt; <strong>show databases;</strong>
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| example_db         |
+--------------------+
3 rows in set (0.00 sec)

mysql&gt; <strong>use example_db;</strong>
Database changed
mysql&gt; <strong>status;</strong>
--------------
mysql  Ver 14.12 Distrib 5.0.51a, for debian-linux-gnu (i486) using readline 5.2

Connection id:         6054
Current database:      example_db
Current user:          root@localhost
SSL:                   Not in use
Current pager:         stdout
Using outfile:
Using delimiter:       ;
Server version:        5.0.51a-24 (Debian)
Protocol version:      10
Connection:            Localhost via UNIX socket
Server characterset:   latin1
Db     characterset:   utf8
<strong>Client characterset:   latin1</strong>
<strong>Conn.  characterset:   latin1</strong>
UNIX socket:           /var/run/mysqld/mysqld.sock
Uptime:                12 days 3 hours 51 min 33 sec
</codeblock>

<p>Look for the "<tt>client characterset</tt>" which is the character set
  in which ProcessMaker will send queries to the MySQL database and the
  "<tt>Conn. characterset</tt>" which is the character set which MySQL
  will send information back to ProcessMaker.</p>

<p>In the configuration of ProcessMaker's Database Connection, set <strong>Encode</strong>  to the character set used by "<tt>Client characterset</tt> and "<tt>Conn. characterset</tt>".
  ProcessMaker expects the Client and Connection character set to be the
  same. If they aren't the same, change them to be the same. You can change
  them temporarily with:</p>

<codeblock>SET NAMES <i>&lt;character-set&gt;</i>;</codeblock>

<p>To change them permanently, add the following lines to my.cnf:</p>

<codeblock>
character_set_client = <i>&lt;character-set&gt;</i>
character_set_results = <i>&lt;character-set&gt;</i>
character_set_connection = <i>&lt;character-set&gt;</i>
</codeblock>

<p>Then reload or restart the MySQL server.</p>

<h2><span id="PostgreSQL">PostgreSQL</span></h2>

<p>In order for ProcessMaker to connect to a PostgreSQL database, the PostgreSQL
  client software and the PHP module "<tt>pgsql</tt>" has to be installed
  on the same machine as the ProcessMaker server. If the PosgreSQL database
  does not use the UTF-8 character set and it contains non-ASCII characters,
  then see this bug</a>.</p>

<p>If the PostgreSQL database is located on a different server than the ProcessMaker
  server, remember to <a href="http://www.cyberciti.biz/tips/postgres-allow-remote-access-tcp-connection.html">configure PostgreSQL</a>  to allow for connections from the ProcessMaker server.</p>

<h3><span id="Windows">Windows</span></h3>

<p>Download the <a href="http://www.postgresql.org/download/windows">pgInstaller for Windows</a>  and install the PostgreSQL client software (and the server as well if
  you plan on running PostgreSQL server from the same machine as the ProcessMaker
  server).</p>

<p>Then go to the directory where you installed PHP and verify that you have
  the <b>dynamic link libraries</b> <code><tt>php_pgsql.dll</tt></code>  and <code><tt>php_pdo_pgsql.dll</tt></code> located in the <tt>ext</tt>  directory. If you used the ProcessMaker Windows Installer, these files
  can be found at: <b>C:\Program Files\ProcessMaker\php\ext\</b></p>

<p>Then enable PHP's PostgreSQL modules, by opening the PHP configuration
  file <tt>php.ini</tt> with a plain text editor. If you used the ProcessMaker
  Windows Installer, it will be located at:<code><tt>&lt;INSTALL-DIRECTORY&gt;\php\php.ini</tt></code></p>

<p>Look for the "<tt>Windows Extensions</tt>" section and uncomment the PostgreSQL
  modules by removing the semicolon (;) from the beginning of the following
  lines:</p>

<codeblock>extension=php_pdo_pgsql.dll
extension=php_pgsql.dll
</codeblock>

<p>Then restart the Apache server to use the new PHP configuration, by either
  rebooting or by going to the command line (located at <strong>Start &gt; All Programs &gt; Accessories &gt; Command Prompt</strong>)
  and issuing the command:</p>

<codeblock> httpd -k restart
</codeblock>

<p>To verify that PHP is now using the PostgreSQL modules, create a file named
  <strong><tt>info.php</tt></strong> with a bare text editor containing:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
&nbsp; &nbsp;<a href="http://php.net/phpinfo"><span style="color: #990000;">phpinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>

<p>and save it to your <strong><tt>workflow\public_html\</tt></strong> directory,
  which generally will be found at: <strong><tt>C:\Program Files\ProcessMaker\apps\processmaker\htdocs\workflow\public_html\</tt></strong></p>

<p>Then, open your web browser and direct it to <strong><tt>http://localhost/info.php</tt></strong>  to verify that the <tt>pdo_pgsql</tt> and <tt>pgsql</tt> extensions are
  enabled in PHP.</p>

<p>Then, open ProcessMaker and go to <strong>Processes</strong>. Open a process
  and go to <strong>DATABASE CONNECTIONS</strong> and click on the <strong>New</strong>  link. PostgreSQL should now be an available option under the<strong>Engine</strong>  dropdown box.</p>
<h3><span id="GNU.2FLinux_or_UNIX">GNU/Linux or UNIX</span></h3>

<p>It is best to install the PostgreSQL client and PostgreSQL's PHP module
  using the repositories of your distribution.</p>

<p><strong>Red Hat/Cent OS/Fedora:</strong><br>Login as root and issue the
  commands:</p>

<codeblock>yum install postgresql php-pgsql
/etc/init.d/httpd restart
</codeblock>

<p><strong>Debian/Ubuntu:</strong><br>Login as root and issue the commands:</p>

<codeblock>su   <i><strong>or</strong></i>   sudo -s
apt-get install postgresql-client php5-pgsql
/etc/init.d/apache2 restart
</codeblock>

<p><strong>SUSE/openSUSE:</strong><br>Login as root and issue the commands:</p>

<codeblock>su   <i><strong>or</strong></i>   sudo -s
zypper install postgresql php5-pgsql
rcapache2 restart
</codeblock>

<p>After installing, verify that the <tt>pgsql</tt> and <tt>pdo_pgsql</tt>  modules are enabled in PHP with the command:</p>

<codeblock>php -m
</codeblock>

<p>Then, open ProcessMaker in a web browser. Go to <strong>PROCESSES</strong>  and open a process. Then, go to <strong>DATABASE CONNECTIONS</strong>  and click on the <strong>New</strong> link. PostgreSQL should now be
  an available option in the <strong>Engine</strong> dropdown box.</p>
<h2><span id="Microsoft_SQL_Server">Microsoft SQL Server</span></h2>

<p>To connect ProcessMaker to SQL Server databases, either install MS SQL
  Client Tools on Windows machines or install FreeTDS on Linux/UNIX machines.</p>
<h3><span id="Windows_2">Windows</span></h3>

<p>If Microsoft SQL Server is installed on the same machine as ProcessMaker,
  then ProcessMaker should automatically detect it and it should be listed
  as an available option under Database Connections. Otherwise, install
  the SQL Client Tools which can be found on the Microsoft SQL Server CD.
  Configuration of the client will require installation of all the tools.
  If the SQL Server CD isn't available, make a copy of SQL Server's <i>dynamic link library</i>  found at <tt>\winnt\system32\ntwdblib.dll</tt> on a machine which has
  SQL Server or SQL Client Tools installed. Then copy the <tt>ntwdblib.dll</tt>  file into the <tt>\winnt\system32</tt> directory of your ProcessMaker
  server.</p>

<p>Make sure that the version of <tt>ntwdblib.dll</tt> matches the version
  of SQL Server. For instance, the dynamic link library for SQL Server
  2003 will not work to connect to SQL Server 2005.</p>

<p>Then edit the <strong><tt>php.ini</tt></strong> file, that is generally
  located at <strong><tt>C:\Program Files\ProcessMaker\php\php.ini</tt></strong>,
  to enable the mssql extension:</p>

<codeblock> extension=mssql.dll
</codeblock>

<p>Then restart the Apache server to use the new PHP configuration, by going
  to the command line (located at <strong>Start &gt; All Programs &gt; Accessories &gt; Command Prompt</strong>)
  and issuing the command:</p>

<codeblock> httpd -k restart
</codeblock>

<p>To verify that PHP is now using the <tt>mssql</tt> extension, create a
  file named <strong><tt>info.php</tt></strong> with a bare text editor
  containing:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
&nbsp; &nbsp;<a href="http://php.net/phpinfo"><span style="color: #990000;">phpinfo</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>

<p>and save it to your <strong><tt>workflow\public_html\</tt></strong> directory,
  which generally will be found at: <strong><tt>C:\Program Files\ProcessMaker\apps\processmaker\htdocs\workflow\public_html\</tt></strong></p>

<p>Then, open your web browser and direct it to <strong><tt>http://localhost/info.php</tt></strong>  to verify that the <tt>pdo_mssql</tt> and <tt>mssql</tt> extensions are
  enabled in PHP.</p>

<p>Then, open ProcessMaker and go to <strong>Processes</strong>. Open a process
  and go to <strong>DATABASE CONNECTIONS</strong> and click on the <strong>New</strong>  link. MS SQL should now be an available option under the<strong>Engine</strong>  dropdown box.</p>

<h4><span id="Setup_a_UTF-8_Connection_to_a_MSSQL_database">Setup a UTF-8 Connection to a MSSQL database</span></h4>

<p>The following steps <strong>must be followed</strong> to solve problems
  with characters different from English:</p>

<ul>
    <li>Download the <a href="http://docs.moodle.org/25/en/Installing_MSSQL_for_PHP#Using_FreeTDS_on_Windows"><tt>php_dblib.dll</tt> freeTDS driver</a>        for your version of PHP (ex: here 5.2)</li>
</ul>
<ul>
    <li>Copy this file inside <tt>php\ext</tt> folder(Eg: C:\ProcessMaker\php\ext)</li>
</ul>

<p><img alt="" src="../sites/default/files/CopyingFile.png"></p>

<ul>
    <li>In the <tt>php.ini</tt> file comment the old <tt>extension=php_mssql.dll</tt> and the new <tt>extension=php_dblib.dll</tt></li>
</ul>

<p><img alt="" src="../sites/default/files/ComentingExtensions.png"></p>

<ul>
    <li>Create a new file named <b><tt>C:\freetds.conf</tt></b> on the server where ProcessMaker is installed. (This
        location can be changed with an Environment Variable. See the next item.)<br> Edit the file with following
        content:
        <div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">[global]<br />
host = xxx.xxx.xxx.xxx<br />
port = 1433<br />
client charset = UTF-8<br />
tds version = 8.0<br />
text size = 20971520</div></div>Set xxx.xxx.xxx.xxx to the address of the MSSQL server. If ProcessMaker and MSSQL are installed on
        the same server, than use <code>localhost</code>
    </li>

    <li><i>Optional.</i> To change the default path from <tt>C:\</tt> to a customized path, add the following Environment
        Variable (don’t forget to restart the computer):
        <ul>
            <li><strong>Name:</strong> <code>FREETDS</code></p>
                <li><strong>Value:</strong> Set the path to the directory holding the
                    <b><tt>freetds.conf</tt></b> file. Ex: <code>C:\ ProcessMaker\php\ext</code></p>
        </ul>
        <li>Restart Apache to take into account the new MSSQL extension</li>
        <li>Now you will be able to connect and pull Chinese characters from MSSQL.</li>
</ul>

<p><img alt="" src="../sites/default/files/ChineseCharactersMSSQL.png"></p>

<h3><span id="Linux.2FUNIX">Linux/UNIX</span></h3>

<p>ProcessMaker servers running on Linux/UNIX can access Microsoft SQL Server
  or Sybase databases by installing <a href="http://www.freetds.org/">FreeTDS</a>.
  Most distributions provide FreeTDS and a PHP extension for SQL Server
  or Sybase. If your distribution doesn't provide a package for FreeTDS,
  see <a href="http://www.freetds.org/userguide/config.htm">these instructions</a>  to compile FreeTDS from the source code.</p>

<p>If planning on executing stored procedures on the SQL Server database,
  edit the FreeTDS configuration file, which is generally found at <strong><tt>/etc/freetds/freetds.conf</tt></strong></p>

<p>Edit the following lines to specify the IP address and port of server where
  SQL Server is installed and the TDS version number:</p>

<div class="geshifilter"><div class="text geshifilter-text" style="font-family:monospace;">host = xxx.xxx.xxx.xxx<br />
port = 1433<br />
tds version = 8.0<br />
client charset = UTF-8</div></div>

<h4><span id="Red_Hat.2FCentOS.2FFedora">Red Hat/CentOS/Fedora</span></h4>

<p>Install FreeTDS and the <tt>php-mssql</tt> package using <tt>yum</tt>:</p>

<codeblock>yum install freetds php-mssql</codeblock>

<p>Then, edit the <strong><tt>/etc/php.ini</tt></strong> file to enable the
  mssql extension:</p>

<codeblock>extension=mssql.so</codeblock>

<p>Finally, restart Apache:</p>

<codeblock>/etc/init.d/httpd restart</codeblock>

<p>For older versions of Red Hat/CentOS which don't contain a <tt>php-mssql</tt>  package, see <a href="http://www.howtoforge.com/installing_php_mssql_centos5.0">these instructions</a>  to manually compile FreeTDS and PHP's <tt>mssql</tt> extension.</p>

<h4><span id="Debian.2FUbuntu">Debian/Ubuntu</span></h4>

<p>If using Debian 6 (Squeeze) or Ubuntu 9.10 (Karmic Koala) or later, login
  as root (or use <strong><tt>sudo</tt></strong>) to install FreeTDS and
  the <strong><tt>php5-sybase</tt></strong> package (which will work for
  MS SQL Server as well). Then, restart apache:</p>

<codeblock>
apt-get install freetds-bin php5-sybase
/etc/init.d/apache2 restart
</codeblock>

<p>If using Debian 5 (Lenny), install the <strong><tt>freetds-common</tt></strong>  package instead:</p>

<codeblock>
apt-get install freetds-common php5-sybase
/etc/init.d/apache2 restart
</codeblock>

<p>For older versions of Debian and Ubuntu, compile FreeTDS from source.</p>

<h4><span id="SUSE.2FopenSUSE">SUSE/openSUSE</span></h4>

<p>SUSE/openSUSE does not provide a PHP package to access MS SQL Servers,
  so <a href="http://www.freetds.org/">freeTDS</a> and the <a href="http://php.net/manual/en/book.mssql.php">mssql</a>  PHP extension will have to be compiled from source.</p>

<p>First, install the <strong><tt>unixOBDC</tt></strong> package and the tools
  for compiling:</p>

<codeblock>zypper install unixOBDC gcc make</codeblock>

<p>Then, download the <a href="../../mirrors.ibiblio.org/freetds/stable/freetds-stable.tgz">source code</a>  for the latest stable version of freeTDS. Then, decompress the code and
  configure and compile it:</p>

<codeblock>
tar xzf freetds-stable.tgz
cd freetds-0.82/
./configure -with-unixODBC=/usr/lib
make
make install
</codeblock>

<p>Then, install the <strong><tt>php5-devel</tt></strong> package (which contains
  the <strong><tt>phpize</tt></strong> command):</p>

<codeblock>zypper install php5-devel</codeblock>

<p>Next, check which version of PHP you are using:</p>

<codeblock>php -i</codeblock>

<p>Then, download the <a href="http://www.php.net/releases/">source code</a>  for your version of PHP to a local directory. Decompress the code. Then,
  switch to the <strong><tt>ext/mssql</tt></strong> directory and compile
  the <strong><tt>mssql</tt></strong> extension. Note that the following
  commands will <i>only</i> compile the <strong><tt>mssql</tt></strong>  extension and insert it into your existing installation of PHP without
  altering anything else:</p>

<codeblock>
tar xzf php-5.3.3.tar.gz
cd php-5.3.3/ext/mssql
phpize
./configure
make
make install
</codeblock>

<p>Then, configure PHP to use the new extension by editing the PHP configuration
  files:</p>

<codeblock>
vi /etc/php5/apache2/php.ini
vi /etc/php5/cli/php.ini
</codeblock>

<p>In both files, add the line:</p>

<codeblock>extension=mssql.so</codeblock>

<p>Finally, restart Apache to be able to use the new <strong><tt>mssql.so</tt></strong>  extension:</p>

<codeblock>rcapache2 restart</codeblock>

<h3><span id="If_the_SQL_Server_database_does_not_use_UTF-8_encoding">If the SQL Server database does not use UTF-8 encoding</span></h3>

<p>Some issues might arise if the SQL Server database does not use the UTF-8
  character set and it contains non-ASCII characters, because <i>ProcessMaker is designed to use UTF-8</i>.
  This means:</p>
<ul>
    <li>The source code of PM is written in UTF-8, and produce UTF-8 HTML pages.</li>
</ul>
<ul>
    <li>The character set for the Apache server needs to be in UTF-8.</li>
</ul>
<ul>
    <li>The AJAX requests using JSON encode are in UTF-8.</li>
</ul>
<ul>
    <li>The collation in MySQL for ProcessMaker databases is in UTF-8.</li>
</ul>

<p>In other words, these four components need to be in UTF-8 for everything
  to work: <i>source code</i>, <i>Apache server</i>, <i>interactive data</i>  and <i>database fields</i>.</p>

<h4><span id="Solving_issues_with_UTF-8_characters">Solving issues with UTF-8 characters</span></h4>

<p>To display Unicode data from SQL server, it is recommended to:</p>
<ul>
    <li><a href="Database_Connections.html#Setup_a_UTF-8_Connection_to_a_MSSQL_database" title="Database Connections">Setup freetds</a>        to get send UTF-8 data to ProcessMaker.</li>
</ul>
<ul>
    <li>Remove some lines in the <a href="Database_Connections.html#Change_MSSQLResultSet.php" title="Database Connections">MSSQLResultSet.php</a>        file.</li>
</ul>

<h3><span id="Setup_FREETDS_in_Linux.2FUNIX">Setup FREETDS in Linux/UNIX</span></h3>

<p>To avoid permissions problems with the <strong><tt>freetds.conf</tt></strong>  file, it is recommended to give the <strong><tt>freetds.conf</tt></strong>  file world read permissions. For example:</p>

<codeblock>chmod +r /etc/freetds/freetds.conf</codeblock>

<p>Make the environment variable <code>FREETDSCONF</code> point to the location
  of the <strong><tt>freetds.conf</tt></strong> file. At the beginning
  of the Apache service script (which is located at <strong><tt>/etc/init.d/httpd</tt></strong>  in Red Hat/Cent OS/Fedora and at <strong><tt>/etc/init.d/apache2</tt></strong>  in Debian/Ubuntu/SuSE), add the following line:</p>

<codeblock>export FREETDSCONF=/etc/freetds/freetds.conf</codeblock>

<p>Finally, in the global section of the <strong><tt>freetds.conf</tt></strong>  file, change the following lines to:</p>

<codeblock>
tds version = 8.0
client charset = UTF-8
</codeblock>

<h4><span id="Change_MSSQLResultSet.php">Change <tt>MSSQLResultSet.php</tt></span></h4>

<p>Once freetds is getting all data in UTF-8, the code is no longer needed
  to convert all fields to UTF-8. Remove the lines 123-133 from the <strong><tt>MSSQLResultSet.php</tt></strong>  file, which is located at:</p>
<dl>
    <dd><strong><tt>/gulliver/thirdparty/creole/drivers/mssql/MSSQLResultSet.php</tt></strong></dd>
</dl>

<h3><span id="Collation_Database_Configuration">Collation Database Configuration</span></h3>

<p>Usually when trying to execute queries which contains the character <strong><tt>ñ</tt></strong>,
  an error will occur. If searching in fields, the result will be <code>NULL</code>.</p>

<p>The problem is that the database collation in ProcessMaker is configured
  with UTF-8. To make that work, data must be transformed using PHP's
  <a
    href="http://php.net/manual/en/function.mb-convert-encoding.php">mb_convert_encoding()</a> function to convert from the character set
    used by the SQL Server database to UTF-8. If converting from ISO-8859-1,
    which is the most commonly used character set in Windows, the <a href="http://php.net/manual/en/function.utf8-encode.php">utf8_encode()</a>    and<a href="http://php.net/manual/en/function.utf8-decode.php">utf8_decode()</a>    functions can be used.</p>

<p>For example, the following trigger code converts from UTF-8 to ISO-8859-1
  to send queries to an SQL Server database and then it converts the search
  results from ISO-8859-1 to UTF-8, so the results can be displayed in
  a grid field in ProcessMaker:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$idMssql</span> &nbsp;<span style="color: #339933;">=</span> <span style="color: #0000ff;">'11609821854ca4355344560009542371'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//change UID for database connection to SQL Server</span><br />
<span style="color: #000088;">$group</span> <span style="color: #339933;">=</span> <a href="http://php.net/utf8_decode"><span style="color: #990000;">utf8_decode</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>SelectedGroup<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//convert from UTF-8 to ISO-8859-1</span><br />
<span style="color: #000088;">$rows</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT FIRST_NAME + ' ' + LAST_NAME from TABLE_EMPLOYEES<br />
&nbsp; &nbsp;where GROUP = '<span style="color: #006699; font-weight: bold;">$group</span>' and COMPANY in ('5','4','3','1')&quot;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$idMssql</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #666666; font-style: italic;">//place search results in a grid field named &quot;EmployeesGrid&quot; which has the rows firstName and lastName,</span><br />
<span style="color: #666666; font-style: italic;">//which will be displayed in a subsequent DynaForm:</span><br />
<span style="color: #339933;">@=</span>EmployeesGrid <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">for</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&amp;</span>lt<span style="color: #339933;">;=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$rows</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #666666; font-style: italic;">//use utf8_encode() to convert from ISO-8859-1 to UTF-8:</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@=</span>EmployeesGrid<span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'firstName'</span> <span style="color: #339933;">=&amp;</span>gt<span style="color: #339933;">;</span> <a href="http://php.net/utf8_encode"><span style="color: #990000;">utf8_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$rows</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FIRST_NAME'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'lastName'</span> &nbsp;<span style="color: #339933;">=&amp;</span>gt<span style="color: #339933;">;</span> <a href="http://php.net/utf8_encode"><span style="color: #990000;">utf8_encode</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$rows</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'LAST_NAME'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h2><span id="Oracle">Oracle</span></h2>

<p>In order to connect to an Oracle database, Oracle's client software must be installed on the same server running ProcessMaker. If the Oracle database does not use the UTF-8 character set which is used by ProcessMaker, then see <a href="#Converting_UTF_8">Converting Oracle to UTF-8</a>.</p>

<p style="margin-left:25px"><strong><font color="green">Note:</font></strong>
  <font color="dimgray">
  If using Oracle Instant Client to connect to an Oracle database, make
    sure to use the same version of Instant Client as the Oracle Database.
    The following SQL command can be used to find the version of the database:
    <codeblock>SELECT version FROM V$INSTANCE</font></codeblock></font>
</p>

<h3><span id="Windows_3">Windows</span></h3>

<p>Install the Oracle Instant Client, Client or Server on the same server
  running ProcessMaker. Oracle Instant Client can be downloaded for free
  at:</p>
<dl>
    <dd><a href="http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html">http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html</a></dd>
</dl>

<p>Download the ZIP file for the version of Instant Client Basic which corresponds
  to your version of Oracle Server. Since PHP in Windows is most likely
  32 bit, download the 32 bit version of Instant Client Basic.</p>

<p>The Instant Client files can be placed anywhere but Oracle <a href="http://www.oracle.com/technetwork/articles/dsl/technote-php-instant-084410.html">recommends</a>  that they be decompressed in the <strong><tt>C:\</tt></strong> directory,
  so the Instant Client will located at a path such as:</p>
<dl>
    <dd><strong><tt>C:\instantclient_12_1</tt></strong></dd>
</dl>

<p>Then add the path to the Instant Client to the %Path% system variable,
  so that the OCI8 extension can find it. Go to <strong>Start &gt; All Programs &gt; Accessories</strong>.
  Right click on <strong>Command Prompt</strong>and select the <strong>Run as Administrator</strong>  option from the context menu.</p>

<p><img alt="" src="../sites/default/files/RunCommandPromptAsAdministrator.png"></p>

<p>In the terminal window which opens, enter the following command to add
  the location of the Instant Client to the <code>%PATH%</code>:</p>

<codeblock>setx \M PATH "%PATH%;<i><strong>C:\instantclient_12_1</strong></i>"</codeblock>

<p>(Change <code><i><strong>C:\instantclient_12_1</strong></i></code> to the
  location where Instant Client is installed.)</p>

<h4><span id="Oracle_versions_8_-_10">Oracle versions 8 - 10</span></h4>

<p>After installing Oracle's software on the same server running ProcessMaker,
  enable PHP's OCI8 extension to connect to Oracle. The DLL file to use
  Oracle version 8 through 10, should already be included by default in
  PHP. Verify that your installation includes the file <strong><tt>&lt;INSTALL-DIRECTORY&gt;\php\ext\php_oci8.dll</tt></strong>.
  If not, see <a href="http://www.php.net/manual/en/oci8.installation.php">Installing OCI8 on Windows</a>.</p>

<p>Next, edit <strong><tt><a href="File_Locations.html#Installation_Directory" title="File Locations">&lt;INSTALL-DIRECTORY&gt;</a>\php\php.ini</tt></strong>  with a plain text editor (like Notepad or <a href="http://notepad-plus-plus.org/">Notepad++</a>)
  and add the following line:</p>

<codeblock>extension=php_oci8.dll </codeblock>

<p>If this line already exists with a ";" (semicolon) in front, remove the
  semicolon to uncomment the line.</p>

<h4><span id="Oracle_11g">Oracle 11g</span></h4>

<p>To use PHP's OCI8 extension for Oracle 11g, PHP will need to be version
  5.3 or later. After installing Oracle's client software on the same server
  running ProcessMaker, enable PHP's OCI8 extension for Oracle 11g. Check
  to see whether the OCI8 extension file is found at <strong><tt>&lt;PHP-DIRECTORY&gt;\ext\php_oci8_11g.dll</tt></strong>.
  For example:<strong><tt>C:\Users\Administrator\AppData\Roaming\ProcessMaker-2_5_2\php\ext\php_oci8_11g.dll</tt></strong></p>

<p>If the <strong><tt>php_oci8_11g.dll</tt></strong> extension file isn't
  including in PHP, see <a href="http://www.oracle.com/technetwork/articles/dsl/technote-php-instant-084410.html">Installing OCI8 on Windows</a>  for instructions on how to obtain the file and place it the <strong><tt>/ext</tt></strong>  directory.</p>

<p>Next, edit the [2.0/Additional_Configuration#Configuring_PHP <tt>php.ini</tt>]
  file with a plain text editor (like Notepad or <a href="http://notepad-plus-plus.org/">Notepad++</a>)
  and add the following line:</p>

<codeblock>extension=php_oci8_11g.dll</codeblock>

<p>If this line already exists with a ";" (semicolon) in front, remove the
  semicolon to uncomment the line.</p>
<dl>
    <dd>

        <p style="margin-left:25px"><strong><font color="red">Warning:</font></strong>
      <font color="dimgray">
      Either the <strong><tt>php_oci8.dll</tt></strong> or <strong><tt>php_oci8_11g.dll</tt></strong>        can be enabled, but not <i>both</i> at the same time.</font>
    </p>
    </dd>
</dl>

<h4><span id="Oracle_12c">Oracle 12c</span></h4>

<p>To use PHP's OCI8 extension for Oracle 12c, PHP will need to be version
  5.3 or later. After installing Oracle's client software on the same server
  running ProcessMaker, enable PHP's OCI8 extension for Oracle 12c. Check
  to see whether the OCI8 extension file is found at <strong><tt>&lt;PHP-DIRECTORY&gt;\ext\php_oci8_12c.dll</tt></strong>.
  For example:<strong><tt>C:\Users\Administrator\AppData\Roaming\ProcessMaker-2_5_2\php\ext\php_oci8_12c.dll</tt></strong></p>

<p>If the <strong><tt>php_oci8_12c.dll</tt></strong> extension file isn't
  including in PHP, see <a href="http://www.oracle.com/technetwork/articles/dsl/technote-php-instant-12c-2088811.html">Installing OCI8 on Windows</a>  for instructions on how to obtain the file and place it the <strong><tt>/ext</tt></strong>  directory.</p>

<p>Next, edit the [2.0/Additional_Configuration#Configuring_PHP <tt>php.ini</tt>]
  file with a plain text editor (like Notepad or <a href="http://notepad-plus-plus.org/">Notepad++</a>)
  and add the following line:</p>

<codeblock>extension=php_oci8_12c.dll</codeblock>

<p>If this line already exists with a ";" (semicolon) in front, remove the
  semicolon to uncomment the line.</p>

<h4><span id="Restart_Windows_to_Enable_Extension">Restart Windows to Enable Extension</span></h4>

<p>After installing the Oracle software and modifying <strong><tt>php.ini</tt></strong>,
  restart Windows to enable the new %Path% settings and the OCI8 extension
  in PHP. Then, "Oracle" should appear as one of the available options
  when creating a Database Connection inside ProcessMaker.</p>

<h3><span id="Red_Hat.2FCent_OS.2FFedora">Red Hat/Cent OS/Fedora</span></h3>

<p>Oracle provides <a href="http://www.oracle.com/technetwork/articles/dsl/technote-php-instant-084410.html">instructions</a>  and RPM packages to install its Instant Client in Linux, which can be
  downloaded for free at:</p>

<dl>
    <dd><a href="http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html">http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html</a></dd>
</dl>

<p>If ProcessMaker is running on a 32 bit system, download Instant Client
  for Linux x86. For a 64 bit system, download Instant Client for Linux
  x86-64. For an AMD system, download Instant Client for Linux AMD64 (32-bit
  and 64-bit). Make sure to download the version of Instant Client Basic
  or Basic-Lite which matches your version of Oracle. It is also recommended
  to download the SQL*Plus and SDK packages, but it is not necessary.</p>

<p>Then follow the steps below to install and configure Instant Client in
  Linux, depending upon whether using a Red Hat or a Debian based system.</p>

<h4><span id="Install_Instant_Client">Install Instant Client</span></h4>

<p>Open a terminal in the server where ProcessMaker is installed and login
  as root (or use the sudo in order to install the following packages which
  are needed by Oracle Instant Client:</p>

<codeblock>
yum install php-pear php-devel zlib zlib-devel bc libaio glibc
yum groupinstall "Development Tools"
</codeblock>

<p>Copy the Oracle Instant Client package files to the current directory and
  then issue the following command to install them:</p>

<codeblock>rpm -ivh oracle-instantclient*</codeblock>

<p>If using a 64 bit version of Instant Client, then create symbolic links
  so the Instant Client can be found:</p>

<codeblock>
ln -s /usr/include/oracle/<i><strong>11.2</strong></i>/client64 /usr/include/oracle/<i><strong>11.2</strong></i>/client
ln -s /usr/lib/oracle/<i><strong>11.2</strong></i>/client64 /usr/lib/oracle/<i><strong>11.2</strong></i>/client
</codeblock>

<p>(Make sure to change <code><i><strong>11.2</strong></i></code> to match
  your version of Instant Client.)</p>

<p>Then set the LD_LIBRARY_PATH variable, to indicate where the Instant Client
  library is located. For a 64 bit system, issue the following command</p>

<codeblock>
echo "export LD_LIBRARY_PATH=/usr/lib/oracle/<i><strong>11.2</strong></i>/client64/lib" &gt; /etc/profile.d/oracle.sh
</codeblock>

<p>For a 32 bit system:</p>

<codeblock>
echo "export LD_LIBRARY_PATH=/usr/lib/oracle/<i><strong>11.2</strong></i>/client/lib" &gt; /etc/profile.d/oracle.sh
</codeblock>

<p>(Make sure to change <code><i><strong>11.2</strong></i></code> to match
  your version of Instant Client.)</p>

<p>Then also set the LD_LIBRARY_PATH for the current session:</p>

<codeblock>source /etc/profile.d/oracle.sh</codeblock>

<h4><span id="Install_PDO_OCI">Install PDO_OCI</span></h4>

<p>Download the <strong><a href="../sites/default/files/PDO_OCI-1.0.gz" download>
PDO_OCI-1.0.tgz</a></strong> file and decompress it with the following
  command:</p>

<codeblock>
tar -xzvf PDO_OCI-1.0.tgz
</codeblock>

<p>Then, configure PHP to use PDO_OCI:</p>

<codeblock>
cd PDO_OCI-1.0
phpize
./configure --with-pdo-oci=instantclient,/usr,<i><strong>11.2</strong></i>
</codeblock>

<p>Make sure to change <i><strong><code>11.2</code></strong></i> to match
  your version of Instant Client. Then compile and install the PDO_OCI
  module:</p>

<codeblock>
make
make install
cd ..
</codeblock>

<p>Then, include the module in PHP and restart Apache so the module can be
  used:</p>

<codeblock>
echo "extension=pdo_oci.so" &gt; /etc/php.d/pdo_oci.ini
service httpd restart
</codeblock>

<p>Finally, check whether the PDO_OCI module was installed and included in
  PHP:</p>

<codeblock>php -i | grep oci</codeblock>

<p>The following line should appear in the output:</p>

<codeblock>PDO drivers =&gt; oci, mysql</codeblock>

<h4><span id="Install_OCI8">Install OCI8</span></h4>

<p>Use the <strong><code>pear</code></strong> command to download the OCI8
  source code and then decompress it:</p>

<codeblock>
pear download pecl/oci8
tar -xvf oci8-<i><strong>1.4.9</strong></i>.tgz
</codeblock>

<p>(Change <code><i><strong>1.4.9</strong></i></code> to the version of OCI8
  which was downloaded by pear.) Then, configure how the code will be compiled:</p>

<codeblock>
cd oci8-<i><strong>1.4.9</strong></i>
phpize
./configure --with-oci8=shared,instantclient,/usr/lib/oracle/<i><strong>11.2</strong></i>/client<i><strong>64</strong></i>/lib
</codeblock>

<p>(Change <code><i><strong>11.2</strong></i></code> to your version of Instant
  Client. For 32 bit systems, remove <code><i>64</i></code><strong>.)</strong></p>

<p>Then, compile and install:</p>

<codeblock>
make
make install
</codeblock>

<p>Then, include oci8 in PHP and restart Apache to be able to use the new
  module:</p>

<codeblock>
echo "extension=oci8.so" &gt;&gt; /etc/php.d/oci8.ini
service httpd restart
</codeblock>

<p>Finally, check whether it was installed and included correctly:</p>

<codeblock>php -i | grep oci8</codeblock>

<p>The output should include lines like the following:</p>

<codeblock>
/etc/php.d/oci8.ini,
oci8
oci8.connection_class =&gt; no value =&gt; no value
oci8.default_prefetch =&gt; 100 =&gt; 100
oci8.events =&gt; Off =&gt; Off
oci8.max_persistent =&gt; -1 =&gt; -1
</codeblock>

<h3><span id="Debian.2FUbuntu_2">Debian/Ubuntu</span></h3>

<p>To connect to an Oracle Database on a Debian or Ubuntu server, first get
  the ZIP files for the Oracle Instant Client in Linux, which can be downloaded
  for free at:</p>
<dl>
    <dd><a href="http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html">http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html</a></dd>
</dl>

<p>If ProcessMaker is running on a 32 bit system, download Instant Client
  for Linux x86. For a 64 bit system, download Instant Client for Linux
  x86-64. For an AMD system, download Instant Client for Linux AMD64 (32-bit
  and 64-bit). Make sure to download the version of Instant Client Basic
  which matches your version of Oracle. It is also recommended to download
  the SQL*Plus and SDK packages, but it is not necessary.</p>

<p>Then follow the steps below to install Instant Client in Debian/Ubuntu.</p>

<h4><span id="Install_Instant_Client_2">Install Instant Client</span></h4>

<p>After downloading the Instant Client ZIP files, login as root (or use the
  <code>sudo</code> command). First, make a directory to hold the Oracle
  Instant Client application:</p>

<codeblock>mkdir /opt/oracle</codeblock>

<p>Then, decompress the downloaded ZIP files in that new directory:</p>

<codeblock>
unzip -d /opt/oracle instantclient-basic-linux.*.zip
unzip -d /opt/oracle instantclient-sdk-linux.*.zip
unzip -d /opt/oracle instantclient-sqlplus-linux.*.zip
</codeblock>

<p>Then add symbolic links which will make it possible for the PHP Oracle
  extensions to find the files:</p>

<codeblock>
cd /opt/oracle/instantclient_<i><strong>12_1</strong></i>
ln -s libclntsh.so.* libclntsh.so
ln -s libocci.so.* libocci.so
echo /opt/oracle/instantclient_<i><strong>12_1</strong></i> &gt;&gt; /etc/ld.so.conf
ldconfig
</codeblock>

<p>(Make sure to change <i><strong><code>12_1</code></strong></i> to your
  version of Instant Client.)</p>

<h4><span id="Install_PDO_OCI_2">Install PDO_OCI</span></h4>

<p>First, install the required packages to build the PHP modules for Oracle:</p>

<codeblock>apt-get install build-essential php-pear php5-dev libaio1 php-pdo php-db</codeblock>

<p>The PDO_OCI extension is outdated code which was created for older versions
  of Instant Client. Directories will need to be added with symbolic links
  so that the PDO_OCT extension can be compiled correctly.</p>

<codeblock>
cd /usr/include/
ln -s php5 php
</codeblock>

<p>Then, add links to the <strong><tt>include</tt></strong> and <strong><tt>lib</tt></strong>  directories in the Instant Client files:</p>

<codeblock>
cd /opt/oracle/instantclient_<i><strong>12_1</strong></i>
mkdir -p include/oracle/<i><strong>12.1</strong></i>/
cd include/oracle/<i><strong>12.1</strong></i>/
ln -s ../../../sdk/include client
cd -
mkdir -p lib/oracle/<i><strong>12.1</strong></i>/client
cd lib/oracle/<i><strong>12.1</strong></i>/client
ln -s ../../../../ lib
</codeblock>

<p>(Make sure to change <i><strong><code>12_1</code></strong></i> to your
  version of Instant Client.)</p>

<p>Next, download the <strong><a href="../sites/default/files/PDO_OCI-1.0.gz" download>
PDO_OCI-1.0.tgz</a></strong> file and decompress it with the following
  command:</p>

<codeblock>
cd ~
tar -xzvf PDO_OCI-1.0.tgz
</codeblock>

<p>Then, configure the PDO_OCI files and compile them:</p>

<codeblock>
cd PDO_OCI-1.0
phpize ORACLE_HOME=/opt/oracle/instantclient_<i><strong>12_1</strong></i>
./configure --with-pdo-oci=instantclient,/opt/oracle/instantclient_<i><strong>12_1</strong></i>,<i><strong>12.1</strong></i>
make &amp;&amp; make install
</codeblock>

<p>(Make sure to change <i><strong><code>12_1</code></strong></i> to your
  version of Instant Client.)</p>

<p>Then, include the extension in PHP and restart Apache so the module can
  be used:</p>

<codeblock>
echo "extension=pdo_oci.so" &gt; /etc/php5/apache2/conf.d/pdo_oci.ini
echo "extension=pdo_oci.so" &gt; /etc/php5/cli/conf.d/pdo_oci.ini
service apache2 restart
</codeblock>

<p>Finally, check whether the PDO_OCI module was installed and included in
  PHP:</p>

<codeblock>php -i | grep oci</codeblock>

<p>The following line should appear in the output:</p>

<codeblock>PDO drivers =&gt; oci, mysql</codeblock>

<h4><span id="Install_OCI8_2">Install OCI8</span></h4>

<p>The OCI8 extension is up-to-date and can be compiled and installed without
  any problems. Use the <a href="http://php.net/manual/en/install.pecl.pear.php">pecl</a>  command to automatically download, compile and install it:</p>

<codeblock>
pecl channel-update pear.php.net
pecl install oci8
</codeblock>

<p>While configuring the compilation, the system will ask for the location
  of the ORACLE HOME directory:</p>

<p>Please provide the path to the ORACLE_HOME directory. Use 'instantclient,/path/to/instant/client/lib'
  if you're compiling with Oracle Instant Client [autodetect]:</p>

<p>Enter:</p>

<codeblock>shared,instantclient,/opt/oracle/instantclient_<i><strong>12_1</strong></i></codeblock>

<p>(Make sure to change <i><strong><code>12_1</code></strong></i> to your
  version of Instant Client.) Then, include the extension in PHP and restart
  Apache so the module can be used:</p>

<codeblock>
echo "extension=oci8.so" &gt; /etc/php5/apache2/conf.d/oci8.ini
echo "extension=oci8.so" &gt; /etc/php5/cli/conf.d/oci8.ini
service apache2 restart
</codeblock>

<p>Finally, check whether the oci8 module was installed and included in PHP:</p>

<codeblock>php -i | grep oci8</codeblock>

<p>The output should include lines like the following:</p>

<codeblock>
oci8
oci8.connection_class =&gt; no value =&gt; no value
oci8.default_prefetch =&gt; 100 =&gt; 100
oci8.events =&gt; Off =&gt; Off
oci8.max_persistent =&gt; -1 =&gt; -1
</codeblock>

<h3><span id="Checking_the_Oracle_installation">Checking the Oracle installation</span></h3>

<p>After installing an Oracle client and the OCI8 and PDO_OCI extensions in
  PHP, then login to ProcessMaker and go to the <strong>DESIGNER</strong>  menu and open process for editing. Click on the<strong>Database Connections</strong>  tab and create a new connection. In the <strong>Engine</strong> dropdown
  box, there should be an <strong>Oracle</strong> option:</p>

<p><img alt="" src="../sites/default/files/OracleDBSelectConnectionType.png"></p>

<h3><span id="Oracle_Troubleshooting">Oracle Troubleshooting</span></h3>

<p>Check the Apache error log file for startup errors.</p>

<p>Temporarily set <font color="dimgrey"><code>display_error=On</code></font> in <strong><tt>php.ini</tt></strong>  so script errors are displayed. Switch it back off when finished for
security reasons.</p>

<p>Chapter 9 of <a href="http://www.oracle.com/technetwork/topics/php/underground-php-oracle-manual-098250.html">The Underground PHP and Oracle Manual</a> contains information about common connection errors and discusses alternative ways to set environment variables.</p>

<p>Oracle's SQL*Plus command line tool can be downloaded from the [www.oracle.com/technetwork/database/features/instant-client/index-100365.html
  Instant Client] page to help resolve environment and connection problems.
  Check whether SQL*Plus can connect and then ensure the Environment section
  (not the Apache Environment section) of
  <font color="dimgrey">phpinfo.php</font> shows the equivalent environment settings.</p>

<p>The following <strong><tt>testoci8.php</tt></strong> script can be used
  to check whether the OCI8 extension works with Oracle. Create the <strong><tt>testoci8.php</tt></strong>  file at the location <strong><tt><a href="File_Locations.html#Installation_Directory" title="File Locations">&lt;install-directory&gt;</a>/workflow/public_html/testoci8.php</tt></strong>  with the following contents:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #666666; font-style: italic;">//change the username, password, machine, domain and address:</span><br />
<span style="color: #000088;">$conn</span> <span style="color: #339933;">=</span> oci_connect<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'username'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'password'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'mymachine.mydomain/mydatabase'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$stid</span> <span style="color: #339933;">=</span> oci_parse<span style="color: #009900;">&#40;</span><span style="color: #000088;">$conn</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'select table_name from user_tables'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
oci_execute<span style="color: #009900;">&#40;</span><span style="color: #000088;">$stid</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;table&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">while</span> <span style="color: #009900;">&#40;</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> oci_fetch_array<span style="color: #009900;">&#40;</span><span style="color: #000088;">$stid</span><span style="color: #339933;">,</span> OCI_ASSOC<span style="color: #339933;">+</span>OCI_RETURN_NULLS<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">!=</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;tr&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">foreach</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #b1b100;">as</span> <span style="color: #000088;">$item</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot; &lt;td&gt;&quot;</span><span style="color: #339933;">.</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$item</span> <span style="color: #339933;">!==</span> <span style="color: #009900; font-weight: bold;">null</span> ? <a href="http://php.net/htmlentities"><span style="color: #990000;">htmlentities</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$item</span><span style="color: #339933;">,</span> <span style="color: #009900; font-weight: bold;">ENT_QUOTES</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">:</span> <span style="color: #0000ff;">&quot;&amp;nbsp;&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">.</span><span style="color: #0000ff;">&quot;&lt;/td&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;/tr&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;/table&gt;<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">?&gt;</span></div></div>

<p>Make sure to modify the connection credentials to suit your database. Then
  open a web browser and go to the address:</p>
<dl>
    <dd><strong><tt>http://&lt;processmaker-address&gt;/testoci8.php</tt></strong></dd>
</dl>

<p>For example, if ProcessMaker is installed at the address 192.168.0.1 on
  port 8080, then go to:</p>
<dl>
    <dd><strong><tt>http://192.168.0.1:8080/testoci8.php</tt></strong></dd>
</dl>

<p>The tables in the Oracle database should be listed on the page. Make sure
  to delete the <strong><tt>testoci8.php</tt></strong> file when done testing.</p>

<h3><span id="Converting_UTF_8">Converting Oracle to UTF-8</span></h3>

<p>If an Oracle database uses a character set other than UTF-8, then the <a href="http://docs.oracle.com/cd/E12102_01/books/AnyInstAdm784/AnyInstAdmPreInstall18.html"><code>NLS_LANG</code> environment variable</a> needs to be set to the UTF-8 character set on the server where ProcessMaker is installed.</p>

<p>The format for the <code>NLS_LANG</code> variable should be <code>[NLS_LANGUAGE]_[NLS_TERRITORY].[NLS_CHARACTERSET]</code>.</p>

<p>First, determine the current locale settings in the Oracle database with the following SQL query:
<codeblock>SELECT * FROM V$NLS_PARAMETERS;
</codeblock>

<p>For example, if the locale is <code>american_america.EL8MSWIN1253</code>, then this needs to be changed to <code>american_america.UTF-8</code>.</p>

<p><b>Linux:</b></p>
<div style="margin-left:25px">
    <p>In a Linux server, edit the file <b><tt>/etc/environment</tt></b> with a plain text editor and add the line:</p>
    <codeblock>NLS_LANG=American_America.UTF8</codeblock>

    <p>Unfortunately the <b><tt>/etc/environment</tt></b> file isn't read by cron scripts, so also edit the <b><tt>/etc/profile</tt></b> file and add the line:</p>
    <codeblock>export NLS_LANG=American_America.UTF8</codeblock>

    <p>These settings should take effect the next time the server is rebooted. To have them take effect immediately, enter the following in the command line of a terminal:</p>

    <codeblock>export NLS_LANG=American_America.UTF8</codeblock>
</div>

<p><b>Windows:</b></p>
<div style="margin-left:25px">
    <p>In a Windows server, go to <b>Control Panel > System</b>.</p>
    <p><img src="../sites/default/files/3.1OracleControlPanel.png"></p>

    <p>Click on the <b>Advanced system settings</b> option at the left of the window.</p>
    <p><img src="../sites/default/files/3.1OracleAdvancedSystem.png"></p>
    <p>Click on <b>Environment Variables</b>.</p>
    <p><img src="../sites/default/files/3.1OracleEnvironmentVariables.png"></p>
    <p>In <b>System variables</b> section, click <b>New</b>.</p>
    <p><img src="../sites/default/files/3.1OracleNewVariable.png"></p>

    <p>In the <b>Variable Name</b> field, enter <code>NLS_LANG</code> and in the <b>Variable Value</b> field, enter <code>American_America.UTF8</code>. Click on <b>Ok</b> and close all dialogs.</p>
    <p><img src="../sites/default/files/3.1OracleNewUserVariable.png"></p>

    <p>Then, reboot the server for the changes to take effect.</p>
</div>

<h2><span id="Other_Types_of_Databases">Other Types of Databases</span></h2>

<p>If using another type of database that ProcessMaker does not support, then
  it is possible to connect to that database using PHP's <a href="http://www.php.net/manual/en/refs.database.php">database extensions</a>  inside a trigger. Many types of databases have their own specialized
  functions such as <a href="http://php.net/manual/en/function.oci-connect.php">oci_connect()</a>  or <a href="http://php.net/manual/en/function.mysql-connect.php">mysql_connect()</a>,
  but almost all databases and spreadsheets also support the <a href="http://en.wikipedia.org/wiki/Open_Database_Connectivity">Open Database Connectivity (ODBC)</a>  protocol.</p>

<p>Unfortunately, database connections created in triggers can not be used
  like normal Database Connections in ProcessMaker. In order to be queried
  like a normal database, using the <a href="2.0/Common_Field_Properties.html#SQL_Connection"
    title="Common Field Properties">SQL Connection</a> and <a href="2.0/Common_Field_Properties.html#SQL"
    title="SQL">SQL</a> properties in DynaForm fields, first the results
  of the database query will have to be stored as an associative array
  of associative arrays in the <strong><tt>$_SESSION</tt></strong> superglobal
  variable, so they can be accessed by DynaForm fields. See the example
  for <a href="Database_Connections.html#Populating_a_Dropdown_Box">populating a dropdown box</a>.</p>

<h3><span id="ODBC">ODBC</span></h3>

<p>The specialized PHP functions for each type of database are generally easier
  to use, but PHP's <a href="http://www.php.net/manual/en/book.uodbc.php">ODBC functions</a>  offer a standardized way to connect to any data source.</p>

<h4><span id="Installing_ODBC">Installing ODBC</span></h4>

<p>Before trying to use ODBC in PHP, make sure that the <tt>odbc</tt> module
  is installed in PHP, by going to the command line and issuing the command:</p>

<codeblock>php -m</codeblock>

<p>If <tt>"odbc"</tt> doesn't appear in the list of modules, then it will
  need to be installed:</p>

<p><strong>Debian/Ubuntu:</strong></p>

<codeblock>apt-get install unixodbc php5-odbc</codeblock>

<p><strong>Red Hat/CentOS/Fedora:</strong></p>

<codeblock>yum install unixODBC unixODBC-devel php-odbc</codeblock>

<p><strong>SUSE/OpenSUSE:</strong></p>

<codeblock>yast2 -i php5-odbc</codeblock>

<p><strong>Windows:</strong><br>The ODBC module should be installed by default
  in PHP.</p>

<h4><span id="Using_ODBC_in_Triggers">Using ODBC in Triggers</span></h4>

<p>First, establish a connection to the database with the <a href="http://www.php.net/manual/en/function.odbc-connect.php">obdc_connect()</a>  (or <a href="http://www.php.net/manual/en/function.odbc-pconnect.php">obdc_pconnect()</a>  for a persistent connection):</p>

<codeblock><i>resource</i> <strong>odbc_connect(</strong> <i>string</i> $dsn, string $user, <i>string</i> $password  [, <i>int</i> $cursor_type]<strong>)</strong></codeblock>

<p>The first parameter is the <i>data source name</i>, which contains the
  custom parameters needed to connect to different types of databases.
  It might contain something like:</p>
<dl>
    <dd><tt>"Driver={<i><strong>DRIVER-NAME</strong></i>};Server=<i><strong>SERVER-URL</strong></i>;Database=<i><strong>DB-NAME</strong></i>;"</tt></dd>
</dl>

<p>but it varies widely. See this list of <a href="http://www.carlprothman.net/Default.aspx?tabid=81">connection strings</a>.</p>

<h4><span id="Populating_a_Textbox">Populating a Textbox</span></h4>

<p>To set the value of a DynaForm textbox, fire trigger before the DynaForm
  which queries the database using ODBC and then sets the value of the
  case variable for the textbox.</p>

<p>For example, to query a Visual FoxPro database and set the value of a textbox
  named "ClientName":</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$dns</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Driver={Microsoft Visual FoxPro Driver};SourceType=DBC;SourceDB=c:\somepath\contacts.dbc;Exclusive=No&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$con</span> <span style="color: #339933;">=</span> obdc_connect<span style="color: #009900;">&#40;</span><span style="color: #000088;">$dns</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span> <span style="color: #339933;">!==</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$res</span> <span style="color: #339933;">=</span> <a href="http://php.net/odbc_exec"><span style="color: #990000;">odbc_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;SELECT FIRSTNAME, LASTNAME FROM CLIENTS WHERE CLIENT_ID='ARG29'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> <a href="http://php.net/odbc_fetch_array"><span style="color: #990000;">odbc_fetch_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$res</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #339933;">@@</span>ClientName <span style="color: #339933;">=</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'FIRSTNAME'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">' '</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'LASTNAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h4><span id="Populating_a_Dropdown_Box">Populating a Dropdown Box</span></h4>

<p>To populate the list of options in a dropdown box, create an associative
  array of associative arrays, which can be queried like a normal table.</p>

<p>For example, this trigger uses OBDC to connect to an Excel spreadsheet
  and populate a dropdown box:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aClients</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$cnt</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$dns</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Driver={Microsoft Excel Driver (*.xls)};DriverId=790;Dbq=c:\somepath\Clients.xls;DefaultDir=c:\somepath&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$con</span> <span style="color: #339933;">=</span> obdc_connect<span style="color: #009900;">&#40;</span><span style="color: #000088;">$dns</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span> <span style="color: #339933;">!==</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$res</span> <span style="color: #339933;">=</span> <a href="http://php.net/odbc_exec"><span style="color: #990000;">odbc_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;SELECT CLIENT_ID, CLIENT_NAME from CLIENT_LIST&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #b1b100;">while</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/odbc_fetch_array"><span style="color: #990000;">odbc_fetch_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$res</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aClients</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #339933;">++</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$row</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Unable to access Excel file 'c:\somepath\Clients.xls'.&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;ERROR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #666666; font-style: italic;">#Make $aClients available to be queried in the DynaForm like a table from a database:<br />
</span><span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_DBArray</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'CLIENTS_LIST'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$aClients</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$_SESSION</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'_DBArray'</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$_DBArray</span><span style="color: #339933;">;</span></div></div>

<p>Then in the DynaForm create a dropdown box with the <strong><tt>sqlconnection="dbarray"</tt></strong>  property in the XML definition. To populate the list of options, use
  an SQL query to access the CLIENTS_LIST array:</p>

<codeblock>SELECT CLIENT_ID, CLIENT_NAME FROM CLIENTS_LIST</codeblock>

<p>Where <strong><tt>CLIENT_ID</tt></strong> will become the <i>value</i>  for each option and <strong><tt>CLIENT_NAME</tt></strong> will become
  the <i>label</i> for each option in the dropdown box. The complete XML
  definition for the dropdown box would be:</p>

<codeblock>
&lt;SelectClient type="dropdown" required="0" readonly="0" savelabel="0"
  mode="edit" options="Array" sqlconnection="dbarray"&gt;
  SELECT CLIENT_ID, CLIENT_NAME FROM CLIENTS_LIST
  &lt;en&gt;Select Client&lt;/en&gt;
&lt;/SelectClient&gt;
</codeblock>

<h4><span id="Populating_a_Grid">Populating a Grid</span></h4>

<p>To populate a DynaForm grid, create an associative array of associative
  arrays and assign it to the case variable for the grid. The keys in the
  associative arrays must be the same as the names of the grid fields,
  so use <strong><tt>AS</tt></strong> in the SQL query to rename the fields
  from the table if they don't match the field names in the grid.</p>

<p>For example, this trigger uses OBDC to connect to an Access database and
  populate a DynaForm grid named "ProductsGrid" which has the fields "serialNo",
  "productTitle", "description" and "listPrice":</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$dns</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;Driver={Microsoft Access Driver (*.mdb)};Dbq=c:\somepath\Products.mbd&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$con</span> <span style="color: #339933;">=</span> obdc_connect<span style="color: #009900;">&#40;</span><span style="color: #000088;">$dns</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;someuser&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;p4sSw0rd&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span> <span style="color: #339933;">!==</span> <span style="color: #009900; font-weight: bold;">false</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$aProducts</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$cnt</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$sql</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT SERIAL AS serialNo, TITLE AS productTitle, DESC AS description,<br />
&nbsp; &nbsp; &nbsp; PRICE AS listPrice FROM PRODUCTS WHERE CATEGORY='current'&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #000088;">$res</span> <span style="color: #339933;">=</span> <a href="http://php.net/odbc_exec"><span style="color: #990000;">odbc_exec</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$con</span><span style="color: #339933;">,</span> <span style="color: #000088;">$sql</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #b1b100;">while</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/odbc_fetch_array"><span style="color: #990000;">odbc_fetch_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$res</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aProducts</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$cnt</span><span style="color: #339933;">++</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$row</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>ProductsGrid <span style="color: #339933;">=</span> <span style="color: #000088;">$aProducts</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">else</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000088;">$g</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> G<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #000088;">$g</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">SendMessageText</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Unable to connect to Access database!&quot;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">&quot;ERROR&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<h2><span id="Discovering_Ports_and_Debugging">Discovering Ports and Debugging</span></h2>

<p>If unsure which port number is being used by a database, use the
  <a href="http://nmap.org/">nmap</a> command to discover the port. This
  program is installed by default on most Linux/UNIX distributions, but
  it needs to be <a href="http://nmap.org/book/inst-windows.html">installed in Windows</a>.</p>

<p>If the database is located on the same machine as the ProcessMaker server,
  issue the command:</p>

<codeblock>nmap localhost</codeblock>

<p>If the database is on another server, enter the domain name or IP address
  where it is located. For example:</p>

<codeblock>nmap 192.168.1.229</codeblock>

<p>nmap will list the ports which are currently being used by the server.
  If the database service is activated and it's port isn't blocked by a
  firewall, then a port number should be listed for the database:</p>

<codeblock>
Starting Nmap 6.00 ( http://nmap.org ) at 2015-02-05 12:03 BOT
Nmap scan report for no-name-229.colosa.net (192.168.1.229)
Host is up (0.0094s latency).
Not shown: 990 closed ports
PORT      STATE SERVICE
22/tcp   open  ssh
25/tcp   open  smtp
80/tcp   open  http
111/tcp  open  rpcbind
389/tcp  open  ldap
631/tcp  open  ipp
<font color="green">1521/tcp open  oracle
3306/tcp open  mysql</font>
</codeblock>

<p>If a port number isn't listed for the database, then go to the server where
  the database is installed and make sure that it is being run as a service:</p>

<p><strong>MySQL:</strong></p>

<p><strong>Red Hat/Cent OS/Fedora:</strong></p>

<p>Login as root (or use <code>sudo</code>) and issue the command:</p>

<codeblock>
# <strong>service mysqld status</strong>
mysqld (pid 1703) is running...
</codeblock>

<p>To see a list of all services:</p>

<codeblock>service --status-all</codeblock>

<p><strong>Debian/Ubuntu:</strong></p>

<p>Login as root (or use <code>sudo</code>) and issue the command:</p>

<codeblock>
# <strong>service mysql status</strong>
Server version         5.5.41-0+wheezy1
Protocol version       10
Connection             Localhost via UNIX socket
UNIX socket            /var/run/mysqld/mysqld.sock
Uptime:                3 days 1 hour 59 min 33 sec

Threads: 1  Questions: 19041  Slow queries: 0  Opens: 716  Flush tables: 1  Open tables: 205  Queries per second avg: 0.071.
</codeblock>

<p>To see a list of all services:</p>

<codeblock>service --status-all</codeblock>

<p><strong>Windows:</strong></p>

<p>Open the command prompt (go to <strong>Start &gt; Run</strong> and enter:
  <strong><code>cmd</code></strong>) and enter the following command to
  see a list of all running services:</p>

<codeblock>net start</codeblock>

<p>To see the status of MySQL:</p>

<codeblock>sc query <i><strong>mysql-service-name</strong></i></codeblock>

<p>For example to see the status of MySQL installed by the Automatic ProcessMaker
  Installer:</p>

<codeblock>
C:\&gt; <strong>sc query ProcessMakerMysql</strong>
SERVICE_NAME: ProcessMakerMysql
       TYPE               : 10  WIN32_OWN_PROCESS
       STATE              : 4  RUNNING
                               (STOPPABLE, PAUSABLE, ACCEPTS_SHUTDOWN)
       WIN32_EXIT_CODE    : 0  (0x0)
       SERVICE_EXIT_CODE  : 0  (0x0)
       CHECKPOINT         : 0x0
       WAIT_HINT          : 0x0
</codeblock>

<p><strong>PostgreSQL:</strong></p>

<p><strong>Red Hat/Cent OS/Fedora:</strong></p>

<p>Login as root (or use <code>sudo</code>) and issue the command:</p>

<codeblock>
# <strong>service postgresql status</strong>
postmaster (pid  3498) is running...
</codeblock>

<p>For recent versions, it may be necessary to specify the version number:</p>

<codeblock>
# <strong>service postgresql-9.4 status</strong>
postmaster (pid  3498) is running...
</codeblock>

<p>To see a list of all services:</p>

<codeblock>service --status-all</codeblock>

<p><strong>Debian/Ubuntu:</strong></p>

<p>Login as root (or use <code>sudo</code>) and issue the command:</p>

<codeblock>
# <strong>service postgresql status</strong>
Running clusters: 9.1/main
</codeblock>

<p>To see a list of all services:</p>

<codeblock>service --status-all</codeblock>

<p><strong>Windows:</strong></p>

<p>Open the command prompt (go to <strong>Start &gt; Run</strong> and enter:
  <strong><code>cmd</code></strong>) and enter the following command to
  see a list of all running services:</p>

<codeblock>net start</codeblock>

<p>To see the status of PostgreSQL:</p>

<codeblock>sc query <i><strong>postgresql-service-name</strong></i></codeblock>

<p><strong>Oracle:</strong></p>

<p><strong>Linux/UNIX:</strong></p>

<p>Oracle uses the <strong><code>dbstart</code></strong> and <strong><code>dbstop</code></strong>  commands (which are located in the <strong><tt>$ORACLE_HOME/bin</tt></strong>  directory) to start and stop the database, although a service script
  can be added in the<strong><tt>/etc/init.d/</tt></strong> directory.
  Likewise, it uses the <strong><code>lsnrctl start</code></strong> and
  <strong><code>lsnrctl stop</code></strong> commands to start and stop
  the listener and <strong><code>isqlplusctl start</code></strong> and
  i<strong><code>sqlplusctl stop</code></strong> to start and stop SQL*Plus.</p>

<p>To see the status of the Oracle database, use the following command (located
  in the <strong><tt>$ORACLE_HOME/bin</tt></strong> directory):</p>

<codeblock>chkdb_status</codeblock>

<p><strong>Windows:</strong></p>

<p>Open the command prompt (go to <strong>Start &gt; Run</strong> and enter:
  <strong><code>cmd</code></strong>) and enter the following command to
  see a list of all running services:</p>

<codeblock>net start</codeblock>

<p>Oracle creates a service for its listener and for its database:</p>

<codeblock>
sc query OracleOraDB12Home1TNSListener
sc query OracleDatabase<i><strong>X</strong></i>
</codeblock>

<p>For example to see the status of an Oracle database named "ORCL" and the
  listener:</p>

<codeblock>
C:\&gt; <strong>sc query OracleServiceORCL</strong>
SERVICE_NAME: OracleServiceORCL
       TYPE               : 10  WIN32_OWN_PROCESS
       STATE              : 4  RUNNING
                               (STOPPABLE, PAUSABLE, ACCEPTS_SHUTDOWN)
       WIN32_EXIT_CODE    : 0  (0x0)
       SERVICE_EXIT_CODE  : 0  (0x0)
       CHECKPOINT         : 0x0
       WAIT_HINT          : 0x0
C:\&gt; <strong>sc query OracleOraDB12Home1TNSListener</strong>
SERVICE_NAME: OracleOraDB12Home1TNSListener
       TYPE               : 10  WIN32_OWN_PROCESS
       STATE              : 4  RUNNING
                               (STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)
       WIN32_EXIT_CODE    : 0  (0x0)
       SERVICE_EXIT_CODE  : 0  (0x0)
       CHECKPOINT         : 0x0
       WAIT_HINT          : 0x0
</codeblock>

<p><strong>MS SQLServer:</strong></p>

<p><strong>Windows:</strong></p>

<p>Open the command prompt (go to <strong>Start &gt; Run</strong> and enter:
  <strong><code>cmd</code></strong>) and enter the following command to
  see a list of all running services:</p>

<codeblock>net start</codeblock>

<p>Oracle creates a service for its listener and for its database:</p>

<codeblock>sc query MSSQLSERVER</codeblock>

<p>For example:</p>

<codeblock>
C:\&gt; <strong>sc query MSSQLSERVER</strong>
SERVICE_NAME: MSSQLSERVER
       TYPE               : 10  WIN32_OWN_PROCESS
       STATE              : 4  RUNNING
                               (STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)
       WIN32_EXIT_CODE    : 0  (0x0)
       SERVICE_EXIT_CODE  : 0  (0x0)
       CHECKPOINT         : 0x0
       WAIT_HINT          : 0x0
</codeblock>
</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&amp;mt=8" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com/">
		<img src="../themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&amp;gid=3970335&amp;trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>

<!-- Mirrored from wiki.processmaker.com/index.php/Database_Connections by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:12:55 GMT -->
</html>
