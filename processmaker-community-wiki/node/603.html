<!DOCTYPE html>

<!-- Mirrored from wiki.processmaker.com/node/603 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:35:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../index.html" />
<link rel="shortcut icon" href="../themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="../3.1/Image_Control.html" />
<link rel="shortlink" href="603.html" />
<title>3.1 - 3.8 - Image Control | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("../modules/system/system.base2af9.css?s743n7");
@import url("../modules/system/system.menus2af9.css?s743n7");
@import url("../modules/system/system.messages2af9.css?s743n7");
@import url("../modules/system/system.theme2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../modules/aggregator/aggregator2af9.css?s743n7");
@import url("../modules/comment/comment2af9.css?s743n7");
@import url("../modules/field/theme/field2af9.css?s743n7");
@import url("../modules/node/node2af9.css?s743n7");
@import url("../modules/search/search2af9.css?s743n7");
@import url("../modules/toc_filter/toc_filter2af9.css?s743n7");
@import url("../modules/user/user2af9.css?s743n7");
@import url("../modules/views/css/views2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../sites/all/modules/colorbox/styles/default/colorbox_style2af9.css?s743n7");
@import url("../modules/ctools/css/ctools2af9.css?s743n7");
@import url("../sites/all/modules/geshifilter/geshifilter2af9.css?s743n7");
@import url("../modules/panels/css/panels2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus2af9.css?s743n7");
@import url("../modules/nice_menus/css/nice_menus_default2af9.css?s743n7");
@import url("../modules/fivestar/css/fivestar2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../themes/thecompany_responsive_theme/css/style2af9.css?s743n7");
@import url("../themes/thecompany_responsive_theme/css/media2af9.css?s743n7");
</style>
<script type="text/javascript" src="../modules/jquery_update/replace/jquery/1.9/jquery.min4b17.js?v=1.9.1"></script>
<script type="text/javascript" src="../misc/jquery.once7839.js?v=1.2"></script>
<script type="text/javascript" src="../misc/drupal2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.bgiframef195.js?v=2.1"></script>
<script type="text/javascript" src="../modules/nice_menus/js/jquery.hoverIntent1f6b.js?v=0.5"></script>
<script type="text/javascript" src="../modules/nice_menus/js/superfish099d.js?v=1.4.8"></script>
<script type="text/javascript" src="../modules/nice_menus/js/nice_menusc619.js?v=1.0"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/ui/external/jquery.cookie1683.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="../modules/jquery_update/replace/misc/jquery.form.min97e5.js?v=2.69"></script>
<script type="text/javascript" src="../misc/ajax2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/jquery_update/js/jquery_update241d.js?v=0.0.1"></script>
<script type="text/javascript" src="../modules/toc_filter/toc_filter2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/js/colorbox2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/colorbox/styles/default/colorbox_style2af9.js?s743n7"></script>
<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../misc/progress2347.js?v=7.34"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar.ajax2af9.js?s743n7"></script>
<script type="text/javascript" src="../modules/fivestar/js/fivestar2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-1.10.2.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/jquery-ui.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../themes/thecompany_responsive_theme/js/custom2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"WmF40TN9nTvhSuXqUT2t5rzLdreeLlJDf1O_F3Vmk_E","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','../../connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-603 node-type-community-edition">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../index.html" title="Home"><img src="../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../3.1/user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../3.1/developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../3.2/sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../3.1/resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="https://wiki.processmaker.com/node/603" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form--AmWVbfaYBHcmAzVWI_jI6JlrN7oXN3atJn8mWv4BHY" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.1 - 3.8 - Image Control</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a  class="active-version">3.8</a></li><li><a  class="active-version">3.7</a></li><li><a  class="active-version">3.6</a></li><li><a  class="active-version">3.5</a></li><li><a  class="active-version">3.4</a></li><li><a  class="active-version">3.3</a></li><li><a  class="active-version">3.2</a></li><li><a  class="active-version">3.1</a></li><li><a href="../3.0/Image_Control.html" class="">3.0</a></li><li><a href="../index.php/2.0/Image.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.1 - 3.8 - Image Control" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-community-edition">
    <div class="field field-name-field-how-useful field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="https://wiki.processmaker.com/node/603" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.1 - 3.8 - Image Control 1/5</option><option value="40" selected="selected">Give 3.1 - 3.8 - Image Control 2/5</option><option value="60">Give 3.1 - 3.8 - Image Control 3/5</option><option value="80">Give 3.1 - 3.8 - Image Control 4/5</option><option value="100">Give 3.1 - 3.8 - Image Control 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >1.8</span></span> <span class="total-votes">(<span >6</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-i0S64duUNBmSRSwloehWvWUEL3e4BUiVRUKqwn8iiuc" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="#Overview">Overview</a></li>
<li class="toc"><a href="#Properties">Properties</a></li>
<ol class="toc">
<li class="toc"><a href="#Src">Src</a></li>
<li class="toc"><a href="#Shape">Shape</a></li>
<li class="toc"><a href="#Alternate_Text">Alternate Text</a></li>
<li class="toc"><a href="#Comments">Comments</a></li>
<li class="toc"><a href="#Title">Title (mouse over)</a></li>
</ol>
<li class="toc"><a href="#Image_Control_Example">Image Control Example</a></li>
<li class="toc"><a href="#Manipulating_Images_with_JavaScript">Manipulating Images with JavaScript</a></li>
<ol class="toc">
<li class="toc"><a href="#JavaScript_Methods">JavaScript Methods</a></li>
<li class="toc"><a href="#Changing_image_with_JavaScript">Changing the Image with JavaScript</a></li>
</ol>
<li class="toc"><a href="#Manipulating_Images_with_PHP">Manipulating Images with PHP</a></li>
<ol class="toc">
<li class="toc"><a href="#Setting_image_in_trigger">Setting the Image URL in a Trigger</a></li>
<li class="toc"><a href="#Displaying_uploaded_image_files">Displaying Uploaded Image Files</a></li>
</ol>
</div></div>

<h2><span id="Overview">Overview</span></h2>
<p>An Image control is used to display any kind of image files in a DynaForm. These files can be loaded from different resources (Web URL, data repositories, etc.). The icon of an image control in the toolbar of the left panel is the following:</p>
<p><img alt=""  src="../sites/default/files/ImageIconVersion3.png" ></p>

<p>The  image will not be visible while designing a DynaForm. It will be represented by the following figure:</p>
<p><img alt="" src="../sites/default/files/ProcessMaker3_DynaFormDesigner_ImageControl.png"></p>
<p>The image will only be displayed while running a case or previewing a DynaForm.</p>
<p><img alt="" src="../sites/default/files/ProcessMaker3_DynaFormDesigner_ImageRendered.png"></p>

<h2><span id="Properties">Properties</span></h2>
<p>After adding this control to the Dynaform design, set the label, source and other properties of this control:</p>

<table>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
<tr>
<td><a href="../3.0/DynaForm_Field_Properties.html#Type">Type</a></td>
<td><code>image</code> (readonly)</td>
</tr>
<tr>
<td><a href="../3.0/DynaForm_Field_Properties.html#ID">ID</a></td>
<td><p>[Required]</p>
<p>Field and HTML unique identifier.</p>
</td>
</tr>
<tr>
<td><a href="../3.0/DynaForm_Field_Properties.html#Name">Name</a></td>
<td>Name value of the control.</td>
</tr>
<tr>
<td><a href="../3.0/DynaForm_Field_Properties.html#Label">Label</a></td>
<td>The label of the control with which it will be displayed.</td>
</tr>
<tr>
<td><a href="../3.0/DynaForm_Field_Properties.html#Hint">Hint</a></td>
<td>Used to show a reference of what the image is about when it is rendered. It is shown when the pointer of the mouse is hovered over the ? icon.</td>
</tr>
<tr>
<td><a href="#Src">Src</a></td>
<td>The path to a <code>http</code> or <code>https</code> public access image.</td>
</tr>
<tr>
<td><a href="#Shape">Shape</a></td>
<td>This property define the shape/mode of the container where is display the image. The options are: <code>thumbnail</code>, <code>rounded</code> and <code>circle</code></td>
</tr>
<tr>
<td><a href="#Alternate_Text">Alternate Text</a></td>
<td><p>[Required]</p>
Alternative text displayed if the image can’t be displayed or if the link is broken.
</td>
</tr>
<tr>
<td><a href="#Comments">Comment</a></td>
<td>Text displayed at the bottom of the image. For example: “Figure 1: company chart”</td>
</tr>
<tr>
<td><a href="../3.0/DynaForm_Field_Properties.html#Mode">Mode</a></td>
<td>
<p>[Required]</p>
<p>Display mode:</p>
<ul>
<li><strong>parent:</strong> inherits the display mode defined in the parent container (form/grid)</li>
<li><strong>edit:</strong> the control is enabled for edition when it is rendered.</li>
<li><strong>view:</strong> the control can only be viewed when it is rendered. The content can’t be edited.</li>
<li><strong>disabled:</strong> the control is displayed as disabled. The control is displayed in gray in order to indicate the disabled mode. The content can't be edited either.</li>
</ul>
</td>
</tr>
<tr>
<td><a href="#Title">Title (mouse over)</a></td>
<td>Text that is display when the mouse is pointing over the image.</td>
</tr>
</table>

<h3><span id="Src">Src</span></h3>
<p>This property sets the URL address where the image is located. 
For example, if the image to be shown in this control is the ProcessMaker logo located at the URL address:</p>

<codeblock>http://wiki.processmaker.com/sites/default/files/full-logo.png</codeblock>

<p>The Src property must be set with this URL address.</p>
<p><img alt="" src="../sites/default/files/ControlPropertySRCVersion3.png"></p>
<p>The image won't be shown inside the designer, but when rendering the DynaForm in the preview or running a case:</p>
<p><img alt="" src="../sites/default/files/ControlPropertySRCRenderVersion3.png"></p>

<h3><span id="Shape">Shape</span></h3>
<p>This property is used to create the following predefined shapes on rendered images: thumbnail, rounded or circle. 
Select the shape with which the image will be shown from the dropdown menu of the control property:</p>
<p><img alt="" src="../sites/default/files/PropertyControlShapeVersion3.png"></p>
<p>The <tt>thumbnail</tt> shape renders images as thumbnails which will show a reduced size version of the image. 
The <tt>rounded</tt> shape rounds and softens the borders of the image. 
Finally, the <tt>circle</tt>shape shows the rendered image circling the border of the image. See the examples below:</p>
<p><img alt="" src="../sites/default/files/ControlPropertySRCRenderVersion3.png"></p>
<p><strong>Thumbnail Shape.</strong></p>
<p><img alt="" src="../sites/default/files/PropertyControlShapeRoundedVersion3.png"></p>
<p><strong>Rounded Shape.</strong></p>
<p><img alt="" src="../sites/default/files/PropertyControlShapeCircleVersion3.png"></p>
<p><strong>Circle Shape.</strong></p>

<h3><span id="Alternate_Text">Alternate Text</span></h3>
<p>This property sets the alternate text displayed in the Image control when the image is unavailable. 
Browsers that support the ToolTips feature display this text as a ToolTip.</p>

<p>Setting the property inside the designer.</p>
<p><img alt="" src="../sites/default/files/ControlPropertyAlternateCommentVersion3.png"></p>
<p>Images that can not be found in the address specified in the SRC property, or other reason why the image can not be rendered 
will display the alternate text set for the control</p>
<p><img alt="" src="../sites/default/files/ControlPropertyAlternateCommentRenderVersion3.png"></p>

<h3><span id="Comments">Comments</span></h3>
<p>This property adds a comment under the rendered image in the preview of the DynaForm or when running a case.</p>
<p>First, set the comment in the properties of the image:</p>
<p><img alt="" src="../sites/default/files/ControlPropertyCommentVersion3.png"></p>
<p>This comment will be visible when running a case:</p>
<p><img alt="" src="../sites/default/files/ControlPropertyCommentREnderVersion3.png"></p>

<h3><span id="Title">Title (mouse over)</span></h3>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray"> This property is not functional yet. Wait for next releases to get it working.</font></p>
<p>This property sets the text that will be shown when the mouse is hovered over the image.</p>

<h2><span id="Image_Control_Example">Image Control Example</span></h2>
<p>For this example add an "Image" control by dragging and dropping it from the left panel where the "Web Controls" are, onto the Dynaform canvas. The result of this action is shown in the image below.</p>
<p><img src="../sites/default/files/1PM3_DynaformFieldProperties_Image_AddControl.png"></p>
<p>Click on the empty space of the control to display its properties on the left hand panel.</p>
<p><img src="../sites/default/files/2PM3_DynaformFieldProperties_Image_Properties.png"></p>
<p>For this example the "id" property can be used with JavaScript code to add functionality and behavior to the form.</p>
<p><img src="../sites/default/files/3PM3_DynaformFieldProperties_Image_Id.png"></p>
<p>To do so, click on the light grey border of the DynaForm (which is the space outside the controls) to display the properties of the DynaForm. When the properties are displayed locate the "javascript" property and click on the "edit" button to open an editor.</p>
<p><img src="../sites/default/files/4PM3_DynaformFieldProperties_Image_JavaScript.png"></p>
<p>Custom JavaScript code can be added here, for the control to automatically call an image from a location established within the code. Use one of the functions mentioned in <a href="../3.0/Image_Control.html#JavaScript_Functions">this section</a>. For this example, add the following code:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;">$<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;image0000000001&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'http://wiki:processmaker.com/sites/default/files/full-logo.png'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>After adding this example function click on the "Save" button to store all changes.</p>
<p><img src="../sites/default/files/5PM3_DynaformFieldProperties_Image_JavaScriptEditor.png"></p>
<p> When saved, try running a case with this new change. The result of this is shown in the image below.</p>
<p><img src="../sites/default/files/6PM3_DynaformFieldProperties_Image_JavaScriptCodeResult.png"></p>
<p>Next is the "label" property which can be changed so when running a case it doesn't have a name like "image_1" and instead it can be named (for this example) "Enterprise Logo:"</p>
<p><img src="../sites/default/files/7PM3_DynaformFieldProperties_Label_EnterpriseLogo.png"></p>
<p>The next property is the "hint" property which will be used to show help to the user. For this example, add the following text: "This is the enterprise logo". When running a case an icon will appear on the right side corner of the control and when the mouse pointer is hovered over it the text added will be displayed as seen in the illustration below.</p>
<p><img src="../sites/default/files/8PM3_DynaformFieldProperties_Hint_Logo.png"></p>
<p>Next is the "src" property sets the URL address where an specific image is located. For this example, the ProcessMaker logo will be used, its URL is the following: "/sites/default/files/full-logo.png". Run a case and the image will be displayed on the control.</p>
<p><img src="../sites/default/files/9PM3_DynaformFieldProperties_Src_ShowingLogo.png"></p>
<p>The "shape" property involves an esthetic decision from the user and how he/she wants the image, being set in this field, to look like when a real case is running. Check <a href="../3.0/Image_Control.html#Src">this section</a> to learn how this property works.</p>
<p><img src="../sites/default/files/10PM3_DynaformFieldProperties_Shape_ThumbnailRoundedCircle.png"></p>
<p>Now, the "alternate text" property sets and alternative test that will be shown if the image is erased from its source or not available anymore. For this example, add the following text: "not available" and the result of this action is shown in the illustration below.</p>
<p><img src="../sites/default/files/11PM3_DynaformFieldProperties_AlternateText_NotAvailable.png"></p>
<p>The following feature is the "comment" property which adds a comment under the rendered image as observed in the image below.</p>
<p><img src="../sites/default/files/12PM3_DynaformFieldProperties_Comment_ReservedCopyrights.png"></p>
<p> For the "display more" property user have different options to give functionality to the control as seen in the image below.</p>
<p><img src="../sites/default/files/13PM3_DynaformFieldProperties_DisplayMode_AllModes.png"></p>
<p style="margin-left:25px"><strong><font color="green">Note:</font></strong> <font color="dimgray"> This property is not functional yet. Wait for next releases to get it working.</p>
<p>When this property is properly working, the result should look like the image below. </font></p>
<p><img src="../sites/default/files/14PM3_DynaformFieldProperties_Title(mouseover)_test.png"></p>

<h2><span id="Manipulating_Images_with_JavaScript">Manipulating Images with JavaScript</span></h2>
<p>To learn how to manipulate DynaForm controls using JavaScript, see <a href="../3.0/JavaScript_in_DynaForms.html">JavaScript in DynaForms</a>.</p>

<p>Images in ProcessMaker 3 have the following </i>field components</i>:</p>
<ul>
<li><b>Label:</b> The text displayed above or to the left of the image, which identifies it.</li>
<li><b>Value:</b> The URL (address) where the image is located.</li>
<li><b>Text:</b> The URL (address) where the image is located. This is the same as the <i>value</i>.</li>
</ul>
<!-- <p><img src="/sites/default/files/ProcessMaker3_Datetime_JavaScript_LabelValueText.png"></p> -->

<h3><span id="JavaScript_Methods">JavaScript Methods</span></h3>

<p>Some of the JavaScript methods to manipulate images include:</p>

<table style="width:auto;">
<tr>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><a href="../3.0/JavaScript_Functions_and_Methods.html#jQuery.28.22.23id.22.29_or_.24.28.22.23id.22.29">jQuery("#fieldID")</a>.<code><a href = "../3.0/JavaScript_Functions_and_Methods.html#control.getValue">getValue</code></a>()</td>
<td>Returns the URL (address) where the image is located.</td>
</tr>
<tr>
<td><a href="../3.0/JavaScript_Functions_and_Methods.html#jQuery.28.22.23id.22.29_or_.24.28.22.23id.22.29">jQuery("#fieldID")</a>.<code><a href = "../3.0/JavaScript_Functions_and_Methods.html#control.getText">getText</code></a>()</td>
<td>Returns the URL (address) where the image is located.</td>
</tr>
<tr>
<td><a href="../3.0/JavaScript_Functions_and_Methods.html#jQuery.28.22.23id.22.29_or_.24.28.22.23id.22.29">jQuery("#fieldID")</a>.<code><a href="../3.0/JavaScript_Functions_and_Methods.html#control.getLabel">getLabel</code></a>()</td>
<td>Returns the field's label, which is the text displayed above or to the left of the field to identify it.</td>
</tr>
<tr>
<td><a href="../3.0/JavaScript_Functions_and_Methods.html#jQuery.28.22.23id.22.29_or_.24.28.22.23id.22.29">jQuery("#fieldID")</a>.<code><a href="../3.0/JavaScript_Functions_and_Methods.html#control.setValue">setValue</a></code>("URL")</td>
<td>Sets the URL (address) where the image is located.</td>
</tr>
<tr>
<td><a href="../3.0/JavaScript_Functions_and_Methods.html#jQuery.28.22.23id.22.29_or_.24.28.22.23id.22.29">jQuery("#fieldID")</a>.<code><a href="../3.0/JavaScript_Functions_and_Methods.html#control.setText">setText</a></code>("URL")</td>
<td>Sets the URL (address) where the image is located.</td>
</tr>
<tr>
<td><a href="../3.0/JavaScript_Functions_and_Methods.html#jQuery.28.22.23id.22.29_or_.24.28.22.23id.22.29">jQuery("#fieldID")</a>.<code><a href="../3.0/JavaScript_Functions_and_Methods.html#control.setLabel">setLabel</code></a>("newLabel")</td>
<td>Sets the field's label, which is the text displayed above or to the left of the field to identify it.</td>
</tr>
</table>

<p>To see code examples for these methods, see <a href="../3.0/JavaScript_Functions_and_Methods.html" class="ref">JavaScript Functions and Methods</a>.</p>
<h3><span id="Changing_image_with_JavaScript">Changing the Image with JavaScript</span></h3>
<p>The properties of an image can be changed with JavaScript. In the following example, when the value of a dropdown box with the ID "roofType" changes to "Green_Roof", an image of a roof covered with vegetation is shown in an image with the ID "roofImage". When the dropdown's value changes to "Solar_Roof", an image of solar panels on a roof is displayed in the image field. </p>
<div class="geshifilter"><div class="jquery geshifilter-jquery" style="font-family:monospace;"><span style="color: #000066;">$</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#rootType&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setOnchange</span><span style="color: #009900;">&#40;</span> <span style="color: #003366; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span>newVal<span style="color: #339933;">,</span> oldVal<span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>newVal <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;Green_Roof&quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000066;">$</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#roofImage&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;http://example.com/images/greenRoof.jpg&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000066;">$</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#roofImage&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setLabel</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Green Roof&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp;elseif <span style="color: #009900;">&#40;</span>newVal <span style="color: #339933;">==</span> <span style="color: #3366CC;">&quot;Solar_Roof&quot;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000066;">$</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#roofImage&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;http://example.com/images/solarRoof.jpg&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #000066;">$</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#roofImage&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setLabel</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;Solar Roof&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span> </div></div>

<h2><span id="Manipulating_Images_with_PHP">Manipulating Images with PHP</span></h2>

<h3><span id="Setting_image_in_trigger">Setting the Image URL in a Trigger</span></h3>
<p>A trigger fired before a DynaForm can be used to set the URL of an image field. First, create a string variable in the interface of ProcessMaker. Then, create a trigger which will set the the URL in that variable. Finally, add that variable to the The properties of an image can be changed with JavaScript. 
<p>For example, a previous DynaForm has a dropdown box associated with the <code>@@roofType</code> variable. A trigger fired after this DynaForm will determine which URL to display in a subsequent DynaForm which contains an image field to show a picture of the type of roof. </p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/unset"><span style="color: #990000;">unset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>rootType<span style="color: #009900;">&#41;</span> or <a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>rootType<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>roofUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">elseif</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>rootType <span style="color: #339933;">==</span> <span style="color: #0000ff;">'Green_Roof'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>roofUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">'http://example.com/images/greenRoof.jpg'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">elseif</span> <span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>rootType <span style="color: #339933;">==</span> <span style="color: #0000ff;">'Solar_Roof'</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;<span style="color: #339933;">@@</span>roofUrl <span style="color: #339933;">=</span> <span style="color: #0000ff;">'http://example.com/images/solarRoof.jpg'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp;<span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span> </div></div>
<p>Then, in the subsequent DynaForm which has the image field to show a picture of the roof, place the @@imageUrl variable in its <b>src</b> property.</p>
<img src="../sites/default/files/setImageUrlForm.png">


<!-- example updated for PM 3.1-->
<h3><span id="Displaying_uploaded_image_files">Displaying Uploaded Image Files</span></h3>
<p>Trigger code can be used to look up an image file which was uploaded to a File control or an Input Document and construct the URL to display it in an Image control. In this example, a DynaForm has a File control and Image control below it. If the user uploads a file, then the image will be displayed below in the DynaForm.

<p><b>1.</b> Create an Input Document, whose <b>Allowed file extensions</b> is set to <code>*.jpg, *.jpeg, *.png, *.tiff</code> so it will only accept image files.</p>
<img src="../sites/default/files/3.1ImageControlExampleInputDoc.png">

<p><b>2.</b> Create a new variable whose name is "imageFile" and whose type is "File". Associate this variable with the Input Document that was just created.</p>
<img src="../sites/default/files/3.1ImageControlExampleCreateVar.png">

<p><b>3.</b> Create a DynaForm with the following controls:
<ul><li><p>Add a <a href="../3.0/File_control.html">File</a> control whose ID and variable is "imageFile".<br>
<img src="../sites/default/files/3.1ImageControlExampleDynaFormFile.png"> 
</p></li>

<li><p>Add a Image control whose ID is "displayImage" and place it below the File control. Set the Link's <b>src</b> property to <code>@@imageUrl</code> and its <b>alternate text</b> property to <code>@@imageFilename</code>, so that they can set by variables when the DynaForm is rendered.<br>
<img src="../sites/default/files/3.1ImageControlExampleDynaFormImage.png"> </p>
</li>

<li><p>Add a <a href="../3.0/Submit_and_Button_Controls.html#Submit">Submit</a> button whose ID and name is "showImage". If this button is clicked, then the uploaded image file will be displayed below.<br>
<img src="../sites/default/files/3.1ImageControlExampleDynaFormImage.png"> </p>
</li>

<li><p>Add a <a href="../3.0/Hidden_Control.html">Hidden</a> control whose ID is "hiddenVar001" and create a new string variable named "hiddenVar001" for this control.<br>
<img src="../sites/default/files/3.1ImageControlExampleDynaFormHidden.png">  </p>
</li>

<li><p>Finally, add a second <a href="../3.0/Submit_and_Button_Controls.html#Submit">Submit</a> button whose ID and name is "submit0000000001". If this button is clicked, the form will be submit.<br>
<img src="../sites/default/files/3.1ImageControlExampleDynaFormSubmit.png"> </p>
</li>
</ul>
 </p>

<p><b>4.</b> Click on the border of the DynaForm to see its properties and add the following JavaScript code to the DynaForm:</p>
<div class="geshifilter"><div class="javascript geshifilter-javascript" style="font-family:monospace;"><span style="color: #000066; font-weight: bold;">var</span> src <span style="color: #339933;">=</span> $<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#PMD-displayImage.img-responsive&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">attr</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">'src'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000066; font-weight: bold;">if</span> <span style="color: #009900;">&#40;</span>src <span style="color: #339933;">==</span> <span style="color: #3366CC;">'@@imageUrl'</span> <span style="color: #339933;">||</span> src <span style="color: #339933;">==</span> <span style="color: #3366CC;">''</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; $<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#displayImage&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">hide</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<br />
$<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#showImage&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">find</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;button&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">click</span><span style="color: #009900;">&#40;</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;$<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#hiddenVar001&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;show&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> &nbsp;<br />
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
$<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#submit0000000001&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">find</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;button&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">click</span><span style="color: #009900;">&#40;</span> <span style="color: #000066; font-weight: bold;">function</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp;$<span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;#hiddenVar001&quot;</span><span style="color: #009900;">&#41;</span>.<span style="color: #660066;">setValue</span><span style="color: #009900;">&#40;</span><span style="color: #3366CC;">&quot;&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>When the DynaForm loads, this code checks whether the image control has a URL in its <code>src</code> property. If not, then it hides the Image control. The second part of the code sets a value in the hidden control when the user clicks it. This allows the trigger code to check whether the "showImage" button was clicked by the user. The third part of the code cleans the Hidden control's value when the user clicks the "Submit" button in order to skip the trigger and submit the DynaForm.</p>

<p><b>5.</b> Add a trigger with the following code:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$fileField</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'imageFile'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set the Name property of the File control</span><br />
<span style="color: #000088;">$taskUID</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>TASK<span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to the ID of the task where the DynaForm is assigned</span><br />
<span style="color: #000088;">$stepPosition</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set the Dynaform's step position number in the task (first step is 1, second step is 2, etc)</span><br />
<br />
<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/isset"><span style="color: #990000;">isset</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>hiddenVar001<span style="color: #009900;">&#41;</span> and <span style="color: #339933;">!</span><a href="http://php.net/empty"><span style="color: #990000;">empty</span></a><span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>hiddenVar001<span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #000088;">$caseId</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span> &nbsp;<span style="color: #666666; font-style: italic;">//ID of the current case</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">//Use ORDER BY APP_DOC_INDEX DESC to get the last file uploaded to the File control</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">&quot;SELECT APP_DOC_UID, DOC_VERSION FROM APP_DOCUMENT<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WHERE APP_UID='<span style="color: #006699; font-weight: bold;">$caseId</span>' AND APP_DOC_FIELDNAME='<span style="color: #006699; font-weight: bold;">$fileField</span>' AND<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; APP_DOC_STATUS = 'ACTIVE' ORDER BY APP_DOC_INDEX DESC&quot;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$results</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #000088;">$query</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><a href="http://php.net/is_array"><span style="color: #990000;">is_array</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$results</span><span style="color: #009900;">&#41;</span> and <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$results</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">&gt;</span> <span style="color: #cc66cc;">0</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$fileId</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$results</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$fileVersion</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$results</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$d</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> AppDocument<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aFileInfo</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">load</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$fileId</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$aData</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'imageUrl'</span> &nbsp; &nbsp; &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">&quot;../cases/cases_ShowDocument?a=<span style="color: #006699; font-weight: bold;">$fileId</span>&amp;v=<span style="color: #006699; font-weight: bold;">$fileVersion</span>&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'imageFilename'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #000088;">$aFileInfo</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;APP_DOC_FILENAME&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #0000ff;">'showImage'</span> &nbsp; &nbsp; <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">''</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PMFSendVariables<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #000088;">$aData</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">//remove all previous uploaded files:</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">for</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$i</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">2</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span> <span style="color: #339933;">&lt;=</span> <a href="http://php.net/count"><span style="color: #990000;">count</span></a><span style="color: #009900;">&#40;</span><span style="color: #000088;">$results</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #000088;">$i</span><span style="color: #339933;">++</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000088;">$d</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">Remove</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$results</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'APP_DOC_UID'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #000088;">$results</span><span style="color: #009900;">&#91;</span><span style="color: #000088;">$i</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'DOC_VERSION'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<br />
&nbsp; <span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT STEP_UID_OBJ FROM STEP WHERE TAS_UID='<span style="color: #006699; font-weight: bold;">$taskUID</span>' and STEP_POSITION = '<span style="color: #006699; font-weight: bold;">$stepPosition</span>'&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; <span style="color: #339933;">@@</span>stepUIDObj<span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;STEP_UID_OBJ&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
<br />
&nbsp; PMFRedirectToStep<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #339933;">,</span> <span style="color: #0000ff;">'DYNAFORM'</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>stepUIDObj<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span></div></div>

<p>Set this trigger to fire <i>before</i> the step that follows the DynaForm or <i>before assignment</i> if the DynaForm is the last step in its task. In this example, the DynaForm is the only step, therefore the trigger will be placed <b>before assignment</b>.</p>

<p><img src="../sites/default/files/3.1ImageControlExampleSteps.png"></p>

<p>Do <b>NOT</b> set this trigger to fire immediately after the DynaForm because at that point, the file selected in the File control has not yet been saved in the database and stored in the server's file system.</p>

<p>This trigger code first checks whether the "Hidden" control variable has a value. If it is empty or unset, then the user didn't click on the "showImage" submit button. The trigger code uses:<br>
<ul><li>The <a href="../3.1/ProcessMaker_Functions.html#executeQuery.28.29">executeQuery()</a> function to look up the record for the uploaded file, which is stored in the <b><tt>APP_DOCUMENT</tt></b> table in the database.</li>
<li>The <a href="../3.0/Internal_Functions_and_Classes.html#AppDocument::Load.28.29">AppDocument::Load()</a> method is called to obtain the filename of the uploaded file. The "imageUrl" variable is set to the relative URL to the uploaded image file and the "imageFilename" variable is set to its filename.</li>
<li>The <a href="../3.1/ProcessMaker_Functions.html#PMFSendVariables.28.29">PMFSendVariables()</a> function is used to store these variables in the current case.</li>
<li>Then, the trigger loops through all the previous uploaded files and calls <a href="../3.0/Internal_Functions_and_Classes.html#AppDocument::remove.28.29">AppDocument::remove()</a> to delete them.</li>
<li>Finally, the trigger calls the <a href="../3.2/ProcessMaker_Functions.html#PMFRedirectToStep.28.29">PMFRedirectToStep</a> to redirect back to the DynaForm and display the image of the uploaded file.</li>
</ul>
</p>

<p>When a case is run, the user can select an image file in the File control:</p>
<p><img src="../sites/default/files/3.1ImageControlExampleFinal0.png"></p>

<p>When the user clicks on the "Display Image" button, the DynaForm will be redisplayed with the selected image file displayed below the File control:</p> 

<p><img src="../sites/default/files/3.1ImageControlExampleFinal.png"></p>
<p></p>
<p>To see a sample process containing this code example, download and import <a href="../sites/default/files/Display_image-1.pmx" download>Display_image-1.pmx</a> (<i>right click</i> on this link and select "Save as...").</p>
</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&amp;mt=8" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="../themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com/">
		<img src="../themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&amp;gid=3970335&amp;trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>

<!-- Mirrored from wiki.processmaker.com/node/603 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:35:26 GMT -->
</html>
