<!DOCTYPE html>

<!-- Mirrored from wiki.processmaker.com/3.2/ProcessMaker_Functions/Case_Routing_Functions by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:33:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="BPM, business process management, workflow, processmaker, business, BPM Windows, BPM Linux, wiki, BPM documentation, BPM FAQ, task documentation, BPM PHP, BPM Open Source, BPM Variables, BPM Installation, BPM Programming, BPM Elements, BPM Concepts, BPM Frequently Asked Questions, BPM 3.0, BPM News, Release notes, DynaForms, BPM Community, BPM Enterprise, BPM Mobile, BPM Responsive Web Design, User Manual, BPM Resources" />
<link rel="alternate" hreflang="en" href="../../index.html" />
<link rel="shortcut icon" href="../../themes/thecompany_responsive_theme/favicon.ico" type="image/vnd.microsoft.icon" />
<meta name="description" content="ProcessMaker is commercial open source workflow and business process management software." />
<meta name="viewport" content="width=device-width" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="Case_Routing_Functions.html" />
<link rel="shortlink" href="../../node/797.html" />
<title>3.2 - 3.8 - ProcessMaker Functions - Case Routing Functions | Documentation@ProcessMaker</title>
<style type="text/css" media="all">
@import url("../../modules/system/system.base2af9.css?s743n7");
@import url("../../modules/system/system.menus2af9.css?s743n7");
@import url("../../modules/system/system.messages2af9.css?s743n7");
@import url("../../modules/system/system.theme2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../../modules/aggregator/aggregator2af9.css?s743n7");
@import url("../../modules/comment/comment2af9.css?s743n7");
@import url("../../modules/field/theme/field2af9.css?s743n7");
@import url("../../modules/node/node2af9.css?s743n7");
@import url("../../modules/search/search2af9.css?s743n7");
@import url("../../modules/toc_filter/toc_filter2af9.css?s743n7");
@import url("../../modules/user/user2af9.css?s743n7");
@import url("../../modules/views/css/views2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../../sites/all/modules/colorbox/styles/default/colorbox_style2af9.css?s743n7");
@import url("../../modules/ctools/css/ctools2af9.css?s743n7");
@import url("../../sites/all/modules/geshifilter/geshifilter2af9.css?s743n7");
@import url("../../modules/panels/css/panels2af9.css?s743n7");
@import url("../../modules/nice_menus/css/nice_menus2af9.css?s743n7");
@import url("../../modules/nice_menus/css/nice_menus_default2af9.css?s743n7");
@import url("../../modules/fivestar/css/fivestar2af9.css?s743n7");
</style>
<style type="text/css" media="all">
@import url("../../themes/thecompany_responsive_theme/css/style2af9.css?s743n7");
@import url("../../themes/thecompany_responsive_theme/css/media2af9.css?s743n7");
</style>
<script type="text/javascript" src="../../modules/jquery_update/replace/jquery/1.9/jquery.min4b17.js?v=1.9.1"></script>
<script type="text/javascript" src="../../misc/jquery.once7839.js?v=1.2"></script>
<script type="text/javascript" src="../../misc/drupal2af9.js?s743n7"></script>
<script type="text/javascript" src="../../modules/nice_menus/js/jquery.bgiframef195.js?v=2.1"></script>
<script type="text/javascript" src="../../modules/nice_menus/js/jquery.hoverIntent1f6b.js?v=0.5"></script>
<script type="text/javascript" src="../../modules/nice_menus/js/superfish099d.js?v=1.4.8"></script>
<script type="text/javascript" src="../../modules/nice_menus/js/nice_menusc619.js?v=1.0"></script>
<script type="text/javascript" src="../../modules/jquery_update/replace/ui/external/jquery.cookie1683.js?v=67fb34f6a866c40d0570"></script>
<script type="text/javascript" src="../../modules/jquery_update/replace/misc/jquery.form.min97e5.js?v=2.69"></script>
<script type="text/javascript" src="../../misc/ajax2347.js?v=7.34"></script>
<script type="text/javascript" src="../../modules/jquery_update/js/jquery_update241d.js?v=0.0.1"></script>
<script type="text/javascript" src="../../modules/toc_filter/toc_filter2af9.js?s743n7"></script>
<script type="text/javascript" src="../../sites/all/modules/colorbox/js/colorbox2af9.js?s743n7"></script>
<script type="text/javascript" src="../../sites/all/modules/colorbox/styles/default/colorbox_style2af9.js?s743n7"></script>
<script type="text/javascript" src="../../sites/all/modules/google_analytics/googleanalytics2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
(function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,"script","../../../www.google-analytics.com/analytics.js","ga");ga("create", "UA-3380652-1", {"cookieDomain":"auto"});ga("set", "anonymizeIp", true);ga("send", "pageview");
//--><!]]>
</script>
<script type="text/javascript" src="../../misc/progress2347.js?v=7.34"></script>
<script type="text/javascript" src="../../modules/fivestar/js/fivestar.ajax2af9.js?s743n7"></script>
<script type="text/javascript" src="../../modules/fivestar/js/fivestar2af9.js?s743n7"></script>
<script type="text/javascript" src="../../themes/thecompany_responsive_theme/js/jquery-1.10.2.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../../themes/thecompany_responsive_theme/js/jquery-ui2af9.js?s743n7"></script>
<script type="text/javascript" src="../../themes/thecompany_responsive_theme/js/jquery-ui.min2af9.js?s743n7"></script>
<script type="text/javascript" src="../../themes/thecompany_responsive_theme/js/custom2af9.js?s743n7"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"thecompany_responsive_theme","theme_token":"pb1y3geGo6cNuTUdRqA8K7wWF_aaBP4j2s0li6sn_jc","jquery_version":"1.9","js":{"modules\/jquery_update\/replace\/jquery\/1.9\/jquery.min.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"modules\/nice_menus\/js\/jquery.bgiframe.js":1,"modules\/nice_menus\/js\/jquery.hoverIntent.js":1,"modules\/nice_menus\/js\/superfish.js":1,"modules\/nice_menus\/js\/nice_menus.js":1,"modules\/jquery_update\/replace\/ui\/external\/jquery.cookie.js":1,"modules\/jquery_update\/replace\/misc\/jquery.form.min.js":1,"misc\/ajax.js":1,"modules\/jquery_update\/js\/jquery_update.js":1,"modules\/toc_filter\/toc_filter.js":1,"sites\/all\/modules\/colorbox\/js\/colorbox.js":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.js":1,"sites\/all\/modules\/google_analytics\/googleanalytics.js":1,"0":1,"misc\/progress.js":1,"modules\/fivestar\/js\/fivestar.ajax.js":1,"modules\/fivestar\/js\/fivestar.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-1.10.2.min.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.js":1,"themes\/thecompany_responsive_theme\/js\/jquery-ui.min.js":1,"themes\/thecompany_responsive_theme\/js\/custom.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"modules\/aggregator\/aggregator.css":1,"modules\/comment\/comment.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/toc_filter\/toc_filter.css":1,"modules\/user\/user.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/modules\/colorbox\/styles\/default\/colorbox_style.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/geshifilter\/geshifilter.css":1,"modules\/panels\/css\/panels.css":1,"modules\/nice_menus\/css\/nice_menus.css":1,"modules\/nice_menus\/css\/nice_menus_default.css":1,"modules\/fivestar\/css\/fivestar.css":1,"themes\/thecompany_responsive_theme\/css\/style.css":1,"themes\/thecompany_responsive_theme\/css\/media.css":1}},"colorbox":{"opacity":"0.85","current":"{current} of {total}","previous":"\u00ab Prev","next":"Next \u00bb","close":"Close","maxWidth":"98%","maxHeight":"98%","fixed":true,"mobiledetect":true,"mobiledevicewidth":"480px","specificPagesDefaultValue":"admin*\nimagebrowser*\nimg_assist*\nimce*\nnode\/add\/*\nnode\/*\/edit\nprint\/*\nprintpdf\/*\nsystem\/ajax\nsystem\/ajax\/*"},"toc_filter_smooth_scroll_duration":"","googleanalytics":{"trackOutbound":1,"trackMailto":1,"trackDownload":1,"trackDownloadExtensions":"7z|aac|arc|arj|asf|asx|avi|bin|csv|doc(x|m)?|dot(x|m)?|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|msi|msp|pdf|phps|png|ppt(x|m)?|pot(x|m)?|pps(x|m)?|ppam|sld(x|m)?|thmx|qtm?|ra(m|r)?|sea|sit|tar|tgz|torrent|txt|wav|wma|wmv|wpd|xls(x|m|b)?|xlt(x|m)|xlam|xml|z|zip","trackColorbox":1},"nice_menus_options":{"delay":"800","speed":"slow"},"ajax":{"edit-vote--2":{"callback":"fivestar_ajax_submit","event":"change","url":"\/system\/ajax","submit":{"_triggering_element_name":"vote"}}}});
//--><!]]>
</script>
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
document,'script','../../../connect.facebook.net/en_US/fbevents.js');
// Insert Your Facebook Pixel ID below.
fbq('init', '735235999992228');
fbq('track', 'PageView');
</script>
<!-- Insert Your Facebook Pixel ID below. -->
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=735235999992228&amp;ev=PageView&amp;noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

</head>
<body class="html not-front not-logged-in no-sidebars page-node page-node- page-node-797 node-type-processmakerbpm">
    
<div class="wrap">

<div id="header_wrapper">
  <div id="inner_header_wrapper">

    <header id="header" role="banner">
      
      <div class="header_inner_wrapper">
        <div class="header_left">
                      <div id="logo">
              <a href="../../index.html" title="Home"><img src="../../sites/default/files/full-logo.png"/></a>
            </div>
                    	  <div class="menu_wrapper">
            <nav id="main-menu"  role="navigation">
              <a class="nav-toggle" href="#">Navigation</a>
              <div class="menu-navigation-container">
                <ul class="menu"><li class="first leaf"><a href="../../PM_Classic.html" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="leaf"><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="leaf"><a href="../../3.1/user_guide.html">User Guide</a></li>
<li class="leaf"><a href="../../3.1/developer_info.html">Developer Info</a></li>
<li class="leaf"><a href="../sys_administration.html">Sys Administration</a></li>
<li class="leaf"><a href="../../3.1/resources.html">Helpful Resources</a></li>
<li class="leaf"><a href="../../Sitemap.html">Sitemap</a></li>
<li class="last leaf"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>              </div>
              <div class="clear"></div>
            </nav>
          </div>
                  <!--  <h1 id="site-title">
            <a href="/" title="Home">Documentation@ProcessMaker</a>
            <div id="site-description"></div>
          </h1> -->
            
        </div>
      </div>
      <div class="header_right">
          <div class="region region-search">
  <div id="block-search-form" class="block block-search">

        <h2 >_</h2>
    
  <div class="content">
    <form action="https://wiki.processmaker.com/3.2/ProcessMaker_Functions/Case_Routing_Functions" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search </label>
 <input title="Enter the terms you wish to search for." placeholder="Search" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" class="form-text" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input type="submit" id="edit-submit" name="op" value="Search" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-XwIyZdwUHv0wMCsXNM2QfhJlsiuwAI08xQLR224x-aY" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
                  <h1 class="page-title">3.2 - 3.8 - ProcessMaker Functions - Case Routing Functions</h1>                <p class="page-title-suffix"></p>
                 <div style="margin-top: 5px;"></div>
      </div>
    </header>
    <div class="region-version">
      <span>Version: </span><ul><li><a  class="active-version">3.8</a></li><li><a  class="active-version">3.7</a></li><li><a  class="active-version">3.6</a></li><li><a  class="active-version">3.5</a></li><li><a  class="active-version">3.4</a></li><li><a  class="active-version">3.3</a></li><li><a  class="active-version">3.2</a></li><li><a href="../../3.1/ProcessMaker_Functions.html" class="">3.1</a></li><li><a href="../../3.0/ProcessMaker_Functions.html" class="">3.0</a></li><li><a href="../../index.php/ProcessMaker_Functions.html" class="">2.x</a></li></ul>    </div>
  </div>
</div>
<!-- <ul class="nice-menu nice-menu-down nice-menu-main-menu" id="nice-menu-0"><li class="menu-506 menu-path-node-1078 first odd "><a href="/PM_Classic" title="Learn how to develop business solutions in ProcessMaker Platform while maintaining your existing ProcessMaker 3 solutions in PM Classic: the perfect bridge between your new and existing solutions with a state-of--the-art BPM platform.">PM Classic</a></li>
<li class="menu-319 menu-path-processmakercom-tutorials  even "><a href="http://www.processmaker.com/tutorials" title="">Tutorials</a></li>
<li class="menu-320 menu-path-node-571  odd "><a href="/3.1/user_guide">User Guide</a></li>
<li class="menu-1138 menu-path-node-572  even "><a href="/3.1/developer_info">Developer Info</a></li>
<li class="menu-1197 menu-path-node-876  odd "><a href="/3.2/sys_administration">Sys Administration</a></li>
<li class="menu-1140 menu-path-node-236  even "><a href="/3.1/resources">Helpful Resources</a></li>
<li class="menu-1141 menu-path-node-554  odd "><a href="/Sitemap">Sitemap</a></li>
<li class="menu-1213 menu-path-sprocessmakergitbookio-processmaker-  even last"><a href="https://processmaker.gitbook.io/processmaker/" title="Read ProcessMaker Platform Spring 2023 documentation to learn more about the next generation of BPM.">ProcessMaker Platform</a></li>
</ul>
-->
  
  <div id="container">
    
    <div class="content-sidebar-wrap">

    <div id="content">

              <!-- <div id="breadcrumbs">
        <h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/">Home</a></div></div> -->
      
      <section id="post-content" role="main">
                                        <div class="region region-content">
  <div id="block-system-main" class="block block-system">

      
  <div class="content">
                          <span property="dc:title" content="3.2 - 3.8 - ProcessMaker Functions - Case Routing Functions" class="rdf-meta element-hidden"></span>  
      
    
  <div class="content node-processmakerbpm">
    <div class="field field-name-field-how-useful-did-you-find-th field-type-fivestar field-label-above"><div class="field-label">Please rate how useful you found this document:&nbsp;</div><div class="field-items"><div class="field-item even"><form class="fivestar-widget" action="https://wiki.processmaker.com/3.2/ProcessMaker_Functions/Case_Routing_Functions" method="post" id="fivestar-custom-widget" accept-charset="UTF-8"><div><div  class="clearfix fivestar-average-text fivestar-average-stars fivestar-form-item fivestar-default"><div class="form-item form-type-fivestar form-item-vote">
 <div class="form-item form-type-select form-item-vote">
 <select id="edit-vote--2" name="vote" class="form-select"><option value="-">Select rating</option><option value="20">Give 3.2 - 3.8 - ProcessMaker Functions - Case Routing Functions 1/5</option><option value="40" selected="selected">Give 3.2 - 3.8 - ProcessMaker Functions - Case Routing Functions 2/5</option><option value="60">Give 3.2 - 3.8 - ProcessMaker Functions - Case Routing Functions 3/5</option><option value="80">Give 3.2 - 3.8 - ProcessMaker Functions - Case Routing Functions 4/5</option><option value="100">Give 3.2 - 3.8 - ProcessMaker Functions - Case Routing Functions 5/5</option></select>
<div class="description"><div class="fivestar-summary fivestar-summary-average-count"><span class="average-rating">Average: <span >2</span></span> <span class="total-votes">(<span >5</span> votes)</span></div></div>
</div>

</div>
</div><input class="fivestar-submit form-submit" type="submit" id="edit-fivestar-submit" name="op" value="Rate" /><input type="hidden" name="form_build_id" value="form-mssWXRHucRI_Z3BX_WOceR-31NV_tXfEzx_76GzCETA" />
<input type="hidden" name="form_id" value="fivestar_custom_widget" />
</div></form></div></div></div><div class="field field-name-body field-type-text-with-summary field-label-hidden"><div class="field-items"><div class="field-item even" property="content:encoded"><div class="getting-started-index">
    <ul>
        <li><a href="../ProcessMaker_Functions.html">1. Overview</a></li>
        <li><a href="Process_Functions.html">2. Process Functions</a></li>
        <li><a href="Task_Functions.html">3. Task Functions</a></li>
        <li><a href="Dynaform_and_Field_Functions.html">4. Dynaform and Field Functions</a></li>
        <li><a href="../../3.7/ProcessMaker_Functions/Case_Functions.html">5. Case Functions</a></li>
        <li><a class="getting-started-index-active">6. Case Routing Functions</a></li>
        <li><a href="../../3.5/ProcessMaker_Functions/Case_Notes_Functions.html">7. Case Notes Functions</a></li>
        <li><a href="../../3.7/ProcessMaker_Functions/User_Functions.html">8. User Functions</a></li>
        <li><a href="Group_Functions.html">9. Group Functions</a></li>
        <li><a href="Email_Functions.html">10. Email Functions</a></li>
        <li><a href="Document_Functions.html">11. Document Functions</a></li>
        <li><a href="Unique_ID_Functions.html">12. Unique ID Functions</a></li>
        <li><a href="Date_Functions.html">13. Date Functions</a></li>
        <li><a href="String_Functions.html">14. String Functions</a></li>
        <li><a href="Database_Functions.html">15. Database Functions </a></li>
        <li><a href="Grid_Functions.html">16. Grid Functions</a></li>
    </ul>
</div>

<div class="getting-started-content">
<div style="float: right; margin-left: 5px; background-color: #f9f9f9; border: 1px solid #aaaaaa; padding: 5px;"><center><strong>Contents:</strong> [<a href="#" onclick="var el = document.getElementById('toc');
        var txt = ('innerText' in el)? 'innerText' : 'textContent';
        if (el.style.display=='none') { 
           el.style.display = '';
           document.getElementById('hideLabel')[txt] = 'hide';
        }
        else {
	        el.style.display = 'none';
           document.getElementById('hideLabel')[txt] = 'show';
        }"><span id="hideLabel">hide</span></a>]</b></center><div id="toc" ><ol class="toc">
<li class="toc"><a href="#Case_Routing_Functions">Case Routing Functions</a></li>
<ol class="toc">
<li class="toc"><a href="#PMFDerivateCase.28.29">PMFDerivateCase()</a></li>
<li class="toc"><a href="#jumping.28.29">jumping()</a></li>
<li class="toc"><a href="#PMFRedirectToStep.28.29">PMFRedirectToStep()</a></li>
<li class="toc"><a href="#PMFGetNextAssignedUser.28.29">PMFGetNextAssignedUser()</a></li>
<li class="toc"><a href="#PMFGetNextDerivationInfo.28.29">PMFGetNextDerivationInfo()</a></li>
</ol>
</div></div>

<!-- CASE ROUTING Functions -->
<h2><span id="Case_Routing_Functions">Case Routing Functions</span></h2>

<h3><span id="PMFDerivateCase.28.29">PMFDerivateCase()</span></h3>
<p>
<table border="1" cellpadding="1" cellspacing="1" style="width: 100%;">
<tbody>
<tr>
<td>
<font color="red"><b>Warning:</b></font> <font color=dimgrey> Please, take into consideration that this function is NOT supported in ProcessMaker Mobile. It will be available in future versions.</font>
</td>
</tr>
</tbody>
</table>
</p>

<p><code>PMFDerivateCase()</code> routes a case to the next task in the process.</p>

<codeblock><i>int</i> <strong>PMFDerivateCase</strong>(<i>string</i> caseUID, <i>int</i> delegation, <i>boolean</i> executeTriggersBeforeAssigment=false, <i>string</i> userUID = null)
</codeblock>

<p><strong>Parameters:</strong><br>
<ul><li><i>string</i> <strong>caseUID</strong>: The unique ID of the case to be routed, which can be found with <a href="#PMFCaseList.28.29">PMFCaseList()</a> or by querying the field <strong><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_UID</tt></strong>. The case UID of the current case is stored in the system variable <code>@@APPLICATION</code>.</li>
    <li><i>int</i> <strong>delegation</strong>: The delegation index of the task to be routed. The delegation index of the current case is stored in the system variable <code>@%INDEX</code>. Note that the delegation index changes with each new task in the case, so look up the index before calling this function.</li>
    <li><i>boolean</i> <strong>executeTriggersBeforeAssigment</strong>: <i>Optional parameter</i>. By default, it is set as <code>false</code>. If set to <strong><code>true</code></strong>, any triggers that are set to be fired before the case is assigned to the next user will be fired before routing the case. It is not recommended to set the value to true, because then the function will generate an infinite loop. If this value is set to <strong><code>false</code></strong> the trigger will be executed before assignment.</li>
<li><i>string</i> <b>userUID</b>: <i>Optional parameter.</i> The unique ID of the user who is assigned to the task indicated by the <code>delIndex number</code>, which should be an open task. If not included or set to <code>null</code>, then it will be set to the unique ID of the current logged-in user.</li>
</ul>
</p>

<p><strong>Return Value:</strong><br>Returns <code>1</code> if the new case was routed successfully; otherwise, returns <code>0</code> if an error occurred.</p>

<p><span style="color: green;"><strong>Note 1:</strong></span> <font color=dimgrey>If this function is called for the current task when running a case, then the case will be routed twice--once by <code>PMFDerivateCase()</code> and the second time by the interface running the case. To work around this problem, call the <a  href="http://php.net/manual/en/function.die.php">die()</a> function after <code>PMFDerivateCase()</code> to stop the processing and prevent the second routing. However, if <code>die()</code> is called after a Dynaform step, then it will stop the Dynaform data from getting saved to the database. In this case, use <a href="#PMFSendVariables.28.29">PMFSendVariables()</a> to save the data to the database before calling <code>PMFDerivateCase</code> and <code>die()</code>. See the example below.</font></p>

<p><span style="color: green;"><strong>Note 2:</strong></span> <font color=dimgrey>This function only works if the currently logged in user is assigned to the task indicated by the <code>delegation</code> parameter. If it is necessary to route a task that is assigned to another user, login as that user with web services and use <a href="../../3.0/ProcessMaker_WSDL_Web_Services.html#routeCase.28.29" title="ProcessMaker WSDL Web Services">routeCase()</a> instead of <code>PMFDerivateCase()</code>. See this <a href="../../3.0/Trigger_Examples.html#Skipping_the_Next_Task_in_a_Case" title="Trigger Examples">code example</a> for routing past the next task in the current case.</font></p>
<p><span style="color: green;"><strong>Note 3:</strong></span> <font color=dimgrey>The <code>PMFDerivateCase()</code> function can only route tasks that exist in the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION</tt></strong> table and whose status is <code>'OPEN'</code>. In other words, this function can't be called on past tasks that are already closed and future tasks that don't yet exist. To route the <i>next</i> task in the case, which doesn't yet exist, see <a href="../../3.0/Trigger_Examples.html#Skipping_the_Next_Task_in_a_Case" title="Trigger Examples">Skipping the Next Task in a Case</a>.</font></p>

<p><strong>Example 1:</strong><br>
Route the current case to the next task in the process and redirect the web browser back to <b>Home > Inbox</b> to see the case list:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">PMFDerivateCase<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Location: casesListExtJsRedirector&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p><strong>Example 2:</strong><br>
To route to a case immediately <i>after</i> a Dynaform step, the data from the Dynaform variables needs to be stored in the database with <code>PMFSendVariables()</code> before calling <code>die()</code>. For example, the Dynaform contains the variables "firstName", "lastName", "address" and "telephone", which need to be saved.</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$aVars</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">&quot;firstName&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>firstName<span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">&quot;lastName&quot;</span> &nbsp;<span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>lastName<span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">&quot;address&quot;</span> &nbsp; <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>address<span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">&quot;telephone&quot;</span> <span style="color: #339933;">=&gt;</span> <span style="color: #339933;">@@</span>telephone<br />
<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
PMFSendVariables<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #000088;">$aVars</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
PMFDerivateCase<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Location: casesListExtJsRedirector&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p><font color=green><b>Note:</b></font> <font color=dimgrey>If the trigger is set <i>before</i> the next step (or before assignment if the last step in the task), then it is not necessary to call PMFSendVariables() because the variables from the Dynaform will have already been saved to the database.</font></p>

<p><strong>Example 3:</strong><br>
To avoid having to click on the <b>Continue</b> button at the end of a task, create the following trigger, which is set <i>before assignment</i>:
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">PMFDerivateCase<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>
<p>If the next task is assigned to the same user as the current task, then it can be opened directly without going to the Inbox. Create the following trigger and set it to execute <i>after routing</i>:</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$caseUID</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$nextIndex</span> <span style="color: #339933;">=</span> <span style="color: #339933;">@%</span>INDEX <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/header"><span style="color: #990000;">header</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Location:cases_Open?APP_UID=<span style="color: #006699; font-weight: bold;">$caseUID</span>&amp;DEL_INDEX=<span style="color: #006699; font-weight: bold;">$nextIndex</span>&amp;action=draft&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<a href="http://php.net/die"><span style="color: #990000;">die</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="jumping.28.29">jumping()</span></h3>
<p><b><font color=green>Note:</font></b> <span style="color: dimgrey">Take into consideration that jumping() is not supported for Web Entries. The <code>jumping()</code> function redirects the user to the cases list, which does not apply to Web Entries.</span></p>
<p><code>jumping()</code> routes a case to the next task in the process (or terminates the case if at the last task in the process) and then displays the case list.</p>

<codeblock><i>void</i> <strong>jumping</strong>(<i>string</i> caseUID, <i>int</i> delegation)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><i>string</i> <strong>caseUID</strong>: The unique ID of the case to be routed. For the current case, use the system variable <code>@@APPLICATION</code>. For other cases, use <a href="#PMFCaseList">PMFCaseList()</a> to obtain the case UID, or do a database query to look up the case's unique ID in the field <strong><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_UID</tt></strong>. Note that the case's UID changes with each new task.</li>
    <li><i>int</i> <strong>delegation</strong>: The delegation index of the task to be routed. Counting starts from 1. For the current case, use the system variable <code>@%INDEX</code>. For other cases, use <a href="#PMFCaseList.28.29">PMFCase()</a> to obtain the delegation index, or do a database search in the field <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.DEL_INDEX</tt></strong>.</li></ul>

<p><strong>Return Value:</strong></p>
<p>None.</p>

<p><strong>Example:</strong></p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;">jumping<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="PMFRedirectToStep.28.29">PMFRedirectToStep()</span></h3>
<p><b><font color=red>Warning:</font></b> <span style="color: dimgrey">The PMFRedirectToStep function is not supported in the mobile version of Processmaker.</span></p>

<p><code>PMFRedirectToStep()</code> redirects a case to any step in the current task. For the step to be executed, the specified step must exist and if it contains a condition, it must evaluate to <strong><code>true</code></strong>. Any pending variables in the case will be saved before redirecting and any triggers set to execute before the step will by executed before showing the step. Note that any trigger code after PMFRedirectToStep() is called will not be executed, so it should be used as the last command in the trigger code. </p>

<codeblock><i>void</i> <strong>PMFRedirectToStep</strong>(<i>string</i> caseUID, <i>int</i> indexDelegation, <i>string</i> stepType, <i>string</i> stepUIDObject)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><i>string</i> <strong>caseUID</strong>: The unique ID of a case. For the current case, use the system variable <code>@@APPLICATION</code>. For other cases, look it up using the <a href="#PMFCaseList.28.29">PMFCaseList()</a> function or by doing a database query for the field <strong><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_UID</tt></strong>.</li>

    <li><i>int</i> <strong>delegation</strong>: The delegation index of a case. For the current case, use the system variable <code>@%INDEX</code>.</li>

    <li><i>string</i> <strong>stepType</strong>: The type of step, which can be <code>'DYNAFORM'</code>, <code>'INPUT_DOCUMENT'</code>, <code>'OUTPUT_DOCUMENT'</code>, or <code>'EXTERNAL'</code>.</li>

    <li><i>string</i> <strong>stepUIDObject</strong>: The unique ID of the object (e.g. Dynaform, Input Document, Output Document, etc.) in the step. This unique ID can be found by looking up the <strong><tt>wf_&lt;WORKSPACE&gt;.STEP.STEP_UID_OBJ</tt></strong> field in the database.</li>
</ul>

<p><strong>Return Value:</strong></p>
<p>None.</p>
<p><strong>Example:</strong></p>
<p>In the following code, the unique ID of the third step object is obtained with the <a href="#executeQuery.28.29">executeQuery</a> function after redirecting the task directly to the 3rd step with the <code>PMFRedirectToStep</code> function:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$result</span> <span style="color: #339933;">=</span> executeQuery<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;SELECT STEP_UID_OBJ FROM STEP WHERE TAS_UID='27028966657e19c5037c429053080948' and STEP_POSITION = 3&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #339933;">@@</span>stepUIDObj<span style="color: #339933;">=</span> <span style="color: #000088;">$result</span><span style="color: #009900;">&#91;</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;STEP_UID_OBJ&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">;</span><br />
PMFRedirectToStep<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #339933;">,</span> <span style="color: #0000ff;">'DYNAFORM'</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>stepUIDObj<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<h3><span id="PMFGetNextAssignedUser.28.29">PMFGetNextAssignedUser()</span></h3>
<p><code>PMFGetNextAssignedUser()</code> returns an array of information about the user designated (i.e., chosen out of the assignment pool) to work on the <i>next</i> task in a specified case.</p>

<codeblock><i>array</i> <strong>PMFGetNextAssignedUser</strong>(<i>string</i> application, <i>string</i> task, <i>int</i> delIndex,  <i>string</i> userUID)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><i>string</i> <strong>application</strong>:</code> The unique ID of a case. For the current case, use the system variable <code>@@APPLICATION</code>. For other cases, use the <a href="#PMFCaseList.28.29">PMFCaseList()</a> function or <a href="../../3.0/ProcessMaker_WSDL_Web_Services.html#caseList.28.29" title="ProcessMaker WSDL Web Services">caseList()</a> web service. Alternatively, query the <strong><tt>wf_&lt;WORKSPACE&gt;.APPLICATION.APP_UID</tt></strong> or <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.APP_UID</tt></strong> fields in the database</li>
    <li><i>string</i> <strong>task</strong>:</code> The unique ID of the task, which can be found by right clicking on the task in the process map and selecting <b>Properties</b> in the context menu. It can also be found with the <a href="../../3.0/ProcessMaker_WSDL_Web_Services.html#Task_List" title="ProcessMaker WSDL Web Services">taskList()</a> web service or by querying the <strong><tt>wf_&lt;WORKSPACE&gt;.TASK.TAS_UID</tt></strong> field in the database.</li>
    <li><i>int</i> <strong>delIndex</strong>:</code> <i>Optional.</i> The delegation index of the current task in the case. It is only necessary to set this parameter if calling this function in a script task or if not calling this function for the current case.
<li><i>string</i> <strong>userUID</strong>:</code> <i>Optional.</i> The unique ID of the user assigned to the case. It is only necessary to set this parameter if calling this function in a script task or if not calling this function for the current case.
</ul>
<p><strong>Return Value:</strong><br>An associative array of information about the user to be designated to work on the next task in the specified case, with the following elements:</p>
<ul><li><i>string</i> 'USR_UID':</code> The unique ID of the next assigned user.</li>
    <li><i>string</i> 'USR_USERNAME':</code> The username of the next assigned user.</li>
    <li><i>string</i> 'USR_FIRSTNAME':</code> The first name of the next assigned user.</li>
    <li><i>string</i> 'USR_LASTNAME':</code> The last name of the next assigned user.</li>
    <li><i>string</i> 'USR_EMAIL':</code> The email address of the next assigned user.</li>
</ul>

<p style="margin-left:25px"><strong><font color="red">Warning:</font></strong> <font color="dimgray"> This function only works reliably if called in certain circumstances; otherwise, it is recommended to get the next designated user by querying the <strong><tt>wf_&lt;WORKSPACE&gt;.APP_DELEGATION.USR_UID</tt></strong> field in the database in a trigger fired <i>after routing</i>. See this <a href="../../3.0/Notifications.html#For_Next_Tasks_with_Any_Type_of_Designation_Rule" title="Notifications">email example</a> and this <a href="../../3.0/Trigger_Examples.html#Skipping_the_Next_Task_in_a_Case" title="Trigger Examples">routing example</a>.</font></p>

<p>This function should <i>only</i> be used when the next task in the process has <a href="../../3.0/Processes.html#Cyclical_Assignment" title="Processes">cyclical assignment</a>, since this function checks who was the last user designated to work on the next task (which is stored in the <strong><tt>wf_&lt;WORKSPACE&gt;.TASK.TAS_LAST_ASSIGNED</tt></strong> field in the database) and then returns the next user in the list. That next user will be assigned to the next case that routes to the task; however, the next case may not be the case specified by the <code>$application</code> parameter. Therefore, it is recommended to use this function in processes that do NOT have multiple cases being executed at the same time. If the process might execute multiple simultaneous cases, then only call this function in a trigger that fires <i>before assignment</i>.</p>

<p style="margin-left:25px"><font color=green><b>Note:</b></font> <font color=dimgrey>If this function is not called for the next task in the specified case, meaning that the $task is not the next task in the case, then the following error message will be displayed:<br>
<code>Fatal error: Call to a member function getTaskUid() on null in <i>/opt/processmaker</i>/workflow/engine/classes/class.case.php on line 2351</code></font></p>

<p><strong>Example 1:</strong><br>
Send an email to the user designated to the next task in the current case, warning him/her about an upcoming case to work on. Send the first and last names of the next user as the variables <code>@#firstname</code> and <code>@#lastname</code> to insert into the email template:</p>

<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$taskUID</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'1220028735824ce9181a724086456364'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to task ID</span><br />
<span style="color: #000088;">$aUser</span> <span style="color: #339933;">=</span> PMFGetNextAssignedUser<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #000088;">$taskUID</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$aVars</span> <span style="color: #339933;">=</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'firstname'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$aUser</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_FIRSTNAME'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'lastname'</span><span style="color: #339933;">=&gt;</span><span style="color: #000088;">$aUser</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_LASTNAME'</span><span style="color: #009900;">&#93;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #0000ff;">'boss@example.com'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aUser</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_EMAIL'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'Upcoming case to work on'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'upcomingCase.html'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aVars</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p><strong>Example 2:</strong><br>
In a script task, send out an email to the user designated to the next task in the current case, warning him/her about an upcoming case to work on. Because it is a script task, it is necessary to set the delegation index of the current task and the UID of the user. Since the @%INDEX in script tasks is stuck in the number from the last normal task, 1 needs to be added to get the index for the current task.</p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #000088;">$taskUID</span> <span style="color: #339933;">=</span> <span style="color: #0000ff;">'1220028735824ce9181a724086456364'</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//set to task ID</span><br />
<span style="color: #000088;">$aUser</span> <span style="color: #339933;">=</span> PMFGetNextAssignedUser<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #000088;">$taskUID</span><span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> <span style="color: #339933;">@@</span>USER_LOGGED<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
PMFSendMessage<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #0000ff;">'boss@example.com'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$aUser</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">'USR_EMAIL'</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">''</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp;<span style="color: #0000ff;">'Upcoming case to work on'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'upcomingCase.html'</span><span style="color: #339933;">,</span> <a href="http://php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>


<h3><span id="PMFGetNextDerivationInfo.28.29">PMFGetNextDerivationInfo()</span></h3>

<p><code>PMFGetNextDerivationInfo()</code> retrieves the UID value, type of assignment of each task involved in the next routing and the UID values of the <a href="../../3.0/Managing_Users.html#Users">users</a> and <a href="../../3.0/Managing_Users.html#Groups">groups</a> assigned to each one of these tasks. The function evaluates what the subsequent tasks will be based on the current case status.
<ul><li>In case of a <a href="../../3.0/Gateways.html">Gateway</a>, the function evaluates the gateway conditions and the next task or tasks are returned. If these conditions are changed, then the function must be executed again to get the updated list of the next tasks.</li>
<li>In the case of Valued Based Assignment, the variable is evaluated to define the next users.</li>
<li>And in the case of parallel tasks, an array of all subsequent tasks is returned.</li></ul></p>

<codeblock><i>array</i> <strong>PMFGetNextDerivationInfo</strong>(<i>string</i> caseUID, <i>string</i> delIndex)
</codeblock>

<p><strong>Parameters:</strong></p>
<ul><li><i>string</i> <strong>caseUID</strong>: The unique ID of the case, which can be found in the following ways:
<ul><li>Use the <code>@@APPLICATION</code> system variable to get the unique ID of the current case.</li>
    <li>Use <a href="#PMFCaseList.28.29">PMFCaseList()</a>, <a href="../../index.php/Simple_Trigger_Web_Services.html#WSCaseList" title="Simple Trigger Web Services">WSCaseList()</a>, or the <a href="../../3.0/ProcessMaker_WSDL_Web_Services.html#caseList.28.29" title="3.0/ProcessMaker WSDL Web Services">caseList()</a> web service.</li></ul>
</li>
<li><i>string</i> <strong>delIndex</strong>: The delegation index of the current task in the case. For the current case, use the system variable <code>@%INDEX</code>.</li></ul>

<p><strong>Return Value:</strong></p>
<p>An array of associative arrays. Each one of these arrays contains the task ID, type of assignment, users and groups assigned to each one of the subsequent tasks. The array has the following structure:</p>
<codeblock>[0] <i>array</i>
(
    <i>associative array</i>
    (
        [<i>TaskUID1</i>] => value
        [<i>assignmentType</i>] => string
        [<i>Users</i>] => <i>array</i>
            [userUID1] => value
            [userUID2] => value
            [userUID3] => value
            ...
        [<i>Groups</i>] => <i>array</i>
            [groupUID1] => value
            [groupUID2] => value
            [groupUID3] => value
            ...
    )
)
[1] <i>array</i>
(
    <i>associative array</i>
    (
        [<i>TaskUID1</i>] => value
        [<i>assignmentType</i>] => string
        [<i>Users</i>] => <i>array</i>
            [userUID1] => value
            [userUID2] => value
            [userUID3] => value
            ...
        [<i>Groups</i>] => <i>array</i>
            [groupUID1] => value
            [groupUID2] => value
            [groupUID3] => value
            ...
    )
...
</codeblock>

<p><strong>Example:</strong></p>
<div class="geshifilter"><div class="php geshifilter-php" style="font-family:monospace;"><span style="color: #339933;">@@</span>nextderivationinfo <span style="color: #339933;">=</span> &nbsp;PMFGetNextDerivationInfo<span style="color: #009900;">&#40;</span><span style="color: #339933;">@@</span>APPLICATION<span style="color: #339933;">,</span> <span style="color: #339933;">@%</span>INDEX<span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></div>

<p>The variable @@nextderivationinfo obtains the UID values of the users and groups, and the type of assignment of each task belonging to the next route in the current case. The return value will show: </p>
<codeblock>Array (
    [0] => Array (
        [taskUid] => 1513061525703ed80a852e4097938551
        [assignmentType] => REPORT_TO
        [users] => Array (
            [0] => 5764160155703df3d460413079972555
        )
        [groups] => Array (
        )
    )
    [1] => Array (
        [taskUid] => 7843933105703ed59af8bf7030860154
        [assignmentType] => BALANCED
        [users] => Array (
            [0] => 5764160155703df3d460413079972555
            [1] => 3594665525703ee153f20c8004440048
        )
        [groups] => Array (
            [0] => 4433898925703eddbbac7d5066664808
            [1] => 7599792485703edeced1af8096618293
        )
    )
    [2] => Array (
        [taskUid] => 4588928225703ed5a56af22075961026
        [assignmentType] => MANUAL
        [users] => Array (
            [0] => 00000000000000000000000000000001
            [1] => 1475524905703ee63396449071456336
        )
        [groups] => Array (
            [0] => 4411010745703ede31505a5086018309
        )
    )
)
</codeblock>
</div>
<!-- END CASE ROUTING Functions -->

</div></div></div>  </div>

      <footer>
          </footer>
  
    </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
      </section>
    </div>
  
      
    </div>

      
</div>

 <!---add diego--->
  <div id="download-app-section" class="download-app mobile-none">
			<div class="row">
				<div class="col-md-12">
					<div class="text_app">Download our app</div>
							<a href="https://itunes.apple.com/us/app/processmaker/id992576284?ls=1&amp;mt=8" target="_blank">
								<img src="../../themes/thecompany_responsive_theme/images/appstore.png">
							<a href="https://play.google.com/store/apps/details?id=com.colosa.processmaker" target="_blank">
								<img src="../../themes/thecompany_responsive_theme/images/playstore.png">				
				</div>
			</div>
  </div>
  <!---end diego--->
<!----add diego----->    
		<div class="logo_processmaker"><a href="http://www.processmaker.com/">
		<img src="../../themes/thecompany_responsive_theme/images/logo_processmaker.png"></div>
<!----end diego----->
<div id="footer">
  <div id="footer_wrapper">
      </div>

  <div class="social-media-wrapper">
         <div id="social-media-icons">
       <ul>
       	<div class="text_contact">Contact us</div>
				<div class="text_number">+1-617-340-3377</div>
        <!--<li><a class="rss" href="/rss.xml">rss</a></li> <!--edit diego-->
        <li><a class="facebook" href="http://facebook.com/processmaker/" target="_blank" rel="me">facebook</a></li>
        <li><a class="twitter" href="https://twitter.com/processmaker" target="_blank" rel="me">twitter</a></li>
        <li><a class="gplus" href="https://www.google.com/+ProcessMakerOpenSource" target="_blank" rel="me">Gplus</a></li>
        <li><a class="linkedin" href="https://www.linkedin.com/groups?mostRecent=&amp;gid=3970335&amp;trk=my_groups-tile-flipgrp" target="_blank" rel="me">Linked in</a></li>
        <!--<li><a class="dribbble" href="http://dribbble.com" target="_blank" rel="me">Dribbble</a></li>
        <li><a class="vimeo" href="http://vimeo.com" target="_blank" rel="me">Vimeo</a></li>-->
        <li><a class="youtube" href="https://www.youtube.com/user/processmaker" target="_blank" rel="me">Youtube</a></li>
       </ul>
      </div>
      </div>
  
  <div class="footer_credit">
    <div class="footer_inner_credit">
           <div id="foot"><div class="region region-footer">
  <div id="block-block-2" class="block block-block">

      
  <div class="content">
    <p><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">Automate your Workflow with Business Process Management<br>Software licensed under the <a 1px="" class="external text" href="http://www.gnu.org/licenses/agpl.html" rel="nofollow" style="padding-right: 13px; color:white;">GNU Affero General Public License version 3</a><br>Contact us:&nbsp;<a class="external free" href="mailto:community@processmaker.com" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">community@processmaker.com</a><br><a class="external free" href="https://www.processmaker.com/privacy-statement" rel="nofollow" style="font-weight:bold;color:white;text-decoration:underline;">Privacy Statement</a></font><br><font style="font-family:arial,sans-serif; font-size:15px; font-weight: none; color:#FFF">© Copyright 2000-2024 ProcessMaker Inc. All rights reserved.</font></p>
  </div>
  
</div> <!-- /.block -->
</div>
 <!-- /.region -->
</div>
         
   <!-- <div id="copyright">
      <p class="copyright">Copyright &copy; 2024, Documentation@ProcessMaker </p>
      <!--<p class="credits"> Developed by  <a href="http://www.zymphonies.com">Zymphonies</a></p>
      <div class="clear"></div>
    </div>-->
  </div>
  
  </div>
</div>

</div>

<script type="text/javascript">
  /* <![CDATA[ */
  document.write (
    '<img src="https://marketing.processmaker.com/acton/bn/3812/visitor.gif?ts='+ new Date().getTime()+ '&ref='+escape(document.referrer) + '">'
  );
  /* ]]> */
</script>
  
</div>
    <style>
    .center-div{
        width: 100%;        
        margin: 0 auto;
        z-index:10000;
        position:fixed;
        bottom: 0px;
        cursor:pointer;
    }
    .round-popup{
        margin:0 auto;
        font-family: 'Montserrat', sans-serif;
        font-size: 15px;
        font-weight: lighter;
        width: 412px;
        height: 50px;
        padding-top: 7px;
        text-align: center;
        position:relative;
    }
    .round-popup-button{
        position:absolute;
        top: 11px;
        right: 15px;
        background: transparent;
        border:none;
        font-size:15px;
        font-weight:normal;
        line-height:20px;
        width:20px;
        height:20px;
        padding:0;
    }
    .round-background-blue{
        background: url('http://www.processmaker.com/uploads/blue.png')no-repeat;
        color:white;
        
    }
    #box-pm31-button-blue{
        color: rgba(255, 255, 255, 0.5);
    }
    
    #box-pm31-button-blue:active,#box-pm31-button-blue:focus{
        border:none;
        outline:none;
    }
    .round-background-blue a{
        color: white!important;
        text-decoration: none;
        font-size: 15px;
        line-height:45px;
        font-family:Montserrat, sans-serif;
    }
    .round-background-blue span{
        font-weight: bold;
    }
    /*WHITE background*/
    .round-background-white{
        background: url('http://www.processmaker.com/uploads/white.png')no-repeat;
        background-position-x: -9px;        
        color: #3397E1;
    }
    .round-background-white a:hover{
        color: #3397E1!important;
        text-decoration: none;
        font-size: 15px;
    }
    #box-pm31-button-white{
        color: rgba(51, 151, 225, 0.7);
    }
</style>
    <div id="box-pm31" class="center-div" style="display:none;">
        <div class="round-popup round-background-blue">
            <a onclick="ga('send', 'event', 'WikiBlueBanner','click','PM31Release');" href="http://www.processmaker.com/download-processmaker-landing-page">
                <span>ProcessMaker 3.1</span> is Here! Download Now <span style="font-size:20px;font-weigth:normal;">»</span>
            </a>
            <button id="box-pm31-button-blue" class="round-popup-button">&times;</button>
        </div>
    </div>
    <script>

function pmCreateCookie(name,value,days) {
    if (days) {
        var date = new Date();
        date.setTime(date.getTime()+(days*24*60*60*1000));
        var expires = "; expires="+date.toGMTString();
    }
    else var expires = "";
    document.cookie = name+"="+value+expires+"; path=/";
}

function pmReadCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
}

function pmEraseCookie(name) {
    createCookie(name,"",-1);
}



     jQuery(document).ready(function( $ ) {
        $('#box-pm31-button-blue').click(function(e){
                e.stopPropagation();
                $('#box-pm31').slideUp('fast');
                pmCreateCookie('ppcookie','val',10);
            });
        });
        jQuery(window).load(function() {
            if(pmReadCookie('ppcookie') !== 'val'){
                //jQuery('#box-pm31').delay( 2000 ).slideDown('slow');
            }
        });
    </script>
<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

<script type="text/javascript">
  (function() {
    window._pa = window._pa || {};
    // _pa.orderId = "myOrderId"; // OPTIONAL: attach unique conversion identifier to conversions
    // _pa.revenue = "19.99"; // OPTIONAL: attach dynamic purchase values to conversions
    // _pa.productId = "myProductId"; // OPTIONAL: Include product ID for use with dynamic ads
    var pa = document.createElement('script'); pa.type = 'text/javascript'; pa.async = true;
    pa.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + "//tag.marinsm.com/serve/586a7ec3a2ae6b728400003d.js";
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(pa, s);
  })();
</script>

</body>

<!-- Mirrored from wiki.processmaker.com/3.2/ProcessMaker_Functions/Case_Routing_Functions by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 08 Feb 2024 09:33:47 GMT -->
</html>
